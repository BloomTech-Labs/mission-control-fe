{"ast":null,"code":"/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n * \n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n * \n */\n!function (e, t) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = t() : \"function\" == typeof define && define.amd ? define([], t) : \"object\" == typeof exports ? exports.OktaAuth = t() : e.OktaAuth = t();\n}(\"undefined\" != typeof self ? self : this, function () {\n  return function (e) {\n    function t(r) {\n      if (n[r]) return n[r].exports;\n      var o = n[r] = {\n        i: r,\n        l: !1,\n        exports: {}\n      };\n      return e[r].call(o.exports, o, o.exports, t), o.l = !0, o.exports;\n    }\n\n    var n = {};\n    return t.m = e, t.c = n, t.d = function (e, n, r) {\n      t.o(e, n) || Object.defineProperty(e, n, {\n        configurable: !1,\n        enumerable: !0,\n        get: r\n      });\n    }, t.n = function (e) {\n      var n = e && e.__esModule ? function () {\n        return e.default;\n      } : function () {\n        return e;\n      };\n      return t.d(n, \"a\", n), n;\n    }, t.o = function (e, t) {\n      return Object.prototype.hasOwnProperty.call(e, t);\n    }, t.p = \"\", t(t.s = 11);\n  }([function (e, t) {\n    var n = e.exports;\n    n.stringToBase64Url = function (e) {\n      var t = btoa(e);\n      return n.base64ToBase64Url(t);\n    }, n.base64ToBase64Url = function (e) {\n      return e.replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/=+$/, \"\");\n    }, n.base64UrlToBase64 = function (e) {\n      return e.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    }, n.base64UrlToString = function (e) {\n      var t = n.base64UrlToBase64(e);\n\n      switch (t.length % 4) {\n        case 0:\n          break;\n\n        case 2:\n          t += \"==\";\n          break;\n\n        case 3:\n          t += \"=\";\n          break;\n\n        default:\n          throw \"Not a valid Base64Url\";\n      }\n\n      var r = atob(t);\n\n      try {\n        return decodeURIComponent(escape(r));\n      } catch (e) {\n        return r;\n      }\n    }, n.stringToBuffer = function (e) {\n      for (var t = new Uint8Array(e.length), n = 0; n < e.length; n++) t[n] = e.charCodeAt(n);\n\n      return t;\n    }, n.base64UrlDecode = function (e) {\n      return atob(n.base64UrlToBase64(e));\n    }, n.bind = function (e, t) {\n      var n = Array.prototype.slice.call(arguments, 2);\n      return function () {\n        var r = Array.prototype.slice.call(arguments);\n        return r = n.concat(r), e.apply(t, r);\n      };\n    }, n.isAbsoluteUrl = function (e) {\n      return /^(?:[a-z]+:)?\\/\\//i.test(e);\n    }, n.isString = function (e) {\n      return \"[object String]\" === Object.prototype.toString.call(e);\n    }, n.isObject = function (e) {\n      return \"[object Object]\" === Object.prototype.toString.call(e);\n    }, n.isNumber = function (e) {\n      return \"[object Number]\" === Object.prototype.toString.call(e);\n    }, n.isArray = function (e) {\n      return \"[object Array]\" === Object.prototype.toString.call(e);\n    }, n.isoToUTCString = function (e) {\n      var t = e.match(/\\d+/g),\n          n = Date.UTC(t[0], t[1] - 1, t[2], t[3], t[4], t[5]);\n      return new Date(n).toUTCString();\n    }, n.toQueryParams = function (e) {\n      var t = [];\n      if (null !== e) for (var n in e) e.hasOwnProperty(n) && void 0 !== e[n] && null !== e[n] && t.push(n + \"=\" + encodeURIComponent(e[n]));\n      return t.length ? \"?\" + t.join(\"&\") : \"\";\n    }, n.genRandomString = function (e) {\n      for (var t = \"abcdefghijklnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\", n = \"\", r = 0, o = t.length; r < e; ++r) n += t[Math.floor(Math.random() * o)];\n\n      return n;\n    }, n.extend = function () {\n      var e = arguments[0];\n      return [].slice.call(arguments, 1).forEach(function (t) {\n        for (var n in t) t.hasOwnProperty(n) && void 0 !== t[n] && (e[n] = t[n]);\n      }), e;\n    }, n.removeNils = function (e) {\n      var t = {};\n\n      for (var n in e) if (e.hasOwnProperty(n)) {\n        var r = e[n];\n        null !== r && void 0 !== r && (t[n] = r);\n      }\n\n      return t;\n    }, n.clone = function (e) {\n      if (e) {\n        var t = JSON.stringify(e);\n        if (t) return JSON.parse(t);\n      }\n\n      return e;\n    }, n.omit = function (e) {\n      var t = Array.prototype.slice.call(arguments, 1),\n          r = {};\n\n      for (var o in e) e.hasOwnProperty(o) && -1 == t.indexOf(o) && (r[o] = e[o]);\n\n      return n.clone(r);\n    }, n.find = function (e, t) {\n      for (var n = e.length; n--;) {\n        var r = e[n],\n            o = !0;\n\n        for (var i in t) if (t.hasOwnProperty(i) && r[i] !== t[i]) {\n          o = !1;\n          break;\n        }\n\n        if (o) return r;\n      }\n    }, n.getLink = function (e, t, r) {\n      if (e && e._links) {\n        var o = n.clone(e._links[t]);\n        return o && o.name && r ? o.name === r ? o : void 0 : o;\n      }\n    }, n.getNativeConsole = function () {\n      return \"undefined\" != typeof window ? window.console : \"undefined\" != typeof console ? console : void 0;\n    }, n.getConsole = function () {\n      var e = n.getNativeConsole();\n      return e && e.log ? e : {\n        log: function () {}\n      };\n    }, n.warn = function (e) {\n      n.getConsole().log(\"[okta-auth-sdk] WARN: \" + e);\n    }, n.deprecate = function (e) {\n      n.getConsole().log(\"[okta-auth-sdk] DEPRECATION: \" + e);\n    }, n.deprecateWrap = function (e, t) {\n      return function () {\n        return n.deprecate(e), t.apply(null, arguments);\n      };\n    }, n.removeTrailingSlash = function (e) {\n      if (e) {\n        var t = e.replace(/^\\s+|\\s+$/gm, \"\");\n        return t = t.replace(/\\/+$/, \"\");\n      }\n    }, n.isIE11OrLess = function () {\n      return !!document.documentMode && document.documentMode <= 11;\n    }, n.isFunction = function (e) {\n      return !!e && \"[object Function]\" === {}.toString.call(e);\n    };\n  }, function (e, t) {\n    function n(e, t) {\n      this.name = \"AuthSdkError\", this.message = e, this.errorCode = \"INTERNAL\", this.errorSummary = e, this.errorLink = \"INTERNAL\", this.errorId = \"INTERNAL\", this.errorCauses = [], t && (this.xhr = t);\n    }\n\n    n.prototype = new Error(), e.exports = n;\n  }, function (e, t) {\n    e.exports = {\n      STATE_TOKEN_KEY_NAME: \"oktaStateToken\",\n      DEFAULT_POLLING_DELAY: 500,\n      DEFAULT_MAX_CLOCK_SKEW: 300,\n      DEFAULT_CACHE_DURATION: 86400,\n      REDIRECT_OAUTH_PARAMS_COOKIE_NAME: \"okta-oauth-redirect-params\",\n      REDIRECT_STATE_COOKIE_NAME: \"okta-oauth-state\",\n      REDIRECT_NONCE_COOKIE_NAME: \"okta-oauth-nonce\",\n      TOKEN_STORAGE_NAME: \"okta-token-storage\",\n      CACHE_STORAGE_NAME: \"okta-cache-storage\",\n      PKCE_STORAGE_NAME: \"okta-pkce-storage\"\n    };\n  }, function (e, t, n) {\n    function r(e, t) {\n      t = t || {};\n      var n = t.url,\n          r = t.method,\n          o = t.args,\n          i = t.saveAuthnState,\n          f = t.accessToken,\n          p = !1 !== t.withCredentials,\n          l = e.options.storageUtil,\n          d = l.storage,\n          h = l.getHttpCache();\n\n      if (t.cacheResponse) {\n        var y = h.getStorage(),\n            g = y[n];\n        if (g && Date.now() / 1e3 < g.expiresAt) return a.resolve(g.response);\n      }\n\n      var v = {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        \"X-Okta-User-Agent-Extended\": e.userAgent\n      };\n      s.extend(v, e.options.headers, t.headers), f && s.isString(f) && (v.Authorization = \"Bearer \" + f);\n      var m,\n          w,\n          T = {\n        headers: v,\n        data: o || void 0,\n        withCredentials: p\n      };\n      return new a(e.options.httpRequestClient(r, n, T)).then(function (e) {\n        return w = e.responseText, w && s.isString(w) && (w = JSON.parse(w)), i && (w.stateToken || d.delete(c.STATE_TOKEN_KEY_NAME)), w && w.stateToken && w.expiresAt && d.set(c.STATE_TOKEN_KEY_NAME, w.stateToken, w.expiresAt), w && t.cacheResponse && h.updateStorage(n, {\n          expiresAt: Math.floor(Date.now() / 1e3) + c.DEFAULT_CACHE_DURATION,\n          response: w\n        }), w;\n      }).fail(function (t) {\n        var n = t.responseText || {};\n        if (s.isString(n)) try {\n          n = JSON.parse(n);\n        } catch (e) {\n          n = {\n            errorSummary: \"Unknown error\"\n          };\n        }\n        throw t.status >= 500 && (n.errorSummary = \"Unknown error\"), e.options.transformErrorXHR && (t = e.options.transformErrorXHR(s.clone(t))), m = new u(n, t), \"E0000011\" === m.errorCode && d.delete(c.STATE_TOKEN_KEY_NAME), m;\n      });\n    }\n\n    function o(e, t, n) {\n      t = s.isAbsoluteUrl(t) ? t : e.options.url + t;\n      var o = {\n        url: t,\n        method: \"GET\"\n      };\n      return s.extend(o, n), r(e, o);\n    }\n\n    function i(e, t, n, o) {\n      t = s.isAbsoluteUrl(t) ? t : e.options.url + t;\n      var i = {\n        url: t,\n        method: \"POST\",\n        args: n,\n        saveAuthnState: !0\n      };\n      return s.extend(i, o), r(e, i);\n    }\n\n    var s = n(0),\n        a = n(5),\n        u = n(22),\n        c = n(2);\n    e.exports = {\n      get: o,\n      post: i,\n      httpRequest: r\n    };\n  }, function (e, t, n) {\n    var r = n(14),\n        o = n(6),\n        i = n(2),\n        s = {};\n    s.browserHasLocalStorage = function () {\n      try {\n        var e = s.getLocalStorage();\n        return s.testStorage(e);\n      } catch (e) {\n        return !1;\n      }\n    }, s.browserHasSessionStorage = function () {\n      try {\n        var e = s.getSessionStorage();\n        return s.testStorage(e);\n      } catch (e) {\n        return !1;\n      }\n    }, s.getPKCEStorage = function () {\n      return s.browserHasLocalStorage() ? o(s.getLocalStorage(), i.PKCE_STORAGE_NAME) : s.browserHasSessionStorage() ? o(s.getSessionStorage(), i.PKCE_STORAGE_NAME) : o(s.getCookieStorage(), i.PKCE_STORAGE_NAME);\n    }, s.getHttpCache = function () {\n      return s.browserHasLocalStorage() ? o(s.getLocalStorage(), i.CACHE_STORAGE_NAME) : s.browserHasSessionStorage() ? o(s.getSessionStorage(), i.CACHE_STORAGE_NAME) : o(s.getCookieStorage(), i.CACHE_STORAGE_NAME);\n    }, s.getLocalStorage = function () {\n      return localStorage;\n    }, s.getSessionStorage = function () {\n      return sessionStorage;\n    }, s.getCookieStorage = function (e) {\n      return e = e || {}, {\n        getItem: s.storage.get,\n        setItem: function (t, n) {\n          s.storage.set(t, n, \"2200-01-01T00:00:00.000Z\", e.secure);\n        }\n      };\n    }, s.getInMemoryStorage = function () {\n      var e = {};\n      return {\n        getItem: function (t) {\n          return e[t];\n        },\n        setItem: function (t, n) {\n          e[t] = n;\n        }\n      };\n    }, s.testStorage = function (e) {\n      var t = \"okta-test-storage\";\n\n      try {\n        return e.setItem(t, t), e.removeItem(t), !0;\n      } catch (e) {\n        return !1;\n      }\n    }, s.storage = {\n      set: function (e, t, n, o) {\n        var i = {\n          path: \"/\",\n          secure: o\n        };\n        return Date.parse(n) && (i.expires = new Date(n)), r.set(e, t, i), s.storage.get(e);\n      },\n      get: function (e) {\n        return r.get(e);\n      },\n      delete: function (e) {\n        return r.remove(e, {\n          path: \"/\"\n        });\n      }\n    }, e.exports = s;\n  }, function (e, t, n) {\n    (function (t, n) {\n      /*!\n      *\n      * Copyright 2009-2012 Kris Kowal under the terms of the MIT\n      * license found at http://github.com/kriskowal/q/raw/master/LICENSE\n      *\n      * With parts by Tyler Close\n      * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found\n      * at http://www.opensource.org/licenses/mit-license.html\n      * Forked at ref_send.js version: 2009-05-11\n      *\n      * With parts by Mark Miller\n      * Copyright (C) 2011 Google Inc.\n      *\n      * Licensed under the Apache License, Version 2.0 (the \"License\");\n      * you may not use this file except in compliance with the License.\n      * You may obtain a copy of the License at\n      *\n      * http://www.apache.org/licenses/LICENSE-2.0\n      *\n      * Unless required by applicable law or agreed to in writing, software\n      * distributed under the License is distributed on an \"AS IS\" BASIS,\n      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n      * See the License for the specific language governing permissions and\n      * limitations under the License.\n      *\n      */\n      !function (t) {\n        \"use strict\";\n\n        if (\"function\" == typeof bootstrap) bootstrap(\"promise\", t);else {\n          e.exports = t();\n        }\n      }(function () {\n        \"use strict\";\n\n        function e(e) {\n          return function () {\n            return J.apply(e, arguments);\n          };\n        }\n\n        function r(e) {\n          return e === Object(e);\n        }\n\n        function o(e) {\n          return \"[object StopIteration]\" === ne(e) || e instanceof z;\n        }\n\n        function i(e, t) {\n          if (K && t.stack && \"object\" == typeof e && null !== e && e.stack && -1 === e.stack.indexOf(re)) {\n            for (var n = [], r = t; r; r = r.source) r.stack && n.unshift(r.stack);\n\n            n.unshift(e.stack);\n            var o = n.join(\"\\n\" + re + \"\\n\");\n            e.stack = s(o);\n          }\n        }\n\n        function s(e) {\n          for (var t = e.split(\"\\n\"), n = [], r = 0; r < t.length; ++r) {\n            var o = t[r];\n            c(o) || a(o) || !o || n.push(o);\n          }\n\n          return n.join(\"\\n\");\n        }\n\n        function a(e) {\n          return -1 !== e.indexOf(\"(module.js:\") || -1 !== e.indexOf(\"(node.js:\");\n        }\n\n        function u(e) {\n          var t = /at .+ \\((.+):(\\d+):(?:\\d+)\\)$/.exec(e);\n          if (t) return [t[1], Number(t[2])];\n          var n = /at ([^ ]+):(\\d+):(?:\\d+)$/.exec(e);\n          if (n) return [n[1], Number(n[2])];\n          var r = /.*@(.+):(\\d+)$/.exec(e);\n          return r ? [r[1], Number(r[2])] : void 0;\n        }\n\n        function c(e) {\n          var t = u(e);\n          if (!t) return !1;\n          var n = t[0],\n              r = t[1];\n          return n === q && r >= W && r <= ue;\n        }\n\n        function f() {\n          if (K) try {\n            throw new Error();\n          } catch (r) {\n            var e = r.stack.split(\"\\n\"),\n                t = e[0].indexOf(\"@\") > 0 ? e[1] : e[2],\n                n = u(t);\n            if (!n) return;\n            return q = n[0], n[1];\n          }\n        }\n\n        function p(e) {\n          return e instanceof y ? e : w(e) ? O(e) : _(e);\n        }\n\n        function l() {\n          function e(e) {\n            t = e, i.source = e, Y(n, function (t, n) {\n              p.nextTick(function () {\n                e.promiseDispatch.apply(e, n);\n              });\n            }, void 0), n = void 0, r = void 0;\n          }\n\n          var t,\n              n = [],\n              r = [],\n              o = Z(l.prototype),\n              i = Z(y.prototype);\n          if (i.promiseDispatch = function (e, o, i) {\n            var s = Q(arguments);\n            n ? (n.push(s), \"when\" === o && i[1] && r.push(i[1])) : p.nextTick(function () {\n              t.promiseDispatch.apply(t, s);\n            });\n          }, i.valueOf = function () {\n            if (n) return i;\n            var e = v(t);\n            return m(e) && (t = e), e;\n          }, i.inspect = function () {\n            return t ? t.inspect() : {\n              state: \"pending\"\n            };\n          }, p.longStackSupport && K) try {\n            throw new Error();\n          } catch (e) {\n            i.stack = e.stack.substring(e.stack.indexOf(\"\\n\") + 1);\n          }\n          return o.promise = i, o.resolve = function (n) {\n            t || e(p(n));\n          }, o.fulfill = function (n) {\n            t || e(_(n));\n          }, o.reject = function (n) {\n            t || e(x(n));\n          }, o.notify = function (e) {\n            t || Y(r, function (t, n) {\n              p.nextTick(function () {\n                n(e);\n              });\n            }, void 0);\n          }, o;\n        }\n\n        function d(e) {\n          if (\"function\" != typeof e) throw new TypeError(\"resolver must be a function.\");\n          var t = l();\n\n          try {\n            e(t.resolve, t.reject, t.notify);\n          } catch (e) {\n            t.reject(e);\n          }\n\n          return t.promise;\n        }\n\n        function h(e) {\n          return d(function (t, n) {\n            for (var r = 0, o = e.length; r < o; r++) p(e[r]).then(t, n);\n          });\n        }\n\n        function y(e, t, n) {\n          void 0 === t && (t = function (e) {\n            return x(new Error(\"Promise does not support operation: \" + e));\n          }), void 0 === n && (n = function () {\n            return {\n              state: \"unknown\"\n            };\n          });\n          var r = Z(y.prototype);\n\n          if (r.promiseDispatch = function (n, o, i) {\n            var s;\n\n            try {\n              s = e[o] ? e[o].apply(r, i) : t.call(r, o, i);\n            } catch (e) {\n              s = x(e);\n            }\n\n            n && n(s);\n          }, r.inspect = n, n) {\n            var o = n();\n            \"rejected\" === o.state && (r.exception = o.reason), r.valueOf = function () {\n              var e = n();\n              return \"pending\" === e.state || \"rejected\" === e.state ? r : e.value;\n            };\n          }\n\n          return r;\n        }\n\n        function g(e, t, n, r) {\n          return p(e).then(t, n, r);\n        }\n\n        function v(e) {\n          if (m(e)) {\n            var t = e.inspect();\n            if (\"fulfilled\" === t.state) return t.value;\n          }\n\n          return e;\n        }\n\n        function m(e) {\n          return e instanceof y;\n        }\n\n        function w(e) {\n          return r(e) && \"function\" == typeof e.then;\n        }\n\n        function T(e) {\n          return m(e) && \"pending\" === e.inspect().state;\n        }\n\n        function k(e) {\n          return !m(e) || \"fulfilled\" === e.inspect().state;\n        }\n\n        function b(e) {\n          return m(e) && \"rejected\" === e.inspect().state;\n        }\n\n        function E() {\n          oe.length = 0, ie.length = 0, ae || (ae = !0);\n        }\n\n        function S(e, n) {\n          ae && (\"object\" == typeof t && \"function\" == typeof t.emit && p.nextTick.runAfter(function () {\n            -1 !== X(ie, e) && (t.emit(\"unhandledRejection\", n, e), se.push(e));\n          }), ie.push(e), n && void 0 !== n.stack ? oe.push(n.stack) : oe.push(\"(no stack) \" + n));\n        }\n\n        function A(e) {\n          if (ae) {\n            var n = X(ie, e);\n            -1 !== n && (\"object\" == typeof t && \"function\" == typeof t.emit && p.nextTick.runAfter(function () {\n              var r = X(se, e);\n              -1 !== r && (t.emit(\"rejectionHandled\", oe[n], e), se.splice(r, 1));\n            }), ie.splice(n, 1), oe.splice(n, 1));\n          }\n        }\n\n        function x(e) {\n          var t = y({\n            when: function (t) {\n              return t && A(this), t ? t(e) : this;\n            }\n          }, function () {\n            return this;\n          }, function () {\n            return {\n              state: \"rejected\",\n              reason: e\n            };\n          });\n          return S(t, e), t;\n        }\n\n        function _(e) {\n          return y({\n            when: function () {\n              return e;\n            },\n            get: function (t) {\n              return e[t];\n            },\n            set: function (t, n) {\n              e[t] = n;\n            },\n            delete: function (t) {\n              delete e[t];\n            },\n            post: function (t, n) {\n              return null === t || void 0 === t ? e.apply(void 0, n) : e[t].apply(e, n);\n            },\n            apply: function (t, n) {\n              return e.apply(t, n);\n            },\n            keys: function () {\n              return te(e);\n            }\n          }, void 0, function () {\n            return {\n              state: \"fulfilled\",\n              value: e\n            };\n          });\n        }\n\n        function O(e) {\n          var t = l();\n          return p.nextTick(function () {\n            try {\n              e.then(t.resolve, t.reject, t.notify);\n            } catch (e) {\n              t.reject(e);\n            }\n          }), t.promise;\n        }\n\n        function U(e) {\n          return y({\n            isDef: function () {}\n          }, function (t, n) {\n            return M(e, t, n);\n          }, function () {\n            return p(e).inspect();\n          });\n        }\n\n        function C(e, t, n) {\n          return p(e).spread(t, n);\n        }\n\n        function R(e) {\n          return function () {\n            function t(e, t) {\n              var s;\n\n              if (\"undefined\" == typeof StopIteration) {\n                try {\n                  s = n[e](t);\n                } catch (e) {\n                  return x(e);\n                }\n\n                return s.done ? p(s.value) : g(s.value, r, i);\n              }\n\n              try {\n                s = n[e](t);\n              } catch (e) {\n                return o(e) ? p(e.value) : x(e);\n              }\n\n              return g(s, r, i);\n            }\n\n            var n = e.apply(this, arguments),\n                r = t.bind(t, \"next\"),\n                i = t.bind(t, \"throw\");\n            return r();\n          };\n        }\n\n        function j(e) {\n          p.done(p.async(e)());\n        }\n\n        function I(e) {\n          throw new z(e);\n        }\n\n        function P(e) {\n          return function () {\n            return C([this, N(arguments)], function (t, n) {\n              return e.apply(t, n);\n            });\n          };\n        }\n\n        function M(e, t, n) {\n          return p(e).dispatch(t, n);\n        }\n\n        function N(e) {\n          return g(e, function (e) {\n            var t = 0,\n                n = l();\n            return Y(e, function (r, o, i) {\n              var s;\n              m(o) && \"fulfilled\" === (s = o.inspect()).state ? e[i] = s.value : (++t, g(o, function (r) {\n                e[i] = r, 0 == --t && n.resolve(e);\n              }, n.reject, function (e) {\n                n.notify({\n                  index: i,\n                  value: e\n                });\n              }));\n            }, void 0), 0 === t && n.resolve(e), n.promise;\n          });\n        }\n\n        function D(e) {\n          if (0 === e.length) return p.resolve();\n          var t = p.defer(),\n              n = 0;\n          return Y(e, function (r, o, i) {\n            function s(e) {\n              t.resolve(e);\n            }\n\n            function a() {\n              0 === --n && t.reject(new Error(\"Can't get fulfillment value from any promise, all promises were rejected.\"));\n            }\n\n            function u(e) {\n              t.notify({\n                index: i,\n                value: e\n              });\n            }\n\n            var c = e[i];\n            n++, g(c, s, a, u);\n          }, void 0), t.promise;\n        }\n\n        function L(e) {\n          return g(e, function (e) {\n            return e = $(e, p), g(N($(e, function (e) {\n              return g(e, G, G);\n            })), function () {\n              return e;\n            });\n          });\n        }\n\n        function F(e) {\n          return p(e).allSettled();\n        }\n\n        function B(e, t) {\n          return p(e).then(void 0, void 0, t);\n        }\n\n        function H(e, t) {\n          return p(e).nodeify(t);\n        }\n\n        var K = !1;\n\n        try {\n          throw new Error();\n        } catch (e) {\n          K = !!e.stack;\n        }\n\n        var q,\n            z,\n            W = f(),\n            G = function () {},\n            V = function () {\n          function e() {\n            for (var e, t; o.next;) o = o.next, e = o.task, o.task = void 0, t = o.domain, t && (o.domain = void 0, t.enter()), r(e, t);\n\n            for (; c.length;) e = c.pop(), r(e);\n\n            s = !1;\n          }\n\n          function r(t, n) {\n            try {\n              t();\n            } catch (t) {\n              if (u) throw n && n.exit(), setTimeout(e, 0), n && n.enter(), t;\n              setTimeout(function () {\n                throw t;\n              }, 0);\n            }\n\n            n && n.exit();\n          }\n\n          var o = {\n            task: void 0,\n            next: null\n          },\n              i = o,\n              s = !1,\n              a = void 0,\n              u = !1,\n              c = [];\n          if (V = function (e) {\n            i = i.next = {\n              task: e,\n              domain: u && t.domain,\n              next: null\n            }, s || (s = !0, a());\n          }, \"object\" == typeof t && \"[object process]\" === t.toString() && t.nextTick) u = !0, a = function () {\n            t.nextTick(e);\n          };else if (\"function\" == typeof n) a = \"undefined\" != typeof window ? n.bind(window, e) : function () {\n            n(e);\n          };else if (\"undefined\" != typeof MessageChannel) {\n            var f = new MessageChannel();\n\n            f.port1.onmessage = function () {\n              a = p, f.port1.onmessage = e, e();\n            };\n\n            var p = function () {\n              f.port2.postMessage(0);\n            };\n\n            a = function () {\n              setTimeout(e, 0), p();\n            };\n          } else a = function () {\n            setTimeout(e, 0);\n          };\n          return V.runAfter = function (e) {\n            c.push(e), s || (s = !0, a());\n          }, V;\n        }(),\n            J = Function.call,\n            Q = e(Array.prototype.slice),\n            Y = e(Array.prototype.reduce || function (e, t) {\n          var n = 0,\n              r = this.length;\n          if (1 === arguments.length) for (;;) {\n            if (n in this) {\n              t = this[n++];\n              break;\n            }\n\n            if (++n >= r) throw new TypeError();\n          }\n\n          for (; n < r; n++) n in this && (t = e(t, this[n], n));\n\n          return t;\n        }),\n            X = e(Array.prototype.indexOf || function (e) {\n          for (var t = 0; t < this.length; t++) if (this[t] === e) return t;\n\n          return -1;\n        }),\n            $ = e(Array.prototype.map || function (e, t) {\n          var n = this,\n              r = [];\n          return Y(n, function (o, i, s) {\n            r.push(e.call(t, i, s, n));\n          }, void 0), r;\n        }),\n            Z = Object.create || function (e) {\n          function t() {}\n\n          return t.prototype = e, new t();\n        },\n            ee = e(Object.prototype.hasOwnProperty),\n            te = Object.keys || function (e) {\n          var t = [];\n\n          for (var n in e) ee(e, n) && t.push(n);\n\n          return t;\n        },\n            ne = e(Object.prototype.toString);\n\n        z = \"undefined\" != typeof ReturnValue ? ReturnValue : function (e) {\n          this.value = e;\n        };\n        var re = \"From previous event:\";\n        p.resolve = p, p.nextTick = V, p.longStackSupport = !1, \"object\" == typeof t && t && t.env && t.env.Q_DEBUG && (p.longStackSupport = !0), p.defer = l, l.prototype.makeNodeResolver = function () {\n          var e = this;\n          return function (t, n) {\n            t ? e.reject(t) : arguments.length > 2 ? e.resolve(Q(arguments, 1)) : e.resolve(n);\n          };\n        }, p.Promise = d, p.promise = d, d.race = h, d.all = N, d.reject = x, d.resolve = p, p.passByCopy = function (e) {\n          return e;\n        }, y.prototype.passByCopy = function () {\n          return this;\n        }, p.join = function (e, t) {\n          return p(e).join(t);\n        }, y.prototype.join = function (e) {\n          return p([this, e]).spread(function (e, t) {\n            if (e === t) return e;\n            throw new Error(\"Can't join: not the same: \" + e + \" \" + t);\n          });\n        }, p.race = h, y.prototype.race = function () {\n          return this.then(p.race);\n        }, p.makePromise = y, y.prototype.toString = function () {\n          return \"[object Promise]\";\n        }, y.prototype.then = function (e, t, n) {\n          function r(t) {\n            try {\n              return \"function\" == typeof e ? e(t) : t;\n            } catch (e) {\n              return x(e);\n            }\n          }\n\n          function o(e) {\n            if (\"function\" == typeof t) {\n              i(e, a);\n\n              try {\n                return t(e);\n              } catch (e) {\n                return x(e);\n              }\n            }\n\n            return x(e);\n          }\n\n          function s(e) {\n            return \"function\" == typeof n ? n(e) : e;\n          }\n\n          var a = this,\n              u = l(),\n              c = !1;\n          return p.nextTick(function () {\n            a.promiseDispatch(function (e) {\n              c || (c = !0, u.resolve(r(e)));\n            }, \"when\", [function (e) {\n              c || (c = !0, u.resolve(o(e)));\n            }]);\n          }), a.promiseDispatch(void 0, \"when\", [void 0, function (e) {\n            var t,\n                n = !1;\n\n            try {\n              t = s(e);\n            } catch (e) {\n              if (n = !0, !p.onerror) throw e;\n              p.onerror(e);\n            }\n\n            n || u.notify(t);\n          }]), u.promise;\n        }, p.tap = function (e, t) {\n          return p(e).tap(t);\n        }, y.prototype.tap = function (e) {\n          return e = p(e), this.then(function (t) {\n            return e.fcall(t).thenResolve(t);\n          });\n        }, p.when = g, y.prototype.thenResolve = function (e) {\n          return this.then(function () {\n            return e;\n          });\n        }, p.thenResolve = function (e, t) {\n          return p(e).thenResolve(t);\n        }, y.prototype.thenReject = function (e) {\n          return this.then(function () {\n            throw e;\n          });\n        }, p.thenReject = function (e, t) {\n          return p(e).thenReject(t);\n        }, p.nearer = v, p.isPromise = m, p.isPromiseAlike = w, p.isPending = T, y.prototype.isPending = function () {\n          return \"pending\" === this.inspect().state;\n        }, p.isFulfilled = k, y.prototype.isFulfilled = function () {\n          return \"fulfilled\" === this.inspect().state;\n        }, p.isRejected = b, y.prototype.isRejected = function () {\n          return \"rejected\" === this.inspect().state;\n        };\n        var oe = [],\n            ie = [],\n            se = [],\n            ae = !0;\n        p.resetUnhandledRejections = E, p.getUnhandledReasons = function () {\n          return oe.slice();\n        }, p.stopUnhandledRejectionTracking = function () {\n          E(), ae = !1;\n        }, E(), p.reject = x, p.fulfill = _, p.master = U, p.spread = C, y.prototype.spread = function (e, t) {\n          return this.all().then(function (t) {\n            return e.apply(void 0, t);\n          }, t);\n        }, p.async = R, p.spawn = j, p.return = I, p.promised = P, p.dispatch = M, y.prototype.dispatch = function (e, t) {\n          var n = this,\n              r = l();\n          return p.nextTick(function () {\n            n.promiseDispatch(r.resolve, e, t);\n          }), r.promise;\n        }, p.get = function (e, t) {\n          return p(e).dispatch(\"get\", [t]);\n        }, y.prototype.get = function (e) {\n          return this.dispatch(\"get\", [e]);\n        }, p.set = function (e, t, n) {\n          return p(e).dispatch(\"set\", [t, n]);\n        }, y.prototype.set = function (e, t) {\n          return this.dispatch(\"set\", [e, t]);\n        }, p.del = p.delete = function (e, t) {\n          return p(e).dispatch(\"delete\", [t]);\n        }, y.prototype.del = y.prototype.delete = function (e) {\n          return this.dispatch(\"delete\", [e]);\n        }, p.mapply = p.post = function (e, t, n) {\n          return p(e).dispatch(\"post\", [t, n]);\n        }, y.prototype.mapply = y.prototype.post = function (e, t) {\n          return this.dispatch(\"post\", [e, t]);\n        }, p.send = p.mcall = p.invoke = function (e, t) {\n          return p(e).dispatch(\"post\", [t, Q(arguments, 2)]);\n        }, y.prototype.send = y.prototype.mcall = y.prototype.invoke = function (e) {\n          return this.dispatch(\"post\", [e, Q(arguments, 1)]);\n        }, p.fapply = function (e, t) {\n          return p(e).dispatch(\"apply\", [void 0, t]);\n        }, y.prototype.fapply = function (e) {\n          return this.dispatch(\"apply\", [void 0, e]);\n        }, p.try = p.fcall = function (e) {\n          return p(e).dispatch(\"apply\", [void 0, Q(arguments, 1)]);\n        }, y.prototype.fcall = function () {\n          return this.dispatch(\"apply\", [void 0, Q(arguments)]);\n        }, p.fbind = function (e) {\n          var t = p(e),\n              n = Q(arguments, 1);\n          return function () {\n            return t.dispatch(\"apply\", [this, n.concat(Q(arguments))]);\n          };\n        }, y.prototype.fbind = function () {\n          var e = this,\n              t = Q(arguments);\n          return function () {\n            return e.dispatch(\"apply\", [this, t.concat(Q(arguments))]);\n          };\n        }, p.keys = function (e) {\n          return p(e).dispatch(\"keys\", []);\n        }, y.prototype.keys = function () {\n          return this.dispatch(\"keys\", []);\n        }, p.all = N, y.prototype.all = function () {\n          return N(this);\n        }, p.any = D, y.prototype.any = function () {\n          return D(this);\n        }, p.allResolved = function (e, t, n) {\n          return function () {\n            return \"undefined\" != typeof console && \"function\" == typeof console.warn && console.warn(t + \" is deprecated, use \" + n + \" instead.\", new Error(\"\").stack), e.apply(e, arguments);\n          };\n        }(L, \"allResolved\", \"allSettled\"), y.prototype.allResolved = function () {\n          return L(this);\n        }, p.allSettled = F, y.prototype.allSettled = function () {\n          return this.then(function (e) {\n            return N($(e, function (e) {\n              function t() {\n                return e.inspect();\n              }\n\n              return e = p(e), e.then(t, t);\n            }));\n          });\n        }, p.fail = p.catch = function (e, t) {\n          return p(e).then(void 0, t);\n        }, y.prototype.fail = y.prototype.catch = function (e) {\n          return this.then(void 0, e);\n        }, p.progress = B, y.prototype.progress = function (e) {\n          return this.then(void 0, void 0, e);\n        }, p.fin = p.finally = function (e, t) {\n          return p(e).finally(t);\n        }, y.prototype.fin = y.prototype.finally = function (e) {\n          return e = p(e), this.then(function (t) {\n            return e.fcall().then(function () {\n              return t;\n            });\n          }, function (t) {\n            return e.fcall().then(function () {\n              throw t;\n            });\n          });\n        }, p.done = function (e, t, n, r) {\n          return p(e).done(t, n, r);\n        }, y.prototype.done = function (e, n, r) {\n          var o = function (e) {\n            p.nextTick(function () {\n              if (i(e, s), !p.onerror) throw e;\n              p.onerror(e);\n            });\n          },\n              s = e || n || r ? this.then(e, n, r) : this;\n\n          \"object\" == typeof t && t && t.domain && (o = t.domain.bind(o)), s.then(void 0, o);\n        }, p.timeout = function (e, t, n) {\n          return p(e).timeout(t, n);\n        }, y.prototype.timeout = function (e, t) {\n          var n = l(),\n              r = setTimeout(function () {\n            t && \"string\" != typeof t || (t = new Error(t || \"Timed out after \" + e + \" ms\"), t.code = \"ETIMEDOUT\"), n.reject(t);\n          }, e);\n          return this.then(function (e) {\n            clearTimeout(r), n.resolve(e);\n          }, function (e) {\n            clearTimeout(r), n.reject(e);\n          }, n.notify), n.promise;\n        }, p.delay = function (e, t) {\n          return void 0 === t && (t = e, e = void 0), p(e).delay(t);\n        }, y.prototype.delay = function (e) {\n          return this.then(function (t) {\n            var n = l();\n            return setTimeout(function () {\n              n.resolve(t);\n            }, e), n.promise;\n          });\n        }, p.nfapply = function (e, t) {\n          return p(e).nfapply(t);\n        }, y.prototype.nfapply = function (e) {\n          var t = l(),\n              n = Q(e);\n          return n.push(t.makeNodeResolver()), this.fapply(n).fail(t.reject), t.promise;\n        }, p.nfcall = function (e) {\n          var t = Q(arguments, 1);\n          return p(e).nfapply(t);\n        }, y.prototype.nfcall = function () {\n          var e = Q(arguments),\n              t = l();\n          return e.push(t.makeNodeResolver()), this.fapply(e).fail(t.reject), t.promise;\n        }, p.nfbind = p.denodeify = function (e) {\n          var t = Q(arguments, 1);\n          return function () {\n            var n = t.concat(Q(arguments)),\n                r = l();\n            return n.push(r.makeNodeResolver()), p(e).fapply(n).fail(r.reject), r.promise;\n          };\n        }, y.prototype.nfbind = y.prototype.denodeify = function () {\n          var e = Q(arguments);\n          return e.unshift(this), p.denodeify.apply(void 0, e);\n        }, p.nbind = function (e, t) {\n          var n = Q(arguments, 2);\n          return function () {\n            function r() {\n              return e.apply(t, arguments);\n            }\n\n            var o = n.concat(Q(arguments)),\n                i = l();\n            return o.push(i.makeNodeResolver()), p(r).fapply(o).fail(i.reject), i.promise;\n          };\n        }, y.prototype.nbind = function () {\n          var e = Q(arguments, 0);\n          return e.unshift(this), p.nbind.apply(void 0, e);\n        }, p.nmapply = p.npost = function (e, t, n) {\n          return p(e).npost(t, n);\n        }, y.prototype.nmapply = y.prototype.npost = function (e, t) {\n          var n = Q(t || []),\n              r = l();\n          return n.push(r.makeNodeResolver()), this.dispatch(\"post\", [e, n]).fail(r.reject), r.promise;\n        }, p.nsend = p.nmcall = p.ninvoke = function (e, t) {\n          var n = Q(arguments, 2),\n              r = l();\n          return n.push(r.makeNodeResolver()), p(e).dispatch(\"post\", [t, n]).fail(r.reject), r.promise;\n        }, y.prototype.nsend = y.prototype.nmcall = y.prototype.ninvoke = function (e) {\n          var t = Q(arguments, 1),\n              n = l();\n          return t.push(n.makeNodeResolver()), this.dispatch(\"post\", [e, t]).fail(n.reject), n.promise;\n        }, p.nodeify = H, y.prototype.nodeify = function (e) {\n          if (!e) return this;\n          this.then(function (t) {\n            p.nextTick(function () {\n              e(null, t);\n            });\n          }, function (t) {\n            p.nextTick(function () {\n              e(t);\n            });\n          });\n        }, p.noConflict = function () {\n          throw new Error(\"Q.noConflict only works when Q is used as a global\");\n        };\n        var ue = f();\n        return p;\n      });\n    }).call(t, n(8), n(20).setImmediate);\n  }, function (e, t, n) {\n    function r(e, t) {\n      function n() {\n        var n = e.getItem(t);\n        n = n || \"{}\";\n\n        try {\n          return JSON.parse(n);\n        } catch (e) {\n          throw new o(\"Unable to parse storage string: \" + t);\n        }\n      }\n\n      function r(n) {\n        try {\n          var r = JSON.stringify(n);\n          e.setItem(t, r);\n        } catch (e) {\n          throw new o(\"Unable to set storage: \" + t);\n        }\n      }\n\n      function i(e) {\n        e || r({});\n        var t = n();\n        delete t[e], r(t);\n      }\n\n      function s(e, t) {\n        var o = n();\n        o[e] = t, r(o);\n      }\n\n      if (\"string\" != typeof t || !t.length) throw new o('\"storageName\" is required');\n      return {\n        getStorage: n,\n        setStorage: r,\n        clearStorage: i,\n        updateStorage: s\n      };\n    }\n\n    var o = n(1);\n    e.exports = r;\n  }, function (e, t, n) {\n    function r(e, t) {\n      var n = {};\n      return v.extend(n, t), !n.stateToken && e.stateToken && (n.stateToken = e.stateToken), n;\n    }\n\n    function o(e) {\n      return r(e);\n    }\n\n    function i(e, t) {\n      return t = r(e, t), g.post(e, e.options.url + \"/api/v1/authn\", t);\n    }\n\n    function s(e, t) {\n      if (!t || !t.stateToken) {\n        var n = e.tx.exists._get(k.STATE_TOKEN_KEY_NAME);\n\n        if (!n) return m.reject(new w(\"No transaction to resume\"));\n        t = {\n          stateToken: n\n        };\n      }\n\n      return e.tx.status(t).then(function (t) {\n        return new y(e, t);\n      });\n    }\n\n    function a(e, t) {\n      if (!t || !t.stateToken) {\n        var n = e.tx.exists._get(k.STATE_TOKEN_KEY_NAME);\n\n        if (!n) return m.reject(new w(\"No transaction to evaluate\"));\n        t = {\n          stateToken: n\n        };\n      }\n\n      return u(e, t).then(function (t) {\n        return new y(e, t);\n      });\n    }\n\n    function u(e, t) {\n      return t = r(e, t), g.post(e, e.options.url + \"/idp/idx/introspect\", t);\n    }\n\n    function c(e) {\n      return !!e.tx.exists._get(k.STATE_TOKEN_KEY_NAME);\n    }\n\n    function f(e, t, n, r) {\n      return g.post(e, t, n, r).then(function (t) {\n        return new y(e, t);\n      });\n    }\n\n    function p(e, t, n) {\n      return function (r) {\n        function i() {\n          var n = {};\n          if (\"function\" == typeof u) try {\n            n.autoPush = !!u();\n          } catch (e) {\n            return m.reject(new w(\"AutoPush resulted in an error.\"));\n          } else void 0 !== u && null !== u && (n.autoPush = !!u);\n          if (\"function\" == typeof a) try {\n            n.rememberDevice = !!a();\n          } catch (e) {\n            return m.reject(new w(\"RememberDevice resulted in an error.\"));\n          } else void 0 !== a && null !== a && (n.rememberDevice = !!a);\n          var r = f.href + v.toQueryParams(n);\n          return g.post(e, r, o(t), {\n            saveAuthnState: !1\n          });\n        }\n\n        var s, a, u, c;\n        v.isNumber(r) ? s = r : v.isObject(r) && (s = r.delay, a = r.rememberDevice, u = r.autoPush, c = r.transactionCallBack), s || 0 === s || (s = k.DEFAULT_POLLING_DELAY);\n        var f = v.getLink(t, \"next\", \"poll\");\n        n.isPolling = !0;\n\n        var p = 0,\n            l = function () {\n          return n.isPolling ? i().then(function (t) {\n            if (p = 0, t.factorResult && \"WAITING\" === t.factorResult) {\n              if (!n.isPolling) throw new T();\n              return \"function\" == typeof c && c(t), m.delay(s).then(l);\n            }\n\n            return n.isPolling = !1, new y(e, t);\n          }).fail(function (e) {\n            if (e.xhr && (0 === e.xhr.status || 429 === e.xhr.status) && p <= 4) {\n              var t = 1e3 * Math.pow(2, p);\n              return p++, m.delay(t).then(l);\n            }\n\n            throw e;\n          }) : m.reject(new T());\n        };\n\n        return l().fail(function (e) {\n          throw n.isPolling = !1, e;\n        });\n      };\n    }\n\n    function l(e, t, n, o, i) {\n      if (Array.isArray(o)) return function (r, s) {\n        if (!r) throw new w(\"Must provide a link name\");\n        var a = v.find(o, {\n          name: r\n        });\n        if (!a) throw new w(\"No link found for that name\");\n        return l(e, t, n, a, i)(s);\n      };\n\n      if (o.hints && o.hints.allow && 1 === o.hints.allow.length) {\n        switch (o.hints.allow[0]) {\n          case \"GET\":\n            return function () {\n              return g.get(e, o.href);\n            };\n\n          case \"POST\":\n            return function (s) {\n              i && i.isPolling && (i.isPolling = !1);\n              var a = r(t, s);\n              \"MFA_ENROLL\" !== t.status && \"FACTOR_ENROLL\" !== t.status || v.extend(a, {\n                factorType: n.factorType,\n                provider: n.provider\n              });\n              var u = {},\n                  c = a.autoPush;\n\n              if (void 0 !== c) {\n                if (\"function\" == typeof c) try {\n                  u.autoPush = !!c();\n                } catch (e) {\n                  return m.reject(new w(\"AutoPush resulted in an error.\"));\n                } else null !== c && (u.autoPush = !!c);\n                a = v.omit(a, \"autoPush\");\n              }\n\n              var p = a.rememberDevice;\n\n              if (void 0 !== p) {\n                if (\"function\" == typeof p) try {\n                  u.rememberDevice = !!p();\n                } catch (e) {\n                  return m.reject(new w(\"RememberDevice resulted in an error.\"));\n                } else null !== p && (u.rememberDevice = !!p);\n                a = v.omit(a, \"rememberDevice\");\n              } else a.profile && void 0 !== a.profile.updatePhone && (a.profile.updatePhone && (u.updatePhone = !0), a.profile = v.omit(a.profile, \"updatePhone\"));\n\n              var l = o.href + v.toQueryParams(u);\n              return f(e, l, a);\n            };\n        }\n      }\n    }\n\n    function d(e, t, n, r) {\n      var o = {};\n\n      for (var i in n._links) if (n._links.hasOwnProperty(i)) {\n        var s = n._links[i];\n        if (\"next\" === i && (i = s.name), s.type) o[i] = s;else switch (i) {\n          case \"poll\":\n            o.poll = p(e, t, r);\n            break;\n\n          default:\n            var a = l(e, t, n, s, r);\n            a && (o[i] = a);\n        }\n      }\n\n      return o;\n    }\n\n    function h(e, t, n, r) {\n      if (n = n || t, n = v.clone(n), Array.isArray(n)) {\n        for (var o = [], i = 0, s = n.length; i < s; i++) o.push(h(e, t, n[i], r));\n\n        return o;\n      }\n\n      var a = n._embedded || {};\n\n      for (var u in a) a.hasOwnProperty(u) && (v.isObject(a[u]) || Array.isArray(a[u])) && (a[u] = h(e, t, a[u], r));\n\n      var c = d(e, t, n, r);\n      return v.extend(a, c), n = v.omit(n, \"_embedded\", \"_links\"), v.extend(n, a), n;\n    }\n\n    function y(e, t) {\n      t && (this.data = t, v.extend(this, h(e, t, t, {})), delete this.stateToken, \"RECOVERY_CHALLENGE\" !== t.status || t._links || (this.cancel = function () {\n        return new m(new y(e));\n      }));\n    }\n\n    var g = n(3),\n        v = n(0),\n        m = n(5),\n        w = n(1),\n        T = n(23),\n        k = n(2);\n    e.exports = {\n      transactionStatus: i,\n      resumeTransaction: s,\n      transactionExists: c,\n      postToTransaction: f,\n      introspect: a\n    };\n  }, function (e, t) {\n    function n() {\n      throw new Error(\"setTimeout has not been defined\");\n    }\n\n    function r() {\n      throw new Error(\"clearTimeout has not been defined\");\n    }\n\n    function o(e) {\n      if (f === setTimeout) return setTimeout(e, 0);\n      if ((f === n || !f) && setTimeout) return f = setTimeout, setTimeout(e, 0);\n\n      try {\n        return f(e, 0);\n      } catch (t) {\n        try {\n          return f.call(null, e, 0);\n        } catch (t) {\n          return f.call(this, e, 0);\n        }\n      }\n    }\n\n    function i(e) {\n      if (p === clearTimeout) return clearTimeout(e);\n      if ((p === r || !p) && clearTimeout) return p = clearTimeout, clearTimeout(e);\n\n      try {\n        return p(e);\n      } catch (t) {\n        try {\n          return p.call(null, e);\n        } catch (t) {\n          return p.call(this, e);\n        }\n      }\n    }\n\n    function s() {\n      y && d && (y = !1, d.length ? h = d.concat(h) : g = -1, h.length && a());\n    }\n\n    function a() {\n      if (!y) {\n        var e = o(s);\n        y = !0;\n\n        for (var t = h.length; t;) {\n          for (d = h, h = []; ++g < t;) d && d[g].run();\n\n          g = -1, t = h.length;\n        }\n\n        d = null, y = !1, i(e);\n      }\n    }\n\n    function u(e, t) {\n      this.fun = e, this.array = t;\n    }\n\n    function c() {}\n\n    var f,\n        p,\n        l = e.exports = {};\n    !function () {\n      try {\n        f = \"function\" == typeof setTimeout ? setTimeout : n;\n      } catch (e) {\n        f = n;\n      }\n\n      try {\n        p = \"function\" == typeof clearTimeout ? clearTimeout : r;\n      } catch (e) {\n        p = r;\n      }\n    }();\n    var d,\n        h = [],\n        y = !1,\n        g = -1;\n    l.nextTick = function (e) {\n      var t = new Array(arguments.length - 1);\n      if (arguments.length > 1) for (var n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];\n      h.push(new u(e, t)), 1 !== h.length || y || o(a);\n    }, u.prototype.run = function () {\n      this.fun.apply(null, this.array);\n    }, l.title = \"browser\", l.browser = !0, l.env = {}, l.argv = [], l.version = \"\", l.versions = {}, l.on = c, l.addListener = c, l.once = c, l.off = c, l.removeListener = c, l.removeAllListeners = c, l.emit = c, l.prependListener = c, l.prependOnceListener = c, l.listeners = function (e) {\n      return [];\n    }, l.binding = function (e) {\n      throw new Error(\"process.binding is not supported\");\n    }, l.cwd = function () {\n      return \"/\";\n    }, l.chdir = function (e) {\n      throw new Error(\"process.chdir is not supported\");\n    }, l.umask = function () {\n      return 0;\n    };\n  }, function (e, t) {\n    var n;\n\n    n = function () {\n      return this;\n    }();\n\n    try {\n      n = n || Function(\"return this\")() || (0, eval)(\"this\");\n    } catch (e) {\n      \"object\" == typeof window && (n = window);\n    }\n\n    e.exports = n;\n  }, function (e, t, n) {\n    function r() {\n      return g.genRandomString(64);\n    }\n\n    function o() {\n      return g.genRandomString(64);\n    }\n\n    function i(e) {\n      return !(!e || !e.accessToken && !e.idToken || !Array.isArray(e.scopes));\n    }\n\n    function s(e, t, n) {\n      e.addEventListener ? e.addEventListener(t, n) : e.attachEvent(\"on\" + t, n);\n    }\n\n    function a(e, t, n) {\n      e.removeEventListener ? e.removeEventListener(t, n) : e.detachEvent(\"on\" + t, n);\n    }\n\n    function u(e) {\n      var t = document.createElement(\"iframe\");\n      return t.style.display = \"none\", t.src = e, document.body.appendChild(t);\n    }\n\n    function c(e, t) {\n      var n = t.popupTitle || \"External Identity Provider User Authentication\",\n          r = \"toolbar=no, scrollbars=yes, resizable=yes, top=100, left=500, width=600, height=600\";\n\n      if (g.isIE11OrLess()) {\n        var o = window.open(\"/\", n, r);\n        return o.location.href = e, o;\n      }\n\n      return window.open(e, n, r);\n    }\n\n    function f(e, t) {\n      return y.get(e, (t || e.options.url) + \"/.well-known/openid-configuration\", {\n        cacheResponse: !0\n      });\n    }\n\n    function p(e, t, n) {\n      return f(e, t).then(function (t) {\n        var r = t.jwks_uri,\n            o = w.getStorage(),\n            i = o[r];\n\n        if (i && Date.now() / 1e3 < i.expiresAt) {\n          var s = g.find(i.response.keys, {\n            kid: n\n          });\n          if (s) return s;\n        }\n\n        return w.clearStorage(r), y.get(e, r, {\n          cacheResponse: !0\n        }).then(function (e) {\n          var t = g.find(e.keys, {\n            kid: n\n          });\n          if (t) return t;\n          throw new m(\"The key id, \" + n + \", was not found in the server's keys\");\n        });\n      });\n    }\n\n    function l(e, t, n) {\n      var r = n.clientId,\n          o = n.issuer,\n          i = n.nonce;\n      if (!t || !o || !r) throw new m(\"The jwt, iss, and aud arguments are all required\");\n      if (i && t.nonce !== i) throw new m(\"OAuth flow response nonce doesn't match request nonce\");\n      var s = Math.floor(Date.now() / 1e3);\n      if (t.iss !== o) throw new m(\"The issuer [\" + t.iss + \"] does not match [\" + o + \"]\");\n      if (t.aud !== r) throw new m(\"The audience [\" + t.aud + \"] does not match [\" + r + \"]\");\n      if (t.iat > t.exp) throw new m(\"The JWT expired before it was issued\");\n      if (s - e.options.maxClockSkew > t.exp) throw new m(\"The JWT expired and is no longer valid\");\n      if (t.iat > s + e.options.maxClockSkew) throw new m(\"The JWT was issued in the future\");\n    }\n\n    function d(e, t, n) {\n      n = n || {};\n      var r = g.removeTrailingSlash(n.authorizeUrl) || e.options.authorizeUrl,\n          o = g.removeTrailingSlash(n.issuer) || e.options.issuer,\n          i = g.removeTrailingSlash(n.userinfoUrl) || e.options.userinfoUrl,\n          s = g.removeTrailingSlash(n.tokenUrl) || e.options.tokenUrl,\n          a = g.removeTrailingSlash(n.logoutUrl) || e.options.logoutUrl,\n          u = g.removeTrailingSlash(n.revokeUrl) || e.options.revokeUrl;\n      if (o && !/^https?:/.test(o) && (o = e.options.url + \"/oauth2/\" + o), !o && r && -1 !== t.responseType.indexOf(\"id_token\")) throw new m(\"Cannot request idToken with an authorizeUrl without an issuer\");\n\n      if (!o && t && -1 !== t.responseType.indexOf(\"token\")) {\n        if (r && !i) throw new m(\"Cannot request accessToken with an authorizeUrl without an issuer or userinfoUrl\");\n        if (i && !r) throw new m(\"Cannot request token with an userinfoUrl without an issuer or authorizeUrl\");\n      }\n\n      o = o || e.options.url, o = g.removeTrailingSlash(o);\n      var c = o;\n      return new RegExp(\"^https?://.*?/oauth2/.+\").test(c) || c.endsWith(\"/oauth2\") || (c += \"/oauth2\"), r = r || c + \"/v1/authorize\", i = i || c + \"/v1/userinfo\", s = s || c + \"/v1/token\", u = u || c + \"/v1/revoke\", a = a || c + \"/v1/logout\", {\n        issuer: o,\n        authorizeUrl: r,\n        userinfoUrl: i,\n        tokenUrl: s,\n        revokeUrl: u,\n        logoutUrl: a\n      };\n    }\n\n    function h(e) {\n      for (var t, n = /\\+/g, r = /([^&=]+)=?([^&]*)/g, o = e.substring(1), i = {};;) {\n        if (!(t = r.exec(o))) break;\n        var s = t[1],\n            a = t[2];\n        i[s] = \"id_token\" === s || \"access_token\" === s || \"code\" === s ? a : decodeURIComponent(a.replace(n, \" \"));\n      }\n\n      return i;\n    }\n\n    var y = n(3),\n        g = n(0),\n        v = n(4),\n        m = n(1),\n        w = v.getHttpCache();\n    e.exports = {\n      generateState: r,\n      generateNonce: o,\n      getWellKnown: f,\n      getKey: p,\n      validateClaims: l,\n      getOAuthUrls: d,\n      loadFrame: u,\n      loadPopup: c,\n      hashToObject: h,\n      isToken: i,\n      addListener: s,\n      removeListener: a\n    };\n  }, function (e, t, n) {\n    var r = n(12),\n        o = n(4);\n    e.exports = n(15)(o, r);\n  }, function (e, t, n) {\n    function r(e, t, n) {\n      var r = n.data,\n          i = n.headers || {};\n      return \"application/json\" === (i[\"Content-Type\"] || i[\"content-type\"] || \"\") && r && \"string\" != typeof r && (r = JSON.stringify(r)), o(t, {\n        method: e,\n        headers: n.headers,\n        body: r,\n        credentials: !1 === n.withCredentials ? \"omit\" : \"include\"\n      }).then(function (e) {\n        var t = !e.ok,\n            n = e.status,\n            r = function (e) {\n          var r = {\n            responseText: e,\n            status: n\n          };\n          if (t) throw r;\n          return r;\n        };\n\n        return e.headers.get(\"Content-Type\") && e.headers.get(\"Content-Type\").toLowerCase().indexOf(\"application/json\") >= 0 ? e.json().then(r) : e.text().then(r);\n      });\n    }\n\n    var o = n(13);\n    e.exports = r;\n  }, function (e, t) {\n    var n = function (e) {\n      function t() {\n        this.fetch = !1, this.DOMException = e.DOMException;\n      }\n\n      return t.prototype = e, new t();\n    }(\"undefined\" != typeof self ? self : this);\n\n    !function (e) {\n      !function (t) {\n        function n(e) {\n          return e && DataView.prototype.isPrototypeOf(e);\n        }\n\n        function r(e) {\n          if (\"string\" != typeof e && (e = String(e)), /[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(e)) throw new TypeError(\"Invalid character in header field name\");\n          return e.toLowerCase();\n        }\n\n        function o(e) {\n          return \"string\" != typeof e && (e = String(e)), e;\n        }\n\n        function i(e) {\n          var t = {\n            next: function () {\n              var t = e.shift();\n              return {\n                done: void 0 === t,\n                value: t\n              };\n            }\n          };\n          return T.iterable && (t[Symbol.iterator] = function () {\n            return t;\n          }), t;\n        }\n\n        function s(e) {\n          this.map = {}, e instanceof s ? e.forEach(function (e, t) {\n            this.append(t, e);\n          }, this) : Array.isArray(e) ? e.forEach(function (e) {\n            this.append(e[0], e[1]);\n          }, this) : e && Object.getOwnPropertyNames(e).forEach(function (t) {\n            this.append(t, e[t]);\n          }, this);\n        }\n\n        function a(e) {\n          if (e.bodyUsed) return Promise.reject(new TypeError(\"Already read\"));\n          e.bodyUsed = !0;\n        }\n\n        function u(e) {\n          return new Promise(function (t, n) {\n            e.onload = function () {\n              t(e.result);\n            }, e.onerror = function () {\n              n(e.error);\n            };\n          });\n        }\n\n        function c(e) {\n          var t = new FileReader(),\n              n = u(t);\n          return t.readAsArrayBuffer(e), n;\n        }\n\n        function f(e) {\n          var t = new FileReader(),\n              n = u(t);\n          return t.readAsText(e), n;\n        }\n\n        function p(e) {\n          for (var t = new Uint8Array(e), n = new Array(t.length), r = 0; r < t.length; r++) n[r] = String.fromCharCode(t[r]);\n\n          return n.join(\"\");\n        }\n\n        function l(e) {\n          if (e.slice) return e.slice(0);\n          var t = new Uint8Array(e.byteLength);\n          return t.set(new Uint8Array(e)), t.buffer;\n        }\n\n        function d() {\n          return this.bodyUsed = !1, this._initBody = function (e) {\n            this._bodyInit = e, e ? \"string\" == typeof e ? this._bodyText = e : T.blob && Blob.prototype.isPrototypeOf(e) ? this._bodyBlob = e : T.formData && FormData.prototype.isPrototypeOf(e) ? this._bodyFormData = e : T.searchParams && URLSearchParams.prototype.isPrototypeOf(e) ? this._bodyText = e.toString() : T.arrayBuffer && T.blob && n(e) ? (this._bodyArrayBuffer = l(e.buffer), this._bodyInit = new Blob([this._bodyArrayBuffer])) : T.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(e) || b(e)) ? this._bodyArrayBuffer = l(e) : this._bodyText = e = Object.prototype.toString.call(e) : this._bodyText = \"\", this.headers.get(\"content-type\") || (\"string\" == typeof e ? this.headers.set(\"content-type\", \"text/plain;charset=UTF-8\") : this._bodyBlob && this._bodyBlob.type ? this.headers.set(\"content-type\", this._bodyBlob.type) : T.searchParams && URLSearchParams.prototype.isPrototypeOf(e) && this.headers.set(\"content-type\", \"application/x-www-form-urlencoded;charset=UTF-8\"));\n          }, T.blob && (this.blob = function () {\n            var e = a(this);\n            if (e) return e;\n            if (this._bodyBlob) return Promise.resolve(this._bodyBlob);\n            if (this._bodyArrayBuffer) return Promise.resolve(new Blob([this._bodyArrayBuffer]));\n            if (this._bodyFormData) throw new Error(\"could not read FormData body as blob\");\n            return Promise.resolve(new Blob([this._bodyText]));\n          }, this.arrayBuffer = function () {\n            return this._bodyArrayBuffer ? a(this) || Promise.resolve(this._bodyArrayBuffer) : this.blob().then(c);\n          }), this.text = function () {\n            var e = a(this);\n            if (e) return e;\n            if (this._bodyBlob) return f(this._bodyBlob);\n            if (this._bodyArrayBuffer) return Promise.resolve(p(this._bodyArrayBuffer));\n            if (this._bodyFormData) throw new Error(\"could not read FormData body as text\");\n            return Promise.resolve(this._bodyText);\n          }, T.formData && (this.formData = function () {\n            return this.text().then(g);\n          }), this.json = function () {\n            return this.text().then(JSON.parse);\n          }, this;\n        }\n\n        function h(e) {\n          var t = e.toUpperCase();\n          return E.indexOf(t) > -1 ? t : e;\n        }\n\n        function y(e, t) {\n          t = t || {};\n          var n = t.body;\n\n          if (e instanceof y) {\n            if (e.bodyUsed) throw new TypeError(\"Already read\");\n            this.url = e.url, this.credentials = e.credentials, t.headers || (this.headers = new s(e.headers)), this.method = e.method, this.mode = e.mode, this.signal = e.signal, n || null == e._bodyInit || (n = e._bodyInit, e.bodyUsed = !0);\n          } else this.url = String(e);\n\n          if (this.credentials = t.credentials || this.credentials || \"same-origin\", !t.headers && this.headers || (this.headers = new s(t.headers)), this.method = h(t.method || this.method || \"GET\"), this.mode = t.mode || this.mode || null, this.signal = t.signal || this.signal, this.referrer = null, (\"GET\" === this.method || \"HEAD\" === this.method) && n) throw new TypeError(\"Body not allowed for GET or HEAD requests\");\n\n          this._initBody(n);\n        }\n\n        function g(e) {\n          var t = new FormData();\n          return e.trim().split(\"&\").forEach(function (e) {\n            if (e) {\n              var n = e.split(\"=\"),\n                  r = n.shift().replace(/\\+/g, \" \"),\n                  o = n.join(\"=\").replace(/\\+/g, \" \");\n              t.append(decodeURIComponent(r), decodeURIComponent(o));\n            }\n          }), t;\n        }\n\n        function v(e) {\n          var t = new s();\n          return e.replace(/\\r?\\n[\\t ]+/g, \" \").split(/\\r?\\n/).forEach(function (e) {\n            var n = e.split(\":\"),\n                r = n.shift().trim();\n\n            if (r) {\n              var o = n.join(\":\").trim();\n              t.append(r, o);\n            }\n          }), t;\n        }\n\n        function m(e, t) {\n          t || (t = {}), this.type = \"default\", this.status = void 0 === t.status ? 200 : t.status, this.ok = this.status >= 200 && this.status < 300, this.statusText = \"statusText\" in t ? t.statusText : \"OK\", this.headers = new s(t.headers), this.url = t.url || \"\", this._initBody(e);\n        }\n\n        function w(e, n) {\n          return new Promise(function (r, o) {\n            function i() {\n              a.abort();\n            }\n\n            var s = new y(e, n);\n            if (s.signal && s.signal.aborted) return o(new t.DOMException(\"Aborted\", \"AbortError\"));\n            var a = new XMLHttpRequest();\n            a.onload = function () {\n              var e = {\n                status: a.status,\n                statusText: a.statusText,\n                headers: v(a.getAllResponseHeaders() || \"\")\n              };\n              e.url = \"responseURL\" in a ? a.responseURL : e.headers.get(\"X-Request-URL\");\n              var t = \"response\" in a ? a.response : a.responseText;\n              r(new m(t, e));\n            }, a.onerror = function () {\n              o(new TypeError(\"Network request failed\"));\n            }, a.ontimeout = function () {\n              o(new TypeError(\"Network request failed\"));\n            }, a.onabort = function () {\n              o(new t.DOMException(\"Aborted\", \"AbortError\"));\n            }, a.open(s.method, s.url, !0), \"include\" === s.credentials ? a.withCredentials = !0 : \"omit\" === s.credentials && (a.withCredentials = !1), \"responseType\" in a && T.blob && (a.responseType = \"blob\"), s.headers.forEach(function (e, t) {\n              a.setRequestHeader(t, e);\n            }), s.signal && (s.signal.addEventListener(\"abort\", i), a.onreadystatechange = function () {\n              4 === a.readyState && s.signal.removeEventListener(\"abort\", i);\n            }), a.send(void 0 === s._bodyInit ? null : s._bodyInit);\n          });\n        }\n\n        var T = {\n          searchParams: \"URLSearchParams\" in e,\n          iterable: \"Symbol\" in e && \"iterator\" in Symbol,\n          blob: \"FileReader\" in e && \"Blob\" in e && function () {\n            try {\n              return new Blob(), !0;\n            } catch (e) {\n              return !1;\n            }\n          }(),\n          formData: \"FormData\" in e,\n          arrayBuffer: \"ArrayBuffer\" in e\n        };\n        if (T.arrayBuffer) var k = [\"[object Int8Array]\", \"[object Uint8Array]\", \"[object Uint8ClampedArray]\", \"[object Int16Array]\", \"[object Uint16Array]\", \"[object Int32Array]\", \"[object Uint32Array]\", \"[object Float32Array]\", \"[object Float64Array]\"],\n            b = ArrayBuffer.isView || function (e) {\n          return e && k.indexOf(Object.prototype.toString.call(e)) > -1;\n        };\n        s.prototype.append = function (e, t) {\n          e = r(e), t = o(t);\n          var n = this.map[e];\n          this.map[e] = n ? n + \", \" + t : t;\n        }, s.prototype.delete = function (e) {\n          delete this.map[r(e)];\n        }, s.prototype.get = function (e) {\n          return e = r(e), this.has(e) ? this.map[e] : null;\n        }, s.prototype.has = function (e) {\n          return this.map.hasOwnProperty(r(e));\n        }, s.prototype.set = function (e, t) {\n          this.map[r(e)] = o(t);\n        }, s.prototype.forEach = function (e, t) {\n          for (var n in this.map) this.map.hasOwnProperty(n) && e.call(t, this.map[n], n, this);\n        }, s.prototype.keys = function () {\n          var e = [];\n          return this.forEach(function (t, n) {\n            e.push(n);\n          }), i(e);\n        }, s.prototype.values = function () {\n          var e = [];\n          return this.forEach(function (t) {\n            e.push(t);\n          }), i(e);\n        }, s.prototype.entries = function () {\n          var e = [];\n          return this.forEach(function (t, n) {\n            e.push([n, t]);\n          }), i(e);\n        }, T.iterable && (s.prototype[Symbol.iterator] = s.prototype.entries);\n        var E = [\"DELETE\", \"GET\", \"HEAD\", \"OPTIONS\", \"POST\", \"PUT\"];\n        y.prototype.clone = function () {\n          return new y(this, {\n            body: this._bodyInit\n          });\n        }, d.call(y.prototype), d.call(m.prototype), m.prototype.clone = function () {\n          return new m(this._bodyInit, {\n            status: this.status,\n            statusText: this.statusText,\n            headers: new s(this.headers),\n            url: this.url\n          });\n        }, m.error = function () {\n          var e = new m(null, {\n            status: 0,\n            statusText: \"\"\n          });\n          return e.type = \"error\", e;\n        };\n        var S = [301, 302, 303, 307, 308];\n        m.redirect = function (e, t) {\n          if (-1 === S.indexOf(t)) throw new RangeError(\"Invalid status code\");\n          return new m(null, {\n            status: t,\n            headers: {\n              location: e\n            }\n          });\n        }, t.DOMException = e.DOMException;\n\n        try {\n          new t.DOMException();\n        } catch (e) {\n          t.DOMException = function (e, t) {\n            this.message = e, this.name = t;\n            var n = Error(e);\n            this.stack = n.stack;\n          }, t.DOMException.prototype = Object.create(Error.prototype), t.DOMException.prototype.constructor = t.DOMException;\n        }\n\n        w.polyfill = !0, e.fetch || (e.fetch = w, e.Headers = s, e.Request = y, e.Response = m), t.Headers = s, t.Request = y, t.Response = m, t.fetch = w;\n      }({});\n    }(n), delete n.fetch.polyfill, t = n.fetch, t.default = n.fetch, t.fetch = n.fetch, t.Headers = n.Headers, t.Request = n.Request, t.Response = n.Response, e.exports = t;\n  }, function (e, t, n) {\n    var r, o;\n    !function (i) {\n      var s = !1;\n\n      if (r = i, void 0 !== (o = \"function\" == typeof r ? r.call(t, n, t, e) : r) && (e.exports = o), s = !0, e.exports = i(), s = !0, !s) {\n        var a = window.Cookies,\n            u = window.Cookies = i();\n\n        u.noConflict = function () {\n          return window.Cookies = a, u;\n        };\n      }\n    }(function () {\n      function e() {\n        for (var e = 0, t = {}; e < arguments.length; e++) {\n          var n = arguments[e];\n\n          for (var r in n) t[r] = n[r];\n        }\n\n        return t;\n      }\n\n      function t(n) {\n        function r(t, o, i) {\n          var s;\n\n          if (\"undefined\" != typeof document) {\n            if (arguments.length > 1) {\n              if (i = e({\n                path: \"/\"\n              }, r.defaults, i), \"number\" == typeof i.expires) {\n                var a = new Date();\n                a.setMilliseconds(a.getMilliseconds() + 864e5 * i.expires), i.expires = a;\n              }\n\n              i.expires = i.expires ? i.expires.toUTCString() : \"\";\n\n              try {\n                s = JSON.stringify(o), /^[\\{\\[]/.test(s) && (o = s);\n              } catch (e) {}\n\n              o = n.write ? n.write(o, t) : encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent), t = encodeURIComponent(String(t)), t = t.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent), t = t.replace(/[\\(\\)]/g, escape);\n              var u = \"\";\n\n              for (var c in i) i[c] && (u += \"; \" + c, !0 !== i[c] && (u += \"=\" + i[c]));\n\n              return document.cookie = t + \"=\" + o + u;\n            }\n\n            t || (s = {});\n\n            for (var f = document.cookie ? document.cookie.split(\"; \") : [], p = /(%[0-9A-Z]{2})+/g, l = 0; l < f.length; l++) {\n              var d = f[l].split(\"=\"),\n                  h = d.slice(1).join(\"=\");\n              this.json || '\"' !== h.charAt(0) || (h = h.slice(1, -1));\n\n              try {\n                var y = d[0].replace(p, decodeURIComponent);\n                if (h = n.read ? n.read(h, y) : n(h, y) || h.replace(p, decodeURIComponent), this.json) try {\n                  h = JSON.parse(h);\n                } catch (e) {}\n\n                if (t === y) {\n                  s = h;\n                  break;\n                }\n\n                t || (s[y] = h);\n              } catch (e) {}\n            }\n\n            return s;\n          }\n        }\n\n        return r.set = r, r.get = function (e) {\n          return r.call(r, e);\n        }, r.getJSON = function () {\n          return r.apply({\n            json: !0\n          }, [].slice.call(arguments));\n        }, r.defaults = {}, r.remove = function (t, n) {\n          r(t, \"\", e(n, {\n            expires: -1\n          }));\n        }, r.withConverter = t, r;\n      }\n\n      return t(function () {});\n    });\n  }, function (e, t, n) {\n    function r(e) {\n      var t = this,\n          n = s.getValidUrl(e),\n          r = e.pkce || \"authorization_code\" === e.grantType;\n\n      if (this.options = {\n        url: g.removeTrailingSlash(n),\n        clientId: e.clientId,\n        issuer: g.removeTrailingSlash(e.issuer),\n        authorizeUrl: g.removeTrailingSlash(e.authorizeUrl),\n        userinfoUrl: g.removeTrailingSlash(e.userinfoUrl),\n        tokenUrl: g.removeTrailingSlash(e.tokenUrl),\n        revokeUrl: g.removeTrailingSlash(e.revokeUrl),\n        logoutUrl: g.removeTrailingSlash(e.logoutUrl),\n        pkce: r,\n        redirectUri: e.redirectUri,\n        postLogoutRedirectUri: e.postLogoutRedirectUri,\n        httpRequestClient: e.httpRequestClient,\n        storageUtil: e.storageUtil,\n        transformErrorXHR: e.transformErrorXHR,\n        headers: e.headers,\n        onSessionExpired: e.onSessionExpired\n      }, this.options.pkce && !t.features.isPKCESupported()) {\n        var c = \"PKCE requires a modern browser with encryption support running in a secure context.\";\n        throw t.features.isHTTPS() || (c += \"\\nThe current page is not being served with HTTPS protocol. Try using HTTPS.\"), t.features.hasTextEncoder() || (c += '\\n\"TextEncoder\" is not defined. You may need a polyfill/shim for this browser.'), new i(c);\n      }\n\n      this.userAgent = \"okta-auth-js-2.11.2\", e.maxClockSkew || 0 === e.maxClockSkew ? this.options.maxClockSkew = e.maxClockSkew : this.options.maxClockSkew = a.DEFAULT_MAX_CLOCK_SKEW, this.options.ignoreSignature = !!e.ignoreSignature, t.session = {\n        close: g.bind(l.closeSession, null, t),\n        exists: g.bind(l.sessionExists, null, t),\n        get: g.bind(l.getSession, null, t),\n        refresh: g.bind(l.refreshSession, null, t),\n        setCookieAndRedirect: g.bind(l.setCookieAndRedirect, null, t)\n      }, t.tx = {\n        status: g.bind(y.transactionStatus, null, t),\n        resume: g.bind(y.resumeTransaction, null, t),\n        exists: g.bind(y.transactionExists, null, t),\n        introspect: g.bind(y.introspect, null, t)\n      }, t.tx.exists._get = function (e) {\n        return u.get(e);\n      }, t.idToken = {\n        authorize: {\n          _getLocationHref: function () {\n            return window.location.href;\n          }\n        }\n      }, t.token = {\n        getWithoutPrompt: g.bind(d.getWithoutPrompt, null, t),\n        getWithPopup: g.bind(d.getWithPopup, null, t),\n        getWithRedirect: g.bind(d.getWithRedirect, null, t),\n        parseFromUrl: g.bind(d.parseFromUrl, null, t),\n        decode: d.decodeToken,\n        revoke: g.bind(d.revokeToken, null, t),\n        renew: g.bind(d.renewToken, null, t),\n        getUserInfo: g.bind(d.getUserInfo, null, t),\n        verify: g.bind(d.verifyToken, null, t)\n      }, t.token.getWithRedirect._setLocation = function (e) {\n        window.location = e;\n      }, t.token.parseFromUrl._getHistory = function () {\n        return window.history;\n      }, t.token.parseFromUrl._getLocation = function () {\n        return window.location;\n      }, t.token.parseFromUrl._getDocument = function () {\n        return window.document;\n      }, t.fingerprint._getUserAgent = function () {\n        return navigator.userAgent;\n      };\n      var f = /windows phone|iemobile|wpdesktop/i;\n      t.features.isFingerprintSupported = function () {\n        var e = t.fingerprint._getUserAgent();\n\n        return e && !f.test(e);\n      }, t.emitter = new o(), t.tokenManager = new h(t, e.tokenManager), t.tokenManager.on(\"error\", this._onTokenManagerError, this);\n    }\n\n    n(16);\n    var o = n(18),\n        i = n(1),\n        s = n(19),\n        a = n(2),\n        u = n(4).storage,\n        c = n(3),\n        f = n(10),\n        p = n(5),\n        l = n(24),\n        d = n(25),\n        h = n(29),\n        y = n(7),\n        g = n(0),\n        v = r.prototype;\n    v._onTokenManagerError = function (e) {\n      \"login_required\" === e.errorCode && e.accessToken && (this.options.onSessionExpired ? this.options.onSessionExpired() : console.error(\"Session has expired or was closed outside the application.\"));\n    }, v.features = {}, v.features.isPopupPostMessageSupported = function () {\n      var e = document.documentMode && document.documentMode < 10;\n      return !(!window.postMessage || e);\n    }, v.features.isTokenVerifySupported = function () {\n      return \"undefined\" != typeof crypto && crypto.subtle && \"undefined\" != typeof Uint8Array;\n    }, v.features.hasTextEncoder = function () {\n      return \"undefined\" != typeof TextEncoder;\n    }, v.features.isPKCESupported = function () {\n      return v.features.isTokenVerifySupported() && v.features.hasTextEncoder();\n    }, v.features.isHTTPS = function () {\n      return \"https:\" === window.location.protocol;\n    }, v.signIn = function (e) {\n      function t(t) {\n        return delete e.sendFingerprint, y.postToTransaction(n, \"/api/v1/authn\", e, t);\n      }\n\n      var n = this;\n      return e = g.clone(e || {}), e.sendFingerprint ? n.fingerprint().then(function (e) {\n        return t({\n          headers: {\n            \"X-Device-Fingerprint\": e\n          }\n        });\n      }) : t();\n    }, v.signOut = function (e) {\n      function t() {\n        return s.session.close().catch(function (e) {\n          if (\"AuthApiError\" !== e.name) throw e;\n        });\n      }\n\n      e = g.extend({}, e);\n      var n = e.postLogoutRedirectUri || this.options.postLogoutRedirectUri,\n          r = e.accessToken,\n          o = e.revokeAccessToken,\n          i = e.idToken,\n          s = this,\n          a = f.getOAuthUrls(s).logoutUrl;\n      return p.allSettled([function () {\n        return new p().then(function () {\n          return o && void 0 === r ? s.tokenManager.get(\"token\") : r;\n        });\n      }(), function () {\n        return new p().then(function () {\n          return n && void 0 === i ? s.tokenManager.get(\"idToken\") : i;\n        });\n      }()]).then(function (e) {\n        if (r = e[0].value, i = e[1].value, s.tokenManager.clear(), o && r) return s.token.revoke(r).catch(function (e) {\n          if (\"AuthApiError\" !== e.name) throw e;\n        });\n      }).then(function () {\n        if (!n) return t();\n        if (!i) return t().catch(function (e) {\n          console.log(\"Unhandled exception while closing session\", e);\n        }).then(function () {\n          window.location.assign(n);\n        });\n        var r = e.state,\n            o = i.idToken,\n            s = a + \"?id_token_hint=\" + encodeURIComponent(o) + \"&post_logout_redirect_uri=\" + encodeURIComponent(n);\n        r && (s += \"&state=\" + encodeURIComponent(r)), window.location.assign(s);\n      });\n    }, s.addSharedPrototypes(v), v.webfinger = function (e) {\n      var t = \"/.well-known/webfinger\" + g.toQueryParams(e),\n          n = {\n        headers: {\n          Accept: \"application/jrd+json\"\n        }\n      };\n      return c.get(this, t, n);\n    }, v.fingerprint = function (e) {\n      function t(e) {\n        if (e && e.data && e.origin === n.options.url) {\n          try {\n            var t = JSON.parse(e.data);\n          } catch (e) {\n            return r.reject(new i(\"Unable to parse iframe response\"));\n          }\n\n          if (t) return \"FingerprintAvailable\" === t.type ? r.resolve(t.fingerprint) : void (\"FingerprintServiceReady\" === t.type && e.source.postMessage(JSON.stringify({\n            type: \"GetFingerprint\"\n          }), e.origin));\n        }\n      }\n\n      e = e || {};\n      var n = this;\n      if (!n.features.isFingerprintSupported()) return p.reject(new i(\"Fingerprinting is not supported on this device\"));\n      var r = p.defer(),\n          o = document.createElement(\"iframe\");\n      o.style.display = \"none\", f.addListener(window, \"message\", t), o.src = n.options.url + \"/auth/services/devicefingerprint\", document.body.appendChild(o);\n      var s = setTimeout(function () {\n        r.reject(new i(\"Fingerprinting timed out\"));\n      }, e.timeout || 15e3);\n      return r.promise.fin(function () {\n        clearTimeout(s), f.removeListener(window, \"message\", t), document.body.contains(o) && o.parentElement.removeChild(o);\n      });\n    }, e.exports = s.buildOktaAuth(r);\n  }, function (e, t, n) {\n    n(17), Array.prototype.indexOf || (Array.prototype.indexOf = function (e, t) {\n      var n;\n      if (null == this) throw new TypeError('\"this\" is null or not defined');\n      var r = Object(this),\n          o = r.length >>> 0;\n      if (0 === o) return -1;\n      var i = +t || 0;\n      if (Math.abs(i) === 1 / 0 && (i = 0), i >= o) return -1;\n\n      for (n = Math.max(i >= 0 ? i : o - Math.abs(i), 0); n < o;) {\n        if (n in r && r[n] === e) return n;\n        n++;\n      }\n\n      return -1;\n    }), Array.isArray || (Array.isArray = function (e) {\n      return \"[object Array]\" === Object.prototype.toString.call(e);\n    });\n  }, function (e, t, n) {\n    !function () {\n      function e(e) {\n        this.message = e;\n      }\n\n      var n = t,\n          r = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n      e.prototype = new Error(), e.prototype.name = \"InvalidCharacterError\", n.btoa || (n.btoa = function (t) {\n        for (var n, o, i = String(t), s = 0, a = r, u = \"\"; i.charAt(0 | s) || (a = \"=\", s % 1); u += a.charAt(63 & n >> 8 - s % 1 * 8)) {\n          if ((o = i.charCodeAt(s += .75)) > 255) throw new e(\"'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.\");\n          n = n << 8 | o;\n        }\n\n        return u;\n      }), n.atob || (n.atob = function (t) {\n        var n = String(t).replace(/=+$/, \"\");\n        if (n.length % 4 == 1) throw new e(\"'atob' failed: The string to be decoded is not correctly encoded.\");\n\n        for (var o, i, s = 0, a = 0, u = \"\"; i = n.charAt(a++); ~i && (o = s % 4 ? 64 * o + i : i, s++ % 4) ? u += String.fromCharCode(255 & o >> (-2 * s & 6)) : 0) i = r.indexOf(i);\n\n        return u;\n      });\n    }();\n  }, function (e, t) {\n    function n() {}\n\n    n.prototype = {\n      on: function (e, t, n) {\n        var r = this.e || (this.e = {});\n        return (r[e] || (r[e] = [])).push({\n          fn: t,\n          ctx: n\n        }), this;\n      },\n      once: function (e, t, n) {\n        function r() {\n          o.off(e, r), t.apply(n, arguments);\n        }\n\n        var o = this;\n        return r._ = t, this.on(e, r, n);\n      },\n      emit: function (e) {\n        var t = [].slice.call(arguments, 1),\n            n = ((this.e || (this.e = {}))[e] || []).slice(),\n            r = 0,\n            o = n.length;\n\n        for (r; r < o; r++) n[r].fn.apply(n[r].ctx, t);\n\n        return this;\n      },\n      off: function (e, t) {\n        var n = this.e || (this.e = {}),\n            r = n[e],\n            o = [];\n        if (r && t) for (var i = 0, s = r.length; i < s; i++) r[i].fn !== t && r[i].fn._ !== t && o.push(r[i]);\n        return o.length ? n[e] = o : delete n[e], this;\n      }\n    }, e.exports = n;\n  }, function (e, t, n) {\n    function r(e) {\n      if (!e) throw new s(\"No arguments passed to constructor. Required usage: new OktaAuth(args)\");\n      var t = e.url;\n\n      if (!t) {\n        var n = new RegExp(\"^http?s?://.+\");\n        if (!e.issuer || !n.test(e.issuer)) throw new s('No url passed to constructor. Required usage: new OktaAuth({url: \"https://{yourOktaDomain}.com\"})');\n        t = e.issuer.split(\"/oauth2/\")[0];\n      }\n\n      if (-1 !== t.indexOf(\"-admin.\")) throw new s('URL passed to constructor contains \"-admin\" in subdomain. Required usage: new OktaAuth({url: \"https://{yourOktaDomain}.com})');\n      return t;\n    }\n\n    function o(e) {\n      e.forgotPassword = function (e) {\n        return a.postToTransaction(this, \"/api/v1/authn/recovery/password\", e);\n      }, e.unlockAccount = function (e) {\n        return a.postToTransaction(this, \"/api/v1/authn/recovery/unlock\", e);\n      }, e.verifyRecoveryToken = function (e) {\n        return a.postToTransaction(this, \"/api/v1/authn/recovery/token\", e);\n      };\n    }\n\n    function i(e) {\n      return function (t, n) {\n        function r(o) {\n          if (!(this instanceof r)) return new r(o);\n          o && (o.storageUtil = t, o.ajaxRequest ? (u.deprecate(\"ajaxRequest is being deprecated, use httpRequestClient attribute instead.\"), o.httpRequestClient = o.ajaxRequest) : o.httpRequestClient || (o.httpRequestClient = n)), u.bind(e, this)(o);\n        }\n\n        return r.prototype = e.prototype, r.prototype.constructor = r, r.features = e.prototype.features, r;\n      };\n    }\n\n    var s = n(1),\n        a = n(7),\n        u = n(0);\n    e.exports = {\n      addSharedPrototypes: o,\n      buildOktaAuth: i,\n      getValidUrl: r\n    };\n  }, function (e, t, n) {\n    (function (e) {\n      function r(e, t) {\n        this._id = e, this._clearFn = t;\n      }\n\n      var o = void 0 !== e && e || \"undefined\" != typeof self && self || window,\n          i = Function.prototype.apply;\n      t.setTimeout = function () {\n        return new r(i.call(setTimeout, o, arguments), clearTimeout);\n      }, t.setInterval = function () {\n        return new r(i.call(setInterval, o, arguments), clearInterval);\n      }, t.clearTimeout = t.clearInterval = function (e) {\n        e && e.close();\n      }, r.prototype.unref = r.prototype.ref = function () {}, r.prototype.close = function () {\n        this._clearFn.call(o, this._id);\n      }, t.enroll = function (e, t) {\n        clearTimeout(e._idleTimeoutId), e._idleTimeout = t;\n      }, t.unenroll = function (e) {\n        clearTimeout(e._idleTimeoutId), e._idleTimeout = -1;\n      }, t._unrefActive = t.active = function (e) {\n        clearTimeout(e._idleTimeoutId);\n        var t = e._idleTimeout;\n        t >= 0 && (e._idleTimeoutId = setTimeout(function () {\n          e._onTimeout && e._onTimeout();\n        }, t));\n      }, n(21), t.setImmediate = \"undefined\" != typeof self && self.setImmediate || void 0 !== e && e.setImmediate || this && this.setImmediate, t.clearImmediate = \"undefined\" != typeof self && self.clearImmediate || void 0 !== e && e.clearImmediate || this && this.clearImmediate;\n    }).call(t, n(9));\n  }, function (e, t, n) {\n    (function (e, t) {\n      !function (e, n) {\n        \"use strict\";\n\n        function r(e) {\n          \"function\" != typeof e && (e = new Function(\"\" + e));\n\n          for (var t = new Array(arguments.length - 1), n = 0; n < t.length; n++) t[n] = arguments[n + 1];\n\n          var r = {\n            callback: e,\n            args: t\n          };\n          return c[u] = r, a(u), u++;\n        }\n\n        function o(e) {\n          delete c[e];\n        }\n\n        function i(e) {\n          var t = e.callback,\n              r = e.args;\n\n          switch (r.length) {\n            case 0:\n              t();\n              break;\n\n            case 1:\n              t(r[0]);\n              break;\n\n            case 2:\n              t(r[0], r[1]);\n              break;\n\n            case 3:\n              t(r[0], r[1], r[2]);\n              break;\n\n            default:\n              t.apply(n, r);\n          }\n        }\n\n        function s(e) {\n          if (f) setTimeout(s, 0, e);else {\n            var t = c[e];\n\n            if (t) {\n              f = !0;\n\n              try {\n                i(t);\n              } finally {\n                o(e), f = !1;\n              }\n            }\n          }\n        }\n\n        if (!e.setImmediate) {\n          var a,\n              u = 1,\n              c = {},\n              f = !1,\n              p = e.document,\n              l = Object.getPrototypeOf && Object.getPrototypeOf(e);\n          l = l && l.setTimeout ? l : e, \"[object process]\" === {}.toString.call(e.process) ? function () {\n            a = function (e) {\n              t.nextTick(function () {\n                s(e);\n              });\n            };\n          }() : function () {\n            if (e.postMessage && !e.importScripts) {\n              var t = !0,\n                  n = e.onmessage;\n              return e.onmessage = function () {\n                t = !1;\n              }, e.postMessage(\"\", \"*\"), e.onmessage = n, t;\n            }\n          }() ? function () {\n            var t = \"setImmediate$\" + Math.random() + \"$\",\n                n = function (n) {\n              n.source === e && \"string\" == typeof n.data && 0 === n.data.indexOf(t) && s(+n.data.slice(t.length));\n            };\n\n            e.addEventListener ? e.addEventListener(\"message\", n, !1) : e.attachEvent(\"onmessage\", n), a = function (n) {\n              e.postMessage(t + n, \"*\");\n            };\n          }() : e.MessageChannel ? function () {\n            var e = new MessageChannel();\n            e.port1.onmessage = function (e) {\n              s(e.data);\n            }, a = function (t) {\n              e.port2.postMessage(t);\n            };\n          }() : p && \"onreadystatechange\" in p.createElement(\"script\") ? function () {\n            var e = p.documentElement;\n\n            a = function (t) {\n              var n = p.createElement(\"script\");\n              n.onreadystatechange = function () {\n                s(t), n.onreadystatechange = null, e.removeChild(n), n = null;\n              }, e.appendChild(n);\n            };\n          }() : function () {\n            a = function (e) {\n              setTimeout(s, 0, e);\n            };\n          }(), l.setImmediate = r, l.clearImmediate = o;\n        }\n      }(\"undefined\" == typeof self ? void 0 === e ? this : e : self);\n    }).call(t, n(9), n(8));\n  }, function (e, t) {\n    function n(e, t) {\n      this.name = \"AuthApiError\", this.message = e.errorSummary, this.errorSummary = e.errorSummary, this.errorCode = e.errorCode, this.errorLink = e.errorLink, this.errorId = e.errorId, this.errorCauses = e.errorCauses, t && (this.xhr = t);\n    }\n\n    n.prototype = new Error(), e.exports = n;\n  }, function (e, t) {\n    function n() {\n      this.name = \"AuthPollStopError\", this.message = \"The poll was stopped by the sdk\";\n    }\n\n    n.prototype = new Error(), e.exports = n;\n  }, function (e, t, n) {\n    function r(e) {\n      return e.session.get().then(function (e) {\n        return \"ACTIVE\" === e.status;\n      }).fail(function () {\n        return !1;\n      });\n    }\n\n    function o(e) {\n      return c.get(e, \"/api/v1/sessions/me\").then(function (t) {\n        var n = u.omit(t, \"_links\");\n        return n.refresh = function () {\n          return c.post(e, u.getLink(t, \"refresh\").href);\n        }, n.user = function () {\n          return c.get(e, u.getLink(t, \"user\").href);\n        }, n;\n      }).fail(function () {\n        return {\n          status: \"INACTIVE\"\n        };\n      });\n    }\n\n    function i(e) {\n      return c.httpRequest(e, {\n        url: e.options.url + \"/api/v1/sessions/me\",\n        method: \"DELETE\"\n      });\n    }\n\n    function s(e) {\n      return c.post(e, \"/api/v1/sessions/me/lifecycle/refresh\");\n    }\n\n    function a(e, t, n) {\n      n = n || window.location.href, window.location = e.options.url + \"/login/sessionCookieRedirect\" + u.toQueryParams({\n        checkAccountSetupComplete: !0,\n        token: t,\n        redirectUrl: n\n      });\n    }\n\n    var u = n(0),\n        c = n(3);\n    e.exports = {\n      sessionExists: r,\n      getSession: o,\n      closeSession: i,\n      refreshSession: s,\n      setCookieAndRedirect: a\n    };\n  }, function (e, t, n) {\n    function r(e, t) {\n      return new x().then(function () {\n        if (!t || !t.accessToken) throw new O(\"A valid access token object is required\");\n        var n = e.options.clientId;\n        if (!n) throw new O(\"A clientId must be specified in the OktaAuth constructor to revoke a token\");\n        var r = A.getOAuthUrls(e).revokeUrl,\n            o = t.accessToken,\n            i = S.toQueryParams({\n          token_type_hint: \"access_token\",\n          token: o\n        }).slice(1),\n            s = btoa(n);\n        return E.post(e, r, i, {\n          headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded\",\n            Authorization: \"Basic \" + s\n          }\n        });\n      });\n    }\n\n    function o(e) {\n      var t,\n          n = e.split(\".\");\n\n      try {\n        t = {\n          header: JSON.parse(S.base64UrlToString(n[0])),\n          payload: JSON.parse(S.base64UrlToString(n[1])),\n          signature: n[2]\n        };\n      } catch (e) {\n        throw new O(\"Malformed token\");\n      }\n\n      return t;\n    }\n\n    function i(e, t, n) {\n      return new x().then(function () {\n        if (!t || !t.idToken) throw new O(\"Only idTokens may be verified\");\n        var r = o(t.idToken),\n            i = {\n          clientId: e.options.clientId,\n          issuer: e.options.issuer || e.options.url,\n          ignoreSignature: e.options.ignoreSignature\n        };\n        return S.extend(i, n), A.validateClaims(e, r.payload, i), 1 != i.ignoreSignature && e.features.isTokenVerifySupported() ? A.getKey(e, t.issuer, r.header.kid).then(function (e) {\n          return _.verifyToken(t.idToken, e);\n        }).then(function (e) {\n          if (!e) throw new O(\"The token signature is not valid\");\n          return t;\n        }) : t;\n      });\n    }\n\n    function s(e, t, n) {\n      function r(t) {\n        if (t.data && t.data.state === n) return t.origin !== e.options.url ? o.reject(new O(\"The request does not match client configuration\")) : void o.resolve(t.data);\n      }\n\n      var o = x.defer();\n      return A.addListener(window, \"message\", r), o.promise.timeout(t || 12e4, new O(\"OAuth flow timed out\")).fin(function () {\n        A.removeListener(window, \"message\", r);\n      });\n    }\n\n    function a(e, t, n) {\n      function r() {\n        try {\n          t && t.location && t.location.hash ? o.resolve(A.hashToObject(t.location.hash)) : t && !t.closed && setTimeout(r, 500);\n        } catch (e) {\n          setTimeout(r, 500);\n        }\n      }\n\n      var o = x.defer();\n      return r(), o.promise.timeout(n || 12e4, new O(\"OAuth flow timed out\"));\n    }\n\n    function u(e, t, n, r) {\n      var o = j.loadMeta(e),\n          i = {\n        clientId: t.clientId,\n        authorizationCode: n,\n        codeVerifier: o.codeVerifier,\n        redirectUri: o.redirectUri\n      };\n      return j.getToken(e, i, r).then(function (e) {\n        return c(e, i), e;\n      }).fin(function () {\n        j.clearMeta(e);\n      });\n    }\n\n    function c(e, t) {\n      if (e.error || e.error_description) throw new U(e.error, e.error_description);\n      if (e.state !== t.state) throw new O(\"OAuth flow response state doesn't match request state\");\n    }\n\n    function f(e, t, n, r) {\n      r = r || {};\n      var o = t.responseType,\n          s = S.clone(t.scopes),\n          a = t.clientId || e.options.clientId;\n      return new x().then(function () {\n        return c(n, t), n.code ? (o = [\"token\", \"id_token\"], u(e, t, n.code, r)) : n;\n      }).then(function (n) {\n        var o = {};\n\n        if (n.access_token && (o.token = {\n          accessToken: n.access_token,\n          expiresAt: Number(n.expires_in) + Math.floor(Date.now() / 1e3),\n          tokenType: n.token_type,\n          scopes: s,\n          authorizeUrl: r.authorizeUrl,\n          userinfoUrl: r.userinfoUrl\n        }), n.id_token) {\n          var u = e.token.decode(n.id_token),\n              c = {\n            idToken: n.id_token,\n            claims: u.payload,\n            expiresAt: u.payload.exp,\n            scopes: s,\n            authorizeUrl: r.authorizeUrl,\n            issuer: r.issuer,\n            clientId: a\n          },\n              f = {\n            clientId: a,\n            issuer: r.issuer,\n            nonce: t.nonce\n          };\n          return void 0 !== t.ignoreSignature && (f.ignoreSignature = t.ignoreSignature), i(e, c, f).then(function () {\n            return o.id_token = c, o;\n          });\n        }\n\n        return o;\n      }).then(function (e) {\n        return Array.isArray(o) ? ([\"token\", \"id_token\"].filter(function (e) {\n          return -1 !== o.indexOf(e);\n        }).forEach(function (t) {\n          if (!e[t]) throw new O(\"Unable to parse OAuth flow response: \" + t + \" was not returned.\");\n        }), o.map(function (t) {\n          return e[t];\n        })) : e[o];\n      });\n    }\n\n    function p(e) {\n      return {\n        pkce: e.options.pkce || !1,\n        clientId: e.options.clientId,\n        redirectUri: e.options.redirectUri || window.location.href,\n        responseType: \"id_token\",\n        responseMode: \"okta_post_message\",\n        state: A.generateState(),\n        nonce: A.generateNonce(),\n        scopes: [\"openid\", \"email\"],\n        ignoreSignature: e.options.ignoreSignature\n      };\n    }\n\n    function l(e) {\n      if (!e.clientId) throw new O(\"A clientId must be specified in the OktaAuth constructor to get a token\");\n      if (S.isString(e.responseType) && -1 !== e.responseType.indexOf(\" \")) throw new O(\"Multiple OAuth responseTypes must be defined as an array\");\n      var t = S.removeNils({\n        client_id: e.clientId,\n        code_challenge: e.codeChallenge,\n        code_challenge_method: e.codeChallengeMethod,\n        display: e.display,\n        idp: e.idp,\n        idp_scope: e.idpScope,\n        login_hint: e.loginHint,\n        max_age: e.maxAge,\n        nonce: e.nonce,\n        prompt: e.prompt,\n        redirect_uri: e.redirectUri,\n        response_mode: e.responseMode,\n        response_type: e.responseType,\n        sessionToken: e.sessionToken,\n        state: e.state\n      });\n      if ([\"idp_scope\", \"response_type\"].forEach(function (e) {\n        Array.isArray(t[e]) && (t[e] = t[e].join(\" \"));\n      }), -1 !== e.responseType.indexOf(\"id_token\") && -1 === e.scopes.indexOf(\"openid\")) throw new O(\"openid scope must be specified in the scopes argument when requesting an id_token\");\n      return t.scope = e.scopes.join(\" \"), t;\n    }\n\n    function d(e) {\n      var t = l(e);\n      return S.toQueryParams(t);\n    }\n\n    function h(e, t, n) {\n      return t = t || {}, n = n || {}, v(e, t).then(function (r) {\n        function o(e) {\n          return /^(https?\\:\\/\\/)?([^:\\/?#]*(?:\\:[0-9]+)?)/.exec(e)[0];\n        }\n\n        function i(e) {\n          if (!e || e.closed) return b.reject(new O(\"Unable to parse OAuth flow response\")), !0;\n        }\n\n        var u = {\n          prompt: \"none\",\n          responseMode: \"okta_post_message\",\n          display: null\n        },\n            c = {\n          display: \"popup\"\n        };\n        t.sessionToken ? S.extend(r, u) : t.idp && S.extend(r, c);\n        var p, l, h;\n\n        try {\n          h = A.getOAuthUrls(e, r, n), l = t.codeVerifier ? h.tokenUrl : h.authorizeUrl, p = l + d(r);\n        } catch (e) {\n          return x.reject(e);\n        }\n\n        switch (r.sessionToken || null === r.display ? \"IFRAME\" : \"popup\" === r.display ? \"POPUP\" : \"IMPLICIT\") {\n          case \"IFRAME\":\n            var y = s(e, n.timeout, r.state),\n                g = A.loadFrame(p);\n            return y.then(function (t) {\n              return f(e, r, t, h);\n            }).fin(function () {\n              document.body.contains(g) && g.parentElement.removeChild(g);\n            });\n\n          case \"POPUP\":\n            var v;\n\n            if (\"okta_post_message\" === r.responseMode) {\n              if (!e.features.isPopupPostMessageSupported()) return x.reject(new O(\"This browser doesn't have full postMessage support\"));\n              v = s(e, n.timeout, r.state);\n            }\n\n            var m = {\n              popupTitle: n.popupTitle\n            },\n                w = A.loadPopup(p, m);\n\n            if (\"fragment\" === r.responseMode) {\n              var T = o(e.idToken.authorize._getLocationHref()),\n                  k = o(r.redirectUri);\n              if (T !== k) return x.reject(new O(\"Using fragment, the redirectUri origin (\" + k + \") must match the origin of this page (\" + T + \")\"));\n              v = a(e, w, n.timeout);\n            }\n\n            var b = x.defer(),\n                E = setInterval(function () {\n              i(w) && clearInterval(E);\n            }, 500);\n            return v.then(function (e) {\n              b.resolve(e);\n            }).fail(function (e) {\n              b.reject(e);\n            }), b.promise.then(function (t) {\n              return f(e, r, t, h);\n            }).fin(function () {\n              clearInterval(E), w && !w.closed && w.close();\n            });\n\n          default:\n            return x.reject(new O(\"The full page redirect flow is not supported\"));\n        }\n      });\n    }\n\n    function y(e, t, n) {\n      var r = S.clone(t) || {};\n      return S.extend(r, {\n        prompt: \"none\",\n        responseMode: \"okta_post_message\",\n        display: null\n      }), h(e, r, n);\n    }\n\n    function g(e, t, n) {\n      var r = S.clone(t) || {};\n      return S.extend(r, {\n        display: \"popup\",\n        responseMode: \"okta_post_message\"\n      }), h(e, r, n);\n    }\n\n    function v(e, t) {\n      t = S.clone(t) || {}, \"authorization_code\" === t.grantType && (t.pkce = !0);\n      var n = p(e);\n      return S.extend(n, t), !0 !== n.pkce ? x.resolve(n) : e.features.isPKCESupported() ? (n.codeChallengeMethod || (n.codeChallengeMethod = j.DEFAULT_CODE_CHALLENGE_METHOD), n.responseType = \"code\", A.getWellKnown(e, null).then(function (e) {\n        if (-1 === (e.code_challenge_methods_supported || []).indexOf(n.codeChallengeMethod)) throw new O(\"Invalid code_challenge_method\");\n      }).then(function () {\n        var t = j.generateVerifier(n.codeVerifier),\n            r = {\n          codeVerifier: t,\n          redirectUri: n.redirectUri\n        };\n        return j.saveMeta(e, r), j.computeChallenge(t);\n      }).then(function (e) {\n        var t = S.clone(n) || {};\n        return S.extend(t, n, {\n          codeChallenge: e\n        }), t;\n      })) : x.reject(new O(\"This browser doesn't support PKCE\"));\n    }\n\n    function m(e, t, n) {\n      return t = S.clone(t) || {}, v(e, t).then(function (r) {\n        t.responseMode || (r.responseType.includes(\"code\") && !r.pkce ? r.responseMode = \"query\" : r.responseMode = \"fragment\");\n        var o = A.getOAuthUrls(e, r, n),\n            i = o.authorizeUrl + d(r);\n        R.set(C.REDIRECT_OAUTH_PARAMS_COOKIE_NAME, JSON.stringify({\n          responseType: r.responseType,\n          state: r.state,\n          nonce: r.nonce,\n          scopes: r.scopes,\n          clientId: r.clientId,\n          urls: o,\n          ignoreSignature: r.ignoreSignature\n        })), R.set(C.REDIRECT_NONCE_COOKIE_NAME, r.nonce), R.set(C.REDIRECT_STATE_COOKIE_NAME, r.state), e.token.getWithRedirect._setLocation(i);\n      });\n    }\n\n    function w(e, t) {\n      if (!A.isToken(t)) return x.reject(new O(\"Renew must be passed a token with an array of scopes and an accessToken or idToken\"));\n      var n;\n      return n = e.options.pkce ? \"code\" : t.accessToken ? \"token\" : \"id_token\", e.token.getWithoutPrompt({\n        responseType: n,\n        scopes: t.scopes\n      }, {\n        authorizeUrl: t.authorizeUrl,\n        userinfoUrl: t.userinfoUrl,\n        issuer: t.issuer\n      });\n    }\n\n    function T(e) {\n      var t = e.token.parseFromUrl._getHistory(),\n          n = e.token.parseFromUrl._getDocument(),\n          r = e.token.parseFromUrl._getLocation();\n\n      t && t.replaceState ? t.replaceState(null, n.title, r.pathname + r.search) : r.hash = \"\";\n    }\n\n    function k(e, t) {\n      var n = e.token.parseFromUrl._getLocation(),\n          r = n.hash;\n\n      if (t && (r = t.substring(t.indexOf(\"#\"))), !r) return x.reject(new O(\"Unable to parse a token from the url\"));\n      var o = R.get(C.REDIRECT_OAUTH_PARAMS_COOKIE_NAME);\n      if (!o) return x.reject(new O(\"Unable to retrieve OAuth redirect params cookie\"));\n\n      try {\n        var i = JSON.parse(o),\n            s = i.urls;\n        delete i.urls, R.delete(C.REDIRECT_OAUTH_PARAMS_COOKIE_NAME);\n      } catch (e) {\n        return x.reject(new O(\"Unable to parse the \" + C.REDIRECT_OAUTH_PARAMS_COOKIE_NAME + \" cookie: \" + e.message));\n      }\n\n      return x.resolve(A.hashToObject(r)).then(function (n) {\n        return t || T(e), f(e, i, n, s);\n      });\n    }\n\n    function b(e, t) {\n      return t && (A.isToken(t) || t.accessToken || t.userinfoUrl) ? E.httpRequest(e, {\n        url: t.userinfoUrl,\n        method: \"GET\",\n        accessToken: t.accessToken\n      }).fail(function (e) {\n        if (e.xhr && (401 === e.xhr.status || 403 === e.xhr.status)) {\n          var t;\n\n          if (e.xhr.headers && S.isFunction(e.xhr.headers.get) && e.xhr.headers.get(\"WWW-Authenticate\") ? t = e.xhr.headers.get(\"WWW-Authenticate\") : S.isFunction(e.xhr.getResponseHeader) && (t = e.xhr.getResponseHeader(\"WWW-Authenticate\")), t) {\n            var n = t.match(/error=\"(.*?)\"/) || [],\n                r = t.match(/error_description=\"(.*?)\"/) || [],\n                o = n[1],\n                i = r[1];\n            o && i && (e = new U(o, i));\n          }\n        }\n\n        throw e;\n      }) : x.reject(new O(\"getUserInfo requires an access token object\"));\n    }\n\n    var E = n(3),\n        S = n(0),\n        A = n(10),\n        x = n(5),\n        _ = n(26),\n        O = n(1),\n        U = n(27),\n        C = n(2),\n        R = n(4).storage,\n        j = n(28);\n\n    e.exports = {\n      revokeToken: r,\n      getToken: h,\n      getWithoutPrompt: y,\n      getWithPopup: g,\n      getWithRedirect: m,\n      parseFromUrl: k,\n      decodeToken: o,\n      renewToken: w,\n      getUserInfo: b,\n      verifyToken: i,\n      handleOAuthResponse: f,\n      prepareOauthParams: v\n    };\n  }, function (e, t, n) {\n    function r(e, t) {\n      t = o.clone(t);\n      var n = {\n        name: \"RSASSA-PKCS1-v1_5\",\n        hash: {\n          name: \"SHA-256\"\n        }\n      },\n          r = [\"verify\"];\n      return delete t.use, crypto.subtle.importKey(\"jwk\", t, n, !0, r).then(function (t) {\n        var r = e.split(\".\"),\n            i = o.stringToBuffer(r[0] + \".\" + r[1]),\n            s = o.base64UrlDecode(r[2]),\n            a = o.stringToBuffer(s);\n        return crypto.subtle.verify(n, t, a, i);\n      });\n    }\n\n    var o = n(0);\n    e.exports = {\n      verifyToken: r\n    };\n  }, function (e, t) {\n    function n(e, t) {\n      this.name = \"OAuthError\", this.message = t, this.errorCode = e, this.errorSummary = t;\n    }\n\n    n.prototype = new Error(), e.exports = n;\n  }, function (e, t, n) {\n    function r(e) {\n      return (\"0\" + e.toString(16)).substr(-2);\n    }\n\n    function o(e) {\n      var t = new Uint8Array(Math.ceil(e / 2));\n      return crypto.getRandomValues(t), Array.from(t, r).join(\"\").slice(0, e);\n    }\n\n    function i(e) {\n      var t = e || \"\";\n      return t.length < g && (t += o(g - t.length)), encodeURIComponent(t).slice(0, v);\n    }\n\n    function s(e, t) {\n      e.options.storageUtil.getPKCEStorage().setStorage(t);\n    }\n\n    function a(e) {\n      return e.options.storageUtil.getPKCEStorage().getStorage();\n    }\n\n    function u(e) {\n      e.options.storageUtil.getPKCEStorage().clearStorage();\n    }\n\n    function c(e) {\n      var t = new TextEncoder().encode(e);\n      return crypto.subtle.digest(\"SHA-256\", t).then(function (e) {\n        var t = String.fromCharCode.apply(null, new Uint8Array(e));\n        return y.stringToBase64Url(t);\n      });\n    }\n\n    function f(e) {\n      if (!e.clientId) throw new d(\"A clientId must be specified in the OktaAuth constructor to get a token\");\n      if (!e.redirectUri) throw new d(\"The redirectUri passed to /authorize must also be passed to /token\");\n      if (!e.authorizationCode) throw new d(\"An authorization code (returned from /authorize) must be passed to /token\");\n      if (!e.codeVerifier) throw new d('The \"codeVerifier\" (generated and saved by your app) must be passed to /token');\n    }\n\n    function p(e) {\n      var t = y.removeNils({\n        client_id: e.clientId,\n        redirect_uri: e.redirectUri,\n        grant_type: \"authorization_code\",\n        code: e.authorizationCode,\n        code_verifier: e.codeVerifier\n      });\n      return y.toQueryParams(t).slice(1);\n    }\n\n    function l(e, t, n) {\n      f(t);\n      var r = p(t);\n      return h.httpRequest(e, {\n        url: n.tokenUrl,\n        method: \"POST\",\n        args: r,\n        withCredentials: !1,\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        }\n      });\n    }\n\n    var d = n(1),\n        h = n(3),\n        y = n(0),\n        g = 43,\n        v = 128;\n    e.exports = {\n      DEFAULT_CODE_CHALLENGE_METHOD: \"S256\",\n      generateVerifier: i,\n      clearMeta: u,\n      saveMeta: s,\n      loadMeta: a,\n      computeChallenge: c,\n      getToken: l\n    };\n  }, function (e, t, n) {\n    function r(e, t) {\n      return t.expiresAt - e.options.expireEarlySeconds;\n    }\n\n    function o(e, t) {\n      return r(e, t) <= e.clock.now();\n    }\n\n    function i(e, t, n) {\n      e.emitter.emit(\"expired\", t, n);\n    }\n\n    function s(e, t) {\n      e.emitter.emit(\"error\", t);\n    }\n\n    function a(e, t) {\n      clearTimeout(e.expireTimeouts[t]), delete e.expireTimeouts[t], delete e.renewPromise[t];\n    }\n\n    function u(e) {\n      var t = e.expireTimeouts;\n\n      for (var n in t) t.hasOwnProperty(n) && a(e, n);\n    }\n\n    function c(e, t, n, o) {\n      var s = r(t, o),\n          u = 1e3 * Math.max(s - t.clock.now(), 0);\n      a(t, n);\n      var c = setTimeout(function () {\n        i(t, n, o);\n      }, u);\n      t.expireTimeouts[n] = c;\n    }\n\n    function f(e, t, n) {\n      try {\n        var r = n.getStorage();\n      } catch (e) {\n        return void s(t, e);\n      }\n\n      for (var o in r) if (r.hasOwnProperty(o)) {\n        var i = r[o];\n        c(e, t, o, i);\n      }\n    }\n\n    function p(e, t, n, r, o) {\n      var i = n.getStorage();\n      if (!m.isObject(o) || !o.scopes || !o.expiresAt && 0 !== o.expiresAt || !o.idToken && !o.accessToken) throw new w(\"Token must be an Object with scopes, expiresAt, and an idToken or accessToken properties\");\n      i[r] = o, n.setStorage(i), c(e, t, r, o);\n    }\n\n    function l(e, t) {\n      return e.getStorage()[t];\n    }\n\n    function d(e, t, n, r) {\n      return k.Promise(function (i) {\n        var s = l(n, r);\n        return i(s && o(t, s) ? t.options.autoRenew ? y(e, t, n, r) : h(t, n, r) : s);\n      });\n    }\n\n    function h(e, t, n) {\n      a(e, n);\n      var r = t.getStorage();\n      delete r[n], t.setStorage(r);\n    }\n\n    function y(e, t, n, r) {\n      var o = t.renewPromise[r];\n      if (o) return o;\n\n      try {\n        var i = l(n, r);\n        if (!i) throw new w(\"The tokenManager has no token for the key: \" + r);\n      } catch (e) {\n        return k.reject(e);\n      }\n\n      return a(t, r), t.renewPromise[r] = e.token.renew(i).then(function (o) {\n        var s = o;\n        o instanceof Array && (s = o.find(function (e) {\n          return e.idToken && i.idToken || e.accessToken && i.accessToken;\n        }));\n        var a = l(n, r);\n        if (a) return p(e, t, n, r, s), t.emitter.emit(\"renewed\", r, s, a), s;\n      }).catch(function (e) {\n        throw \"OAuthError\" !== e.name && \"AuthSdkError\" !== e.name || (h(t, n, r), e.tokenKey = r, e.accessToken = !!i.accessToken, s(t, e)), e;\n      }).finally(function () {\n        delete t.renewPromise[r];\n      }), t.renewPromise[r];\n    }\n\n    function g(e, t) {\n      u(e), t.clearStorage();\n    }\n\n    function v(e, t) {\n      t = m.extend({}, A, m.removeNils(t)), \"localStorage\" !== t.storage || T.browserHasLocalStorage() || (m.warn(\"This browser doesn't support localStorage. Switching to sessionStorage.\"), t.storage = \"sessionStorage\"), \"sessionStorage\" !== t.storage || T.browserHasSessionStorage() || (m.warn(\"This browser doesn't support sessionStorage. Switching to cookie-based storage.\"), t.storage = \"cookie\");\n      var n;\n      if (\"object\" == typeof t.storage) n = t.storage;else switch (t.storage) {\n        case \"localStorage\":\n          n = localStorage;\n          break;\n\n        case \"sessionStorage\":\n          n = sessionStorage;\n          break;\n\n        case \"cookie\":\n          n = T.getCookieStorage(t);\n          break;\n\n        case \"memory\":\n          n = T.getInMemoryStorage();\n          break;\n\n        default:\n          throw new w(\"Unrecognized storage option\");\n      }\n      var r = t.storageKey || b.TOKEN_STORAGE_NAME,\n          o = E(n, r),\n          i = S.create(e, t),\n          s = {\n        clock: i,\n        options: t,\n        emitter: e.emitter,\n        expireTimeouts: {},\n        renewPromise: {}\n      };\n      this.add = m.bind(p, this, e, s, o), this.get = m.bind(d, this, e, s, o), this.remove = m.bind(h, this, s, o), this.clear = m.bind(g, this, s, o), this.renew = m.bind(y, this, e, s, o), this.on = m.bind(s.emitter.on, s.emitter), this.off = m.bind(s.emitter.off, s.emitter), f(e, s, o);\n    }\n\n    var m = n(0),\n        w = n(1),\n        T = n(4),\n        k = n(5),\n        b = n(2),\n        E = n(6),\n        S = n(30),\n        A = {\n      autoRenew: !0,\n      storage: \"localStorage\",\n      expireEarlySeconds: 30\n    };\n    e.exports = v;\n  }, function (e, t, n) {\n    function r(e) {\n      this.localOffset = parseInt(e || 0);\n    }\n\n    n(0).extend(r.prototype, {\n      now: function () {\n        return (Date.now() + this.localOffset) / 1e3;\n      }\n    }), r.create = function () {\n      return new r(0);\n    }, e.exports = r;\n  }]);\n});","map":{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:/webpack/bootstrap 12d46bf8c846e337dfb1","webpack:///okta-auth-js.min.js","webpack:///lib/util.js","webpack:///lib/errors/AuthSdkError.js","webpack:///lib/constants.js","webpack:///lib/http.js","webpack:///lib/browser/browserStorage.js","webpack:///node_modules/q/q.js","webpack:///lib/storageBuilder.js","webpack:///lib/tx.js","webpack:///root/okta/okta-auth-js/node_modules/process/browser.js","webpack:///(webpack)/buildin/global.js","webpack:///lib/oauthUtil.js","webpack:///lib/browser/browserIndex.js","webpack:///fetch/fetchRequest.js","webpack:///root/okta/okta-auth-js/node_modules/cross-fetch/dist/browser-ponyfill.js","webpack:///root/okta/okta-auth-js/node_modules/js-cookie/src/js.cookie.js","webpack:///lib/browser/browser.js","webpack:///lib/vendor/polyfills.js","webpack:///root/okta/okta-auth-js/node_modules/Base64/base64.js","webpack:///root/okta/okta-auth-js/node_modules/tiny-emitter/index.js","webpack:///lib/builderUtil.js","webpack:///root/okta/okta-auth-js/node_modules/timers-browserify/main.js","webpack:///root/okta/okta-auth-js/node_modules/setimmediate/setImmediate.js","webpack:///lib/errors/AuthApiError.js","webpack:///lib/errors/AuthPollStopError.js","webpack:///lib/session.js","webpack:///lib/token.js","webpack:///lib/crypto.js","webpack:///lib/errors/OAuthError.js","webpack:///lib/pkce.js","webpack:///lib/TokenManager.js","webpack:///lib/clock.js"],"names":["root","factory","exports","module","define","amd","self","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","setImmediate","util","stringToBase64Url","str","b64","btoa","base64ToBase64Url","replace","base64UrlToBase64","b64u","base64UrlToString","length","utf8","atob","decodeURIComponent","escape","e","stringToBuffer","buffer","Uint8Array","charCodeAt","base64UrlDecode","bind","fn","ctx","additionalArgs","Array","slice","arguments","args","concat","apply","isAbsoluteUrl","url","test","isString","obj","toString","isObject","isNumber","isArray","isoToUTCString","parts","match","isoTime","Date","UTC","toUTCString","toQueryParams","key","undefined","push","encodeURIComponent","join","genRandomString","randomCharset","random","cl","Math","floor","extend","obj1","forEach","prop","removeNils","cleaned","value","clone","JSON","stringify","parse","omit","props","newobj","indexOf","find","collection","searchParams","item","found","getLink","linkName","altName","_links","link","getNativeConsole","window","console","getConsole","nativeConsole","log","warn","text","deprecate","deprecateWrap","removeTrailingSlash","path","trimmed","isIE11OrLess","document","documentMode","isFunction","AuthSdkError","msg","xhr","message","errorCode","errorSummary","errorLink","errorId","errorCauses","Error","Q","AuthApiError","constants","httpRequest","sdk","options","method","saveAuthnState","accessToken","withCredentials","storageUtil","storage","httpCache","getHttpCache","cacheResponse","cacheContents","getStorage","cachedResponse","now","expiresAt","resolve","response","headers","userAgent","ajaxOptions","data","err","res","httpRequestClient","then","resp","responseText","stateToken","delete","STATE_TOKEN_KEY_NAME","set","updateStorage","DEFAULT_CACHE_DURATION","fail","serverErr","status","transformErrorXHR","getOptions","post","postOptions","Cookies","storageBuilder","browserHasLocalStorage","getLocalStorage","testStorage","browserHasSessionStorage","getSessionStorage","getPKCEStorage","PKCE_STORAGE_NAME","getCookieStorage","CACHE_STORAGE_NAME","localStorage","sessionStorage","getItem","setItem","secure","getInMemoryStorage","store","removeItem","cookieOptions","expires","remove","definition","bootstrap","hasStacks","stack","qStartingLine","captureLine","qFileName","noop","nextTick","head","task","next","tail","flushing","requestTick","isNodeJS","laterQueue","flush","domain","enter","runSingle","pop","exit","setTimeout","process","MessageChannel","channel","port1","onmessage","requestPortTick","port2","postMessage","runAfter","Function","uncurryThis","f","array_slice","array_reduce","reduce","callback","basis","index","TypeError","array_indexOf","array_map","map","thisp","collect","object_create","create","Type","object_hasOwnProperty","object_keys","keys","object_toString","isStopIteration","exception","QReturnValue","ReturnValue","STACK_JUMP_SEPARATOR","makeStackTraceLong","error","promise","stacks","source","unshift","concatedStacks","filterStackString","stackString","lines","split","desiredLines","line","isInternalFrame","isNodeFrame","stackLine","getFileNameAndLineNumber","attempt1","exec","Number","attempt2","attempt3","fileNameAndLineNumber","fileName","lineNumber","qEndingLine","firstLine","alternative","Promise","isPromiseAlike","coerce","fulfill","longStackSupport","env","Q_DEBUG","defer","messages","progressListeners","resolvedPromise","deferred","promiseDispatch","op","operands","valueOf","nearerValue","nearer","isPromise","inspect","state","substring","become","newPromise","reject","reason","notify","progress","progressListener","makeNodeResolver","resolver","race","all","passByCopy","x","y","that","spread","answerPs","len","makePromise","descriptor","fallback","result","inspected","fulfilled","rejected","progressed","done","_fulfilled","_rejected","newException","_progressed","newValue","threw","onerror","tap","fcall","thenResolve","when","thenReject","isPending","isFulfilled","isRejected","unhandledReasons","unhandledRejections","reportedUnhandledRejections","trackUnhandledRejections","resetUnhandledRejections","trackRejection","emit","untrackRejection","at","atReport","splice","getUnhandledReasons","stopUnhandledRejectionTracking","rejection","rhs","master","dispatch","array","async","makeGenerator","continuer","verb","arg","StopIteration","generator","errback","spawn","_return","promised","del","mapply","send","mcall","invoke","fapply","fbind","promises","pendingCount","snapshot","any","prev","current","onFulfilled","onRejected","onProgress","allResolved","allSettled","regardless","fin","onUnhandledError","timeout","ms","timeoutId","code","clearTimeout","delay","nfapply","nodeArgs","nfcall","nfbind","denodeify","baseArgs","nbind","bound","nmapply","npost","nsend","nmcall","ninvoke","nodeify","nodeback","noConflict","webstorage","storageName","storageString","setStorage","clearStorage","http","AuthPollStopError","addStateToken","builtArgs","getStateToken","transactionStatus","resumeTransaction","tx","exists","_get","AuthTransaction","introspect","transactionStep","transactionExists","postToTransaction","getPollFn","ref","rememberDevice","autoPush","transactionCallBack","DEFAULT_POLLING_DELAY","pollLink","pollFn","opts","href","isPolling","retryCount","recursivePoll","pollRes","factorResult","delayLength","pow","link2fn","lk","hints","allow","factorType","provider","params","profile","updatePhone","links2fns","fns","type","poll","flattenEmbedded","objArr","ol","embedded","_embedded","cancel","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","run","Item","title","browser","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","g","eval","generateState","generateNonce","isToken","idToken","scopes","eventTarget","addEventListener","attachEvent","removeEventListener","detachEvent","loadFrame","src","iframe","createElement","style","display","body","appendChild","loadPopup","popupTitle","appearance","winEl","open","location","getWellKnown","issuer","getKey","kid","wellKnown","jwksUri","cachedKey","validateClaims","claims","validationParams","aud","clientId","iss","nonce","iat","exp","maxClockSkew","getOAuthUrls","oauthParams","authorizeUrl","userinfoUrl","tokenUrl","logoutUrl","revokeUrl","responseType","baseUrl","RegExp","endsWith","hashToObject","hash","plus2space","paramSplit","fragment","param","fetchRequest","fetch","credentials","ok","respHandler","toLowerCase","json","__self__","F","DOMException","support","iterable","Symbol","blob","Blob","formData","arrayBuffer","isDataView","DataView","isPrototypeOf","viewClasses","isArrayBufferView","ArrayBuffer","isView","normalizeName","String","normalizeValue","iteratorFor","items","iterator","shift","Headers","append","header","getOwnPropertyNames","oldValue","has","thisArg","values","entries","consumed","bodyUsed","fileReaderReady","reader","onload","readBlobAsArrayBuffer","FileReader","readAsArrayBuffer","readBlobAsText","readAsText","readArrayBufferAsText","buf","view","chars","fromCharCode","bufferClone","byteLength","Body","_initBody","_bodyInit","_bodyText","_bodyBlob","FormData","_bodyFormData","URLSearchParams","_bodyArrayBuffer","decode","methods","normalizeMethod","upcased","toUpperCase","Request","input","mode","signal","referrer","form","trim","bytes","parseHeaders","rawHeaders","Response","bodyInit","statusText","redirectStatuses","redirect","RangeError","constructor","init","request","aborted","XMLHttpRequest","abortXhr","abort","getAllResponseHeaders","responseURL","ontimeout","onabort","setRequestHeader","onreadystatechange","readyState","polyfill","default","registeredInModuleLoader","OldCookies","api","attributes","converter","defaults","setMilliseconds","getMilliseconds","write","stringifiedAttributes","attributeName","cookie","cookies","rdecode","charAt","read","getJSON","withConverter","Emitter","builderUtil","oauthUtil","session","token","TokenManager","OktaAuthBuilder","getValidUrl","usePKCE","pkce","grantType","redirectUri","postLogoutRedirectUri","onSessionExpired","features","isPKCESupported","errorMessage","isHTTPS","hasTextEncoder","DEFAULT_MAX_CLOCK_SKEW","ignoreSignature","close","closeSession","sessionExists","getSession","refresh","refreshSession","setCookieAndRedirect","resume","authorize","_getLocationHref","getWithoutPrompt","getWithPopup","getWithRedirect","parseFromUrl","decodeToken","revoke","revokeToken","renew","renewToken","getUserInfo","verify","verifyToken","_setLocation","_getHistory","history","_getLocation","_getDocument","fingerprint","_getUserAgent","navigator","isWindowsPhone","isFingerprintSupported","agent","emitter","tokenManager","_onTokenManagerError","proto","isPopupPostMessageSupported","isIE8or9","isTokenVerifySupported","crypto","subtle","TextEncoder","protocol","signIn","sendFingerprint","signOut","revokeAccessToken","catch","tokens","clear","assign","idTokenHint","logoutUri","addSharedPrototypes","webfinger","listener","origin","contains","parentElement","removeChild","buildOktaAuth","searchElement","fromIndex","k","abs","Infinity","max","InvalidCharacterError","block","charCode","idx","output","bc","bs","E","_","evtArr","evts","liveEvents","isUrlRegex","forgotPassword","unlockAccount","verifyRecoveryToken","OktaAuth","ajaxRequest","Timeout","scope","setInterval","clearInterval","id","clearFn","_id","_clearFn","unref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","global","clearImmediate","nextHandle","tasksByHandle","currentlyRunningATask","doc","registerImmediate","handle","runIfPresent","importScripts","postMessageIsAsynchronous","oldOnMessage","messagePrefix","onGlobalMessage","event","html","documentElement","script","attachTo","getPrototypeOf","user","sessionToken","redirectUrl","checkAccountSetupComplete","sdkCrypto","OAuthError","PKCE","token_type_hint","creds","jwt","decodedToken","payload","signature","validationOptions","valid","addPostMessageListener","responseHandler","addFragmentListener","windowEl","hashChangeHandler","closed","exchangeCodeForToken","authorizationCode","urls","meta","loadMeta","getTokenParams","codeVerifier","getToken","validateResponse","clearMeta","handleOAuthResponse","tokenDict","tokenType","filter","getDefaultOAuthParams","responseMode","convertOAuthParamsToQueryParams","oauthQueryParams","codeChallenge","codeChallengeMethod","idp","idpScope","loginHint","maxAge","prompt","mayBeArray","buildAuthorizeParams","oauthOptions","prepareOauthParams","sessionTokenOverrides","idpOverrides","requestUrl","endpoint","getOrigin","iframePromise","iframeEl","popupPromise","windowOptions","windowOrigin","redirectUriOrigin","popupDeferred","hasClosed","win","closePoller","DEFAULT_CODE_CHALLENGE_METHOD","generateVerifier","saveMeta","computeChallenge","clonedParams","includes","REDIRECT_OAUTH_PARAMS_COOKIE_NAME","REDIRECT_NONCE_COOKIE_NAME","REDIRECT_STATE_COOKIE_NAME","removeHash","nativeHistory","nativeDoc","nativeLoc","replaceState","pathname","search","oauthParamsCookie","accessTokenObject","authenticateHeader","getResponseHeader","errorMatches","errorDescriptionMatches","errorDescription","algo","usages","use","importKey","cryptoKey","b64Signature","summary","MIN_VERIFIER_LENGTH","MAX_VERIFIER_LENGTH","dec2hex","dec","substr","getRandomString","a","ceil","getRandomValues","from","prefix","verifier","encode","digest","validateOptions","getPostData","SdkClock","DEFAULT_OPTIONS","autoRenew","expireEarlySeconds","getExpireTime","tokenMgmtRef","hasExpired","clock","emitExpired","emitError","clearExpireEventTimeout","expireTimeouts","renewPromise","clearExpireEventTimeoutAll","setExpireEventTimeout","expireTime","expireEventWait","expireEventTimeout","setExpireEventTimeoutAll","tokenStorage","add","getAsync","existingPromise","freshTokens","freshToken","oldToken","tokenKey","finally","storageProvider","storageKey","TOKEN_STORAGE_NAME","localOffset","parseInt"],"mappings":"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","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"OktaAuth\"] = factory();\n\telse\n\t\troot[\"OktaAuth\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 12d46bf8c846e337dfb1","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"OktaAuth\"] = factory();\n\telse\n\t\troot[\"OktaAuth\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 11);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n/* eslint-env es6 */\nvar util = module.exports;\n\n// converts a string to base64 (url/filename safe variant)\nutil.stringToBase64Url = function(str) {\n  var b64 = btoa(str);\n  return util.base64ToBase64Url(b64);\n};\n\n// converts a standard base64-encoded string to a \"url/filename safe\" variant\nutil.base64ToBase64Url = function(b64) {\n  return b64.replace(/\\+/g, '-').replace(/\\//g, '_').replace(/=+$/, '');\n};\n\n// converts a \"url/filename safe\" base64 string to a \"standard\" base64 string\nutil.base64UrlToBase64 = function(b64u) {\n  return b64u.replace(/-/g, '+').replace(/_/g, '/');\n};\n\nutil.base64UrlToString = function(b64u) {\n  var b64 = util.base64UrlToBase64(b64u);\n  switch (b64.length % 4) {\n    case 0:\n      break;\n    case 2:\n      b64 += '==';\n      break;\n    case 3:\n      b64 += '=';\n      break;\n    default:\n      throw 'Not a valid Base64Url';\n  }\n  var utf8 = atob(b64);\n  try {\n    return decodeURIComponent(escape(utf8));\n  } catch (e) {\n    return utf8;\n  }\n};\n\nutil.stringToBuffer = function(str) {\n  var buffer = new Uint8Array(str.length);\n  for (var i = 0; i < str.length; i++) {\n    buffer[i] = str.charCodeAt(i);\n  }\n  return buffer;\n};\n\nutil.base64UrlDecode = function(str) {\n  return atob(util.base64UrlToBase64(str));\n};\n\nutil.bind = function(fn, ctx) {\n  var additionalArgs = Array.prototype.slice.call(arguments, 2);\n  return function() {\n    var args = Array.prototype.slice.call(arguments);\n    args = additionalArgs.concat(args);\n    return fn.apply(ctx, args);\n  };\n};\n\nutil.isAbsoluteUrl = function(url) {\n  return /^(?:[a-z]+:)?\\/\\//i.test(url);\n};\n\nutil.isString = function(obj) {\n  return Object.prototype.toString.call(obj) === '[object String]';\n};\n\nutil.isObject = function(obj) {\n  return Object.prototype.toString.call(obj) === '[object Object]';\n};\n\nutil.isNumber = function(obj) {\n  return Object.prototype.toString.call(obj) === '[object Number]';\n};\n\nutil.isArray = function(obj) {\n  return Object.prototype.toString.call(obj) === '[object Array]';\n};\n\nutil.isoToUTCString = function(str) {\n  var parts = str.match(/\\d+/g),\n      isoTime = Date.UTC(parts[0], parts[1] - 1, parts[2], parts[3], parts[4], parts[5]),\n      isoDate = new Date(isoTime);\n\n  return isoDate.toUTCString();\n};\n\nutil.toQueryParams = function(obj) {\n  var str = [];\n  if (obj !== null) {\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key) &&\n          obj[key] !== undefined &&\n          obj[key] !== null) {\n        str.push(key + '=' + encodeURIComponent(obj[key]));\n      }\n    }\n  }\n  if (str.length) {\n    return '?' + str.join('&');\n  } else {\n    return '';\n  }\n};\n\nutil.genRandomString = function(length) {\n  var randomCharset = 'abcdefghijklnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\n  var random = '';\n  for (var c = 0, cl = randomCharset.length; c < length; ++c) {\n    random += randomCharset[Math.floor(Math.random() * cl)];\n  }\n  return random;\n};\n\nutil.extend = function() {\n  // First object will be modified!\n  var obj1 = arguments[0];\n  // Properties from other objects will be copied over\n  var objArray = [].slice.call(arguments, 1);\n  objArray.forEach(function(obj) {\n    for (var prop in obj) {\n      // copy over all properties with defined values\n      if (obj.hasOwnProperty(prop) && obj[prop] !== undefined) {\n        obj1[prop] = obj[prop];\n      }\n    }\n  });\n  return obj1; // return the modified object\n};\n\nutil.removeNils = function(obj) {\n  var cleaned = {};\n  for (var prop in obj) {\n    if (obj.hasOwnProperty(prop)) {\n      var value = obj[prop];\n      if (value !== null && value !== undefined) {\n        cleaned[prop] = value;\n      }\n    }\n  }\n  return cleaned;\n};\n\nutil.clone = function(obj) {\n  if (obj) {\n    var str = JSON.stringify(obj);\n    if (str) {\n      return JSON.parse(str);\n    }\n  }\n  return obj;\n};\n\n// Analogous to _.omit\nutil.omit = function(obj) {\n  var props = Array.prototype.slice.call(arguments, 1);\n  var newobj = {};\n  for (var p in obj) {\n    if (obj.hasOwnProperty(p) && props.indexOf(p) == -1) {\n      newobj[p] = obj[p];\n    }\n  }\n  return util.clone(newobj);\n};\n\nutil.find = function(collection, searchParams) {\n  var c = collection.length;\n  while (c--) {\n    var item = collection[c];\n    var found = true;\n    for (var prop in searchParams) {\n      if (!searchParams.hasOwnProperty(prop)) {\n        continue;\n      }\n      if (item[prop] !== searchParams[prop]) {\n        found = false;\n        break;\n      }\n    }\n    if (found) {\n      return item;\n    }\n  }\n};\n\nutil.getLink = function(obj, linkName, altName) {\n  if (!obj || !obj._links) {\n    return;\n  }\n\n  var link = util.clone(obj._links[linkName]);\n\n  // If a link has a name and we have an altName, return if they match\n  if (link && link.name && altName) {\n    if (link.name === altName) {\n      return link;\n    }\n  } else {\n    return link;\n  }\n};\n\nutil.getNativeConsole = function() {\n  if (typeof window !== 'undefined') {\n    return window.console;\n  } else if (typeof console !== 'undefined') {\n    return console;\n  } else {\n    return undefined;\n  }\n};\n\nutil.getConsole = function() {\n  var nativeConsole = util.getNativeConsole();\n  if (nativeConsole && nativeConsole.log) {\n    return nativeConsole;\n  }\n  return {\n    log: function() {}\n  };\n};\n\nutil.warn = function(text) {\n  /* eslint-disable no-console */\n  util.getConsole().log('[okta-auth-sdk] WARN: ' + text);\n  /* eslint-enable */\n};\n\nutil.deprecate = function(text) {\n  /* eslint-disable no-console */\n  util.getConsole().log('[okta-auth-sdk] DEPRECATION: ' + text);\n  /* eslint-enable */\n};\n\nutil.deprecateWrap = function(text, fn) {\n  return function() {\n    util.deprecate(text);\n    return fn.apply(null, arguments);\n  };\n};\n\nutil.removeTrailingSlash = function(path) {\n  if (!path) {\n    return;\n  }\n  // Remove any whitespace before or after string\n  var trimmed = path.replace(/^\\s+|\\s+$/gm,'');\n  // Remove trailing slash(es)\n  trimmed = trimmed.replace(/\\/+$/, '');\n\n  return trimmed;\n};\n\nutil.isIE11OrLess = function() {\n  return !!document.documentMode && document.documentMode <= 11;\n};\n\nutil.isFunction = function(fn) {\n  return !!fn && {}.toString.call(fn) === '[object Function]';\n};\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nfunction AuthSdkError(msg, xhr) {\n  this.name = 'AuthSdkError';\n  this.message = msg;\n\n  this.errorCode = 'INTERNAL';\n  this.errorSummary = msg;\n  this.errorLink = 'INTERNAL';\n  this.errorId = 'INTERNAL';\n  this.errorCauses = [];\n  if (xhr) {\n    this.xhr = xhr;\n  }\n}\nAuthSdkError.prototype = new Error();\n\nmodule.exports = AuthSdkError;\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n  'STATE_TOKEN_KEY_NAME': 'oktaStateToken',\n  'DEFAULT_POLLING_DELAY': 500,\n  'DEFAULT_MAX_CLOCK_SKEW': 300,\n  'DEFAULT_CACHE_DURATION': 86400,\n  'REDIRECT_OAUTH_PARAMS_COOKIE_NAME': 'okta-oauth-redirect-params',\n  'REDIRECT_STATE_COOKIE_NAME': 'okta-oauth-state',\n  'REDIRECT_NONCE_COOKIE_NAME': 'okta-oauth-nonce',\n  'TOKEN_STORAGE_NAME': 'okta-token-storage',\n  'CACHE_STORAGE_NAME': 'okta-cache-storage',\n  'PKCE_STORAGE_NAME': 'okta-pkce-storage'\n};\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* eslint-disable complexity */\nvar util = __webpack_require__(0);\nvar Q = __webpack_require__(5);\nvar AuthApiError = __webpack_require__(22);\nvar constants = __webpack_require__(2);\n\nfunction httpRequest(sdk, options) {\n  options = options || {};\n  var url = options.url,\n      method = options.method,\n      args = options.args,\n      saveAuthnState = options.saveAuthnState,\n      accessToken = options.accessToken,\n      withCredentials = options.withCredentials !== false, // default value is true\n      storageUtil = sdk.options.storageUtil,\n      storage = storageUtil.storage,\n      httpCache = storageUtil.getHttpCache();\n\n  if (options.cacheResponse) {\n    var cacheContents = httpCache.getStorage();\n    var cachedResponse = cacheContents[url];\n    if (cachedResponse && Date.now()/1000 < cachedResponse.expiresAt) {\n      return Q.resolve(cachedResponse.response);\n    }\n  }\n\n  var headers = {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json',\n    'X-Okta-User-Agent-Extended': sdk.userAgent\n  };\n  util.extend(headers, sdk.options.headers, options.headers);\n\n  if (accessToken && util.isString(accessToken)) {\n    headers['Authorization'] = 'Bearer ' + accessToken;\n  }\n\n  var ajaxOptions = {\n    headers: headers,\n    data: args || undefined,\n    withCredentials: withCredentials\n  };\n\n  var err, res;\n  return new Q(sdk.options.httpRequestClient(method, url, ajaxOptions))\n    .then(function(resp) {\n      res = resp.responseText;\n      if (res && util.isString(res)) {\n        res = JSON.parse(res);\n      }\n\n      if (saveAuthnState) {\n        if (!res.stateToken) {\n          storage.delete(constants.STATE_TOKEN_KEY_NAME);\n        }\n      }\n\n      if (res && res.stateToken && res.expiresAt) {\n        storage.set(constants.STATE_TOKEN_KEY_NAME, res.stateToken, res.expiresAt);\n      }\n\n      if (res && options.cacheResponse) {\n        httpCache.updateStorage(url, {\n          expiresAt: Math.floor(Date.now()/1000) + constants.DEFAULT_CACHE_DURATION,\n          response: res\n        });\n      }\n\n      return res;\n    })\n    .fail(function(resp) {\n      var serverErr = resp.responseText || {};\n      if (util.isString(serverErr)) {\n        try {\n          serverErr = JSON.parse(serverErr);\n        } catch (e) {\n          serverErr = {\n            errorSummary: 'Unknown error'\n          };\n        }\n      }\n\n      if (resp.status >= 500) {\n        serverErr.errorSummary = 'Unknown error';\n      }\n\n      if (sdk.options.transformErrorXHR) {\n        resp = sdk.options.transformErrorXHR(util.clone(resp));\n      }\n\n      err = new AuthApiError(serverErr, resp);\n\n      if (err.errorCode === 'E0000011') {\n        storage.delete(constants.STATE_TOKEN_KEY_NAME);\n      }\n\n      throw err;\n    });\n}\n\nfunction get(sdk, url, options) {\n  url = util.isAbsoluteUrl(url) ? url : sdk.options.url + url;\n  var getOptions = {\n    url: url,\n    method: 'GET'\n  };\n  util.extend(getOptions, options);\n  return httpRequest(sdk, getOptions);\n}\n\nfunction post(sdk, url, args, options) {\n  url = util.isAbsoluteUrl(url) ? url : sdk.options.url + url;\n  var postOptions = {\n    url: url,\n    method: 'POST',\n    args: args,\n    saveAuthnState: true\n  };\n  util.extend(postOptions, options);\n  return httpRequest(sdk, postOptions);\n}\n\nmodule.exports = {\n  get: get,\n  post: post,\n  httpRequest: httpRequest\n};\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\nvar Cookies = __webpack_require__(14);\nvar storageBuilder = __webpack_require__(6);\nvar constants = __webpack_require__(2);\n\n// Building this as an object allows us to mock the functions in our tests\nvar storageUtil = {};\n\n// IE11 bug that Microsoft doesn't plan to fix\n// https://connect.microsoft.com/IE/Feedback/Details/1496040\nstorageUtil.browserHasLocalStorage = function() {\n  try {\n    var storage = storageUtil.getLocalStorage();\n    return storageUtil.testStorage(storage);\n  } catch (e) {\n    return false;\n  }\n};\n\nstorageUtil.browserHasSessionStorage = function() {\n  try {\n    var storage = storageUtil.getSessionStorage();\n    return storageUtil.testStorage(storage);\n  } catch (e) {\n    return false;\n  }\n};\n\nstorageUtil.getPKCEStorage = function() {\n  if (storageUtil.browserHasLocalStorage()) {\n    return storageBuilder(storageUtil.getLocalStorage(), constants.PKCE_STORAGE_NAME);\n  } else if (storageUtil.browserHasSessionStorage()) {\n    return storageBuilder(storageUtil.getSessionStorage(), constants.PKCE_STORAGE_NAME);\n  } else {\n    return storageBuilder(storageUtil.getCookieStorage(), constants.PKCE_STORAGE_NAME);\n  }\n};\n\nstorageUtil.getHttpCache = function() {\n  if (storageUtil.browserHasLocalStorage()) {\n    return storageBuilder(storageUtil.getLocalStorage(), constants.CACHE_STORAGE_NAME);\n  } else if (storageUtil.browserHasSessionStorage()) {\n    return storageBuilder(storageUtil.getSessionStorage(), constants.CACHE_STORAGE_NAME);\n  } else {\n    return storageBuilder(storageUtil.getCookieStorage(), constants.CACHE_STORAGE_NAME);\n  }\n};\n\nstorageUtil.getLocalStorage = function() {\n  return localStorage;\n};\n\nstorageUtil.getSessionStorage = function() {\n  return sessionStorage;\n};\n\n// Provides webStorage-like interface for cookies\nstorageUtil.getCookieStorage = function(options) {\n  options = options || {};\n  return {\n    getItem: storageUtil.storage.get,\n    setItem: function(key, value) {\n      // Cookie shouldn't expire\n      storageUtil.storage.set(key, value, '2200-01-01T00:00:00.000Z', options.secure);\n    }\n  };\n};\n\n// Provides an in-memory solution\nstorageUtil.getInMemoryStorage = function() {\n  var store = {};\n  return {\n    getItem: function(key) {\n      return store[key];\n    },\n    setItem: function(key, value) {\n      store[key] = value;\n    }\n  };\n};\n\nstorageUtil.testStorage = function(storage) {\n  var key = 'okta-test-storage';\n  try {\n    storage.setItem(key, key);\n    storage.removeItem(key);\n    return true;\n  } catch (e) {\n    return false;\n  }\n};\n\nstorageUtil.storage = {\n  set: function(name, value, expiresAt, secure) {\n    var cookieOptions = {\n      path: '/',\n      secure: secure\n    };\n\n    // eslint-disable-next-line no-extra-boolean-cast\n    if (!!(Date.parse(expiresAt))) {\n      // Expires value can be converted to a Date object.\n      //\n      // If the 'expiresAt' value is not provided, or the value cannot be\n      // parsed as a Date object, the cookie will set as a session cookie.\n      cookieOptions.expires = new Date(expiresAt);\n    }\n\n    Cookies.set(name, value, cookieOptions);\n    return storageUtil.storage.get(name);\n  },\n\n  get: function(name) {\n    return Cookies.get(name);\n  },\n\n  delete: function(name) {\n    return Cookies.remove(name, { path: '/' });\n  }\n};\n\nmodule.exports = storageUtil;\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(process, setImmediate) {// vim:ts=4:sts=4:sw=4:\n/*!\n *\n * Copyright 2009-2012 Kris Kowal under the terms of the MIT\n * license found at http://github.com/kriskowal/q/raw/master/LICENSE\n *\n * With parts by Tyler Close\n * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found\n * at http://www.opensource.org/licenses/mit-license.html\n * Forked at ref_send.js version: 2009-05-11\n *\n * With parts by Mark Miller\n * Copyright (C) 2011 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\n(function (definition) {\n    \"use strict\";\n\n    // This file will function properly as a <script> tag, or a module\n    // using CommonJS and NodeJS or RequireJS module formats.  In\n    // Common/Node/RequireJS, the module exports the Q API and when\n    // executed as a simple <script>, it creates a Q global instead.\n\n    // Montage Require\n    if (typeof bootstrap === \"function\") {\n        bootstrap(\"promise\", definition);\n\n    // CommonJS\n    } else if (true) {\n        module.exports = definition();\n\n    // RequireJS\n    } else if (typeof define === \"function\" && define.amd) {\n        define(definition);\n\n    // SES (Secure EcmaScript)\n    } else if (typeof ses !== \"undefined\") {\n        if (!ses.ok()) {\n            return;\n        } else {\n            ses.makeQ = definition;\n        }\n\n    // <script>\n    } else if (typeof window !== \"undefined\" || typeof self !== \"undefined\") {\n        // Prefer window over self for add-on scripts. Use self for\n        // non-windowed contexts.\n        var global = typeof window !== \"undefined\" ? window : self;\n\n        // Get the `window` object, save the previous Q global\n        // and initialize Q as a global.\n        var previousQ = global.Q;\n        global.Q = definition();\n\n        // Add a noConflict function so Q can be removed from the\n        // global namespace.\n        global.Q.noConflict = function () {\n            global.Q = previousQ;\n            return this;\n        };\n\n    } else {\n        throw new Error(\"This environment was not anticipated by Q. Please file a bug.\");\n    }\n\n})(function () {\n\"use strict\";\n\nvar hasStacks = false;\ntry {\n    throw new Error();\n} catch (e) {\n    hasStacks = !!e.stack;\n}\n\n// All code after this point will be filtered from stack traces reported\n// by Q.\nvar qStartingLine = captureLine();\nvar qFileName;\n\n// shims\n\n// used for fallback in \"allResolved\"\nvar noop = function () {};\n\n// Use the fastest possible means to execute a task in a future turn\n// of the event loop.\nvar nextTick =(function () {\n    // linked list of tasks (single, with head node)\n    var head = {task: void 0, next: null};\n    var tail = head;\n    var flushing = false;\n    var requestTick = void 0;\n    var isNodeJS = false;\n    // queue for late tasks, used by unhandled rejection tracking\n    var laterQueue = [];\n\n    function flush() {\n        /* jshint loopfunc: true */\n        var task, domain;\n\n        while (head.next) {\n            head = head.next;\n            task = head.task;\n            head.task = void 0;\n            domain = head.domain;\n\n            if (domain) {\n                head.domain = void 0;\n                domain.enter();\n            }\n            runSingle(task, domain);\n\n        }\n        while (laterQueue.length) {\n            task = laterQueue.pop();\n            runSingle(task);\n        }\n        flushing = false;\n    }\n    // runs a single function in the async queue\n    function runSingle(task, domain) {\n        try {\n            task();\n\n        } catch (e) {\n            if (isNodeJS) {\n                // In node, uncaught exceptions are considered fatal errors.\n                // Re-throw them synchronously to interrupt flushing!\n\n                // Ensure continuation if the uncaught exception is suppressed\n                // listening \"uncaughtException\" events (as domains does).\n                // Continue in next event to avoid tick recursion.\n                if (domain) {\n                    domain.exit();\n                }\n                setTimeout(flush, 0);\n                if (domain) {\n                    domain.enter();\n                }\n\n                throw e;\n\n            } else {\n                // In browsers, uncaught exceptions are not fatal.\n                // Re-throw them asynchronously to avoid slow-downs.\n                setTimeout(function () {\n                    throw e;\n                }, 0);\n            }\n        }\n\n        if (domain) {\n            domain.exit();\n        }\n    }\n\n    nextTick = function (task) {\n        tail = tail.next = {\n            task: task,\n            domain: isNodeJS && process.domain,\n            next: null\n        };\n\n        if (!flushing) {\n            flushing = true;\n            requestTick();\n        }\n    };\n\n    if (typeof process === \"object\" &&\n        process.toString() === \"[object process]\" && process.nextTick) {\n        // Ensure Q is in a real Node environment, with a `process.nextTick`.\n        // To see through fake Node environments:\n        // * Mocha test runner - exposes a `process` global without a `nextTick`\n        // * Browserify - exposes a `process.nexTick` function that uses\n        //   `setTimeout`. In this case `setImmediate` is preferred because\n        //    it is faster. Browserify's `process.toString()` yields\n        //   \"[object Object]\", while in a real Node environment\n        //   `process.nextTick()` yields \"[object process]\".\n        isNodeJS = true;\n\n        requestTick = function () {\n            process.nextTick(flush);\n        };\n\n    } else if (typeof setImmediate === \"function\") {\n        // In IE10, Node.js 0.9+, or https://github.com/NobleJS/setImmediate\n        if (typeof window !== \"undefined\") {\n            requestTick = setImmediate.bind(window, flush);\n        } else {\n            requestTick = function () {\n                setImmediate(flush);\n            };\n        }\n\n    } else if (typeof MessageChannel !== \"undefined\") {\n        // modern browsers\n        // http://www.nonblocking.io/2011/06/windownexttick.html\n        var channel = new MessageChannel();\n        // At least Safari Version 6.0.5 (8536.30.1) intermittently cannot create\n        // working message ports the first time a page loads.\n        channel.port1.onmessage = function () {\n            requestTick = requestPortTick;\n            channel.port1.onmessage = flush;\n            flush();\n        };\n        var requestPortTick = function () {\n            // Opera requires us to provide a message payload, regardless of\n            // whether we use it.\n            channel.port2.postMessage(0);\n        };\n        requestTick = function () {\n            setTimeout(flush, 0);\n            requestPortTick();\n        };\n\n    } else {\n        // old browsers\n        requestTick = function () {\n            setTimeout(flush, 0);\n        };\n    }\n    // runs a task after all other tasks have been run\n    // this is useful for unhandled rejection tracking that needs to happen\n    // after all `then`d tasks have been run.\n    nextTick.runAfter = function (task) {\n        laterQueue.push(task);\n        if (!flushing) {\n            flushing = true;\n            requestTick();\n        }\n    };\n    return nextTick;\n})();\n\n// Attempt to make generics safe in the face of downstream\n// modifications.\n// There is no situation where this is necessary.\n// If you need a security guarantee, these primordials need to be\n// deeply frozen anyway, and if you dont need a security guarantee,\n// this is just plain paranoid.\n// However, this **might** have the nice side-effect of reducing the size of\n// the minified code by reducing x.call() to merely x()\n// See Mark Millers explanation of what this does.\n// http://wiki.ecmascript.org/doku.php?id=conventions:safe_meta_programming\nvar call = Function.call;\nfunction uncurryThis(f) {\n    return function () {\n        return call.apply(f, arguments);\n    };\n}\n// This is equivalent, but slower:\n// uncurryThis = Function_bind.bind(Function_bind.call);\n// http://jsperf.com/uncurrythis\n\nvar array_slice = uncurryThis(Array.prototype.slice);\n\nvar array_reduce = uncurryThis(\n    Array.prototype.reduce || function (callback, basis) {\n        var index = 0,\n            length = this.length;\n        // concerning the initial value, if one is not provided\n        if (arguments.length === 1) {\n            // seek to the first value in the array, accounting\n            // for the possibility that is is a sparse array\n            do {\n                if (index in this) {\n                    basis = this[index++];\n                    break;\n                }\n                if (++index >= length) {\n                    throw new TypeError();\n                }\n            } while (1);\n        }\n        // reduce\n        for (; index < length; index++) {\n            // account for the possibility that the array is sparse\n            if (index in this) {\n                basis = callback(basis, this[index], index);\n            }\n        }\n        return basis;\n    }\n);\n\nvar array_indexOf = uncurryThis(\n    Array.prototype.indexOf || function (value) {\n        // not a very good shim, but good enough for our one use of it\n        for (var i = 0; i < this.length; i++) {\n            if (this[i] === value) {\n                return i;\n            }\n        }\n        return -1;\n    }\n);\n\nvar array_map = uncurryThis(\n    Array.prototype.map || function (callback, thisp) {\n        var self = this;\n        var collect = [];\n        array_reduce(self, function (undefined, value, index) {\n            collect.push(callback.call(thisp, value, index, self));\n        }, void 0);\n        return collect;\n    }\n);\n\nvar object_create = Object.create || function (prototype) {\n    function Type() { }\n    Type.prototype = prototype;\n    return new Type();\n};\n\nvar object_hasOwnProperty = uncurryThis(Object.prototype.hasOwnProperty);\n\nvar object_keys = Object.keys || function (object) {\n    var keys = [];\n    for (var key in object) {\n        if (object_hasOwnProperty(object, key)) {\n            keys.push(key);\n        }\n    }\n    return keys;\n};\n\nvar object_toString = uncurryThis(Object.prototype.toString);\n\nfunction isObject(value) {\n    return value === Object(value);\n}\n\n// generator related shims\n\n// FIXME: Remove this function once ES6 generators are in SpiderMonkey.\nfunction isStopIteration(exception) {\n    return (\n        object_toString(exception) === \"[object StopIteration]\" ||\n        exception instanceof QReturnValue\n    );\n}\n\n// FIXME: Remove this helper and Q.return once ES6 generators are in\n// SpiderMonkey.\nvar QReturnValue;\nif (typeof ReturnValue !== \"undefined\") {\n    QReturnValue = ReturnValue;\n} else {\n    QReturnValue = function (value) {\n        this.value = value;\n    };\n}\n\n// long stack traces\n\nvar STACK_JUMP_SEPARATOR = \"From previous event:\";\n\nfunction makeStackTraceLong(error, promise) {\n    // If possible, transform the error stack trace by removing Node and Q\n    // cruft, then concatenating with the stack trace of `promise`. See #57.\n    if (hasStacks &&\n        promise.stack &&\n        typeof error === \"object\" &&\n        error !== null &&\n        error.stack &&\n        error.stack.indexOf(STACK_JUMP_SEPARATOR) === -1\n    ) {\n        var stacks = [];\n        for (var p = promise; !!p; p = p.source) {\n            if (p.stack) {\n                stacks.unshift(p.stack);\n            }\n        }\n        stacks.unshift(error.stack);\n\n        var concatedStacks = stacks.join(\"\\n\" + STACK_JUMP_SEPARATOR + \"\\n\");\n        error.stack = filterStackString(concatedStacks);\n    }\n}\n\nfunction filterStackString(stackString) {\n    var lines = stackString.split(\"\\n\");\n    var desiredLines = [];\n    for (var i = 0; i < lines.length; ++i) {\n        var line = lines[i];\n\n        if (!isInternalFrame(line) && !isNodeFrame(line) && line) {\n            desiredLines.push(line);\n        }\n    }\n    return desiredLines.join(\"\\n\");\n}\n\nfunction isNodeFrame(stackLine) {\n    return stackLine.indexOf(\"(module.js:\") !== -1 ||\n           stackLine.indexOf(\"(node.js:\") !== -1;\n}\n\nfunction getFileNameAndLineNumber(stackLine) {\n    // Named functions: \"at functionName (filename:lineNumber:columnNumber)\"\n    // In IE10 function name can have spaces (\"Anonymous function\") O_o\n    var attempt1 = /at .+ \\((.+):(\\d+):(?:\\d+)\\)$/.exec(stackLine);\n    if (attempt1) {\n        return [attempt1[1], Number(attempt1[2])];\n    }\n\n    // Anonymous functions: \"at filename:lineNumber:columnNumber\"\n    var attempt2 = /at ([^ ]+):(\\d+):(?:\\d+)$/.exec(stackLine);\n    if (attempt2) {\n        return [attempt2[1], Number(attempt2[2])];\n    }\n\n    // Firefox style: \"function@filename:lineNumber or @filename:lineNumber\"\n    var attempt3 = /.*@(.+):(\\d+)$/.exec(stackLine);\n    if (attempt3) {\n        return [attempt3[1], Number(attempt3[2])];\n    }\n}\n\nfunction isInternalFrame(stackLine) {\n    var fileNameAndLineNumber = getFileNameAndLineNumber(stackLine);\n\n    if (!fileNameAndLineNumber) {\n        return false;\n    }\n\n    var fileName = fileNameAndLineNumber[0];\n    var lineNumber = fileNameAndLineNumber[1];\n\n    return fileName === qFileName &&\n        lineNumber >= qStartingLine &&\n        lineNumber <= qEndingLine;\n}\n\n// discover own file name and line number range for filtering stack\n// traces\nfunction captureLine() {\n    if (!hasStacks) {\n        return;\n    }\n\n    try {\n        throw new Error();\n    } catch (e) {\n        var lines = e.stack.split(\"\\n\");\n        var firstLine = lines[0].indexOf(\"@\") > 0 ? lines[1] : lines[2];\n        var fileNameAndLineNumber = getFileNameAndLineNumber(firstLine);\n        if (!fileNameAndLineNumber) {\n            return;\n        }\n\n        qFileName = fileNameAndLineNumber[0];\n        return fileNameAndLineNumber[1];\n    }\n}\n\nfunction deprecate(callback, name, alternative) {\n    return function () {\n        if (typeof console !== \"undefined\" &&\n            typeof console.warn === \"function\") {\n            console.warn(name + \" is deprecated, use \" + alternative +\n                         \" instead.\", new Error(\"\").stack);\n        }\n        return callback.apply(callback, arguments);\n    };\n}\n\n// end of shims\n// beginning of real work\n\n/**\n * Constructs a promise for an immediate reference, passes promises through, or\n * coerces promises from different systems.\n * @param value immediate reference or promise\n */\nfunction Q(value) {\n    // If the object is already a Promise, return it directly.  This enables\n    // the resolve function to both be used to created references from objects,\n    // but to tolerably coerce non-promises to promises.\n    if (value instanceof Promise) {\n        return value;\n    }\n\n    // assimilate thenables\n    if (isPromiseAlike(value)) {\n        return coerce(value);\n    } else {\n        return fulfill(value);\n    }\n}\nQ.resolve = Q;\n\n/**\n * Performs a task in a future turn of the event loop.\n * @param {Function} task\n */\nQ.nextTick = nextTick;\n\n/**\n * Controls whether or not long stack traces will be on\n */\nQ.longStackSupport = false;\n\n// enable long stacks if Q_DEBUG is set\nif (typeof process === \"object\" && process && process.env && process.env.Q_DEBUG) {\n    Q.longStackSupport = true;\n}\n\n/**\n * Constructs a {promise, resolve, reject} object.\n *\n * `resolve` is a callback to invoke with a more resolved value for the\n * promise. To fulfill the promise, invoke `resolve` with any value that is\n * not a thenable. To reject the promise, invoke `resolve` with a rejected\n * thenable, or invoke `reject` with the reason directly. To resolve the\n * promise to another thenable, thus putting it in the same state, invoke\n * `resolve` with that other thenable.\n */\nQ.defer = defer;\nfunction defer() {\n    // if \"messages\" is an \"Array\", that indicates that the promise has not yet\n    // been resolved.  If it is \"undefined\", it has been resolved.  Each\n    // element of the messages array is itself an array of complete arguments to\n    // forward to the resolved promise.  We coerce the resolution value to a\n    // promise using the `resolve` function because it handles both fully\n    // non-thenable values and other thenables gracefully.\n    var messages = [], progressListeners = [], resolvedPromise;\n\n    var deferred = object_create(defer.prototype);\n    var promise = object_create(Promise.prototype);\n\n    promise.promiseDispatch = function (resolve, op, operands) {\n        var args = array_slice(arguments);\n        if (messages) {\n            messages.push(args);\n            if (op === \"when\" && operands[1]) { // progress operand\n                progressListeners.push(operands[1]);\n            }\n        } else {\n            Q.nextTick(function () {\n                resolvedPromise.promiseDispatch.apply(resolvedPromise, args);\n            });\n        }\n    };\n\n    // XXX deprecated\n    promise.valueOf = function () {\n        if (messages) {\n            return promise;\n        }\n        var nearerValue = nearer(resolvedPromise);\n        if (isPromise(nearerValue)) {\n            resolvedPromise = nearerValue; // shorten chain\n        }\n        return nearerValue;\n    };\n\n    promise.inspect = function () {\n        if (!resolvedPromise) {\n            return { state: \"pending\" };\n        }\n        return resolvedPromise.inspect();\n    };\n\n    if (Q.longStackSupport && hasStacks) {\n        try {\n            throw new Error();\n        } catch (e) {\n            // NOTE: don't try to use `Error.captureStackTrace` or transfer the\n            // accessor around; that causes memory leaks as per GH-111. Just\n            // reify the stack trace as a string ASAP.\n            //\n            // At the same time, cut off the first line; it's always just\n            // \"[object Promise]\\n\", as per the `toString`.\n            promise.stack = e.stack.substring(e.stack.indexOf(\"\\n\") + 1);\n        }\n    }\n\n    // NOTE: we do the checks for `resolvedPromise` in each method, instead of\n    // consolidating them into `become`, since otherwise we'd create new\n    // promises with the lines `become(whatever(value))`. See e.g. GH-252.\n\n    function become(newPromise) {\n        resolvedPromise = newPromise;\n        promise.source = newPromise;\n\n        array_reduce(messages, function (undefined, message) {\n            Q.nextTick(function () {\n                newPromise.promiseDispatch.apply(newPromise, message);\n            });\n        }, void 0);\n\n        messages = void 0;\n        progressListeners = void 0;\n    }\n\n    deferred.promise = promise;\n    deferred.resolve = function (value) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(Q(value));\n    };\n\n    deferred.fulfill = function (value) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(fulfill(value));\n    };\n    deferred.reject = function (reason) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(reject(reason));\n    };\n    deferred.notify = function (progress) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        array_reduce(progressListeners, function (undefined, progressListener) {\n            Q.nextTick(function () {\n                progressListener(progress);\n            });\n        }, void 0);\n    };\n\n    return deferred;\n}\n\n/**\n * Creates a Node-style callback that will resolve or reject the deferred\n * promise.\n * @returns a nodeback\n */\ndefer.prototype.makeNodeResolver = function () {\n    var self = this;\n    return function (error, value) {\n        if (error) {\n            self.reject(error);\n        } else if (arguments.length > 2) {\n            self.resolve(array_slice(arguments, 1));\n        } else {\n            self.resolve(value);\n        }\n    };\n};\n\n/**\n * @param resolver {Function} a function that returns nothing and accepts\n * the resolve, reject, and notify functions for a deferred.\n * @returns a promise that may be resolved with the given resolve and reject\n * functions, or rejected by a thrown exception in resolver\n */\nQ.Promise = promise; // ES6\nQ.promise = promise;\nfunction promise(resolver) {\n    if (typeof resolver !== \"function\") {\n        throw new TypeError(\"resolver must be a function.\");\n    }\n    var deferred = defer();\n    try {\n        resolver(deferred.resolve, deferred.reject, deferred.notify);\n    } catch (reason) {\n        deferred.reject(reason);\n    }\n    return deferred.promise;\n}\n\npromise.race = race; // ES6\npromise.all = all; // ES6\npromise.reject = reject; // ES6\npromise.resolve = Q; // ES6\n\n// XXX experimental.  This method is a way to denote that a local value is\n// serializable and should be immediately dispatched to a remote upon request,\n// instead of passing a reference.\nQ.passByCopy = function (object) {\n    //freeze(object);\n    //passByCopies.set(object, true);\n    return object;\n};\n\nPromise.prototype.passByCopy = function () {\n    //freeze(object);\n    //passByCopies.set(object, true);\n    return this;\n};\n\n/**\n * If two promises eventually fulfill to the same value, promises that value,\n * but otherwise rejects.\n * @param x {Any*}\n * @param y {Any*}\n * @returns {Any*} a promise for x and y if they are the same, but a rejection\n * otherwise.\n *\n */\nQ.join = function (x, y) {\n    return Q(x).join(y);\n};\n\nPromise.prototype.join = function (that) {\n    return Q([this, that]).spread(function (x, y) {\n        if (x === y) {\n            // TODO: \"===\" should be Object.is or equiv\n            return x;\n        } else {\n            throw new Error(\"Can't join: not the same: \" + x + \" \" + y);\n        }\n    });\n};\n\n/**\n * Returns a promise for the first of an array of promises to become settled.\n * @param answers {Array[Any*]} promises to race\n * @returns {Any*} the first promise to be settled\n */\nQ.race = race;\nfunction race(answerPs) {\n    return promise(function (resolve, reject) {\n        // Switch to this once we can assume at least ES5\n        // answerPs.forEach(function (answerP) {\n        //     Q(answerP).then(resolve, reject);\n        // });\n        // Use this in the meantime\n        for (var i = 0, len = answerPs.length; i < len; i++) {\n            Q(answerPs[i]).then(resolve, reject);\n        }\n    });\n}\n\nPromise.prototype.race = function () {\n    return this.then(Q.race);\n};\n\n/**\n * Constructs a Promise with a promise descriptor object and optional fallback\n * function.  The descriptor contains methods like when(rejected), get(name),\n * set(name, value), post(name, args), and delete(name), which all\n * return either a value, a promise for a value, or a rejection.  The fallback\n * accepts the operation name, a resolver, and any further arguments that would\n * have been forwarded to the appropriate method above had a method been\n * provided with the proper name.  The API makes no guarantees about the nature\n * of the returned object, apart from that it is usable whereever promises are\n * bought and sold.\n */\nQ.makePromise = Promise;\nfunction Promise(descriptor, fallback, inspect) {\n    if (fallback === void 0) {\n        fallback = function (op) {\n            return reject(new Error(\n                \"Promise does not support operation: \" + op\n            ));\n        };\n    }\n    if (inspect === void 0) {\n        inspect = function () {\n            return {state: \"unknown\"};\n        };\n    }\n\n    var promise = object_create(Promise.prototype);\n\n    promise.promiseDispatch = function (resolve, op, args) {\n        var result;\n        try {\n            if (descriptor[op]) {\n                result = descriptor[op].apply(promise, args);\n            } else {\n                result = fallback.call(promise, op, args);\n            }\n        } catch (exception) {\n            result = reject(exception);\n        }\n        if (resolve) {\n            resolve(result);\n        }\n    };\n\n    promise.inspect = inspect;\n\n    // XXX deprecated `valueOf` and `exception` support\n    if (inspect) {\n        var inspected = inspect();\n        if (inspected.state === \"rejected\") {\n            promise.exception = inspected.reason;\n        }\n\n        promise.valueOf = function () {\n            var inspected = inspect();\n            if (inspected.state === \"pending\" ||\n                inspected.state === \"rejected\") {\n                return promise;\n            }\n            return inspected.value;\n        };\n    }\n\n    return promise;\n}\n\nPromise.prototype.toString = function () {\n    return \"[object Promise]\";\n};\n\nPromise.prototype.then = function (fulfilled, rejected, progressed) {\n    var self = this;\n    var deferred = defer();\n    var done = false;   // ensure the untrusted promise makes at most a\n                        // single call to one of the callbacks\n\n    function _fulfilled(value) {\n        try {\n            return typeof fulfilled === \"function\" ? fulfilled(value) : value;\n        } catch (exception) {\n            return reject(exception);\n        }\n    }\n\n    function _rejected(exception) {\n        if (typeof rejected === \"function\") {\n            makeStackTraceLong(exception, self);\n            try {\n                return rejected(exception);\n            } catch (newException) {\n                return reject(newException);\n            }\n        }\n        return reject(exception);\n    }\n\n    function _progressed(value) {\n        return typeof progressed === \"function\" ? progressed(value) : value;\n    }\n\n    Q.nextTick(function () {\n        self.promiseDispatch(function (value) {\n            if (done) {\n                return;\n            }\n            done = true;\n\n            deferred.resolve(_fulfilled(value));\n        }, \"when\", [function (exception) {\n            if (done) {\n                return;\n            }\n            done = true;\n\n            deferred.resolve(_rejected(exception));\n        }]);\n    });\n\n    // Progress propagator need to be attached in the current tick.\n    self.promiseDispatch(void 0, \"when\", [void 0, function (value) {\n        var newValue;\n        var threw = false;\n        try {\n            newValue = _progressed(value);\n        } catch (e) {\n            threw = true;\n            if (Q.onerror) {\n                Q.onerror(e);\n            } else {\n                throw e;\n            }\n        }\n\n        if (!threw) {\n            deferred.notify(newValue);\n        }\n    }]);\n\n    return deferred.promise;\n};\n\nQ.tap = function (promise, callback) {\n    return Q(promise).tap(callback);\n};\n\n/**\n * Works almost like \"finally\", but not called for rejections.\n * Original resolution value is passed through callback unaffected.\n * Callback may return a promise that will be awaited for.\n * @param {Function} callback\n * @returns {Q.Promise}\n * @example\n * doSomething()\n *   .then(...)\n *   .tap(console.log)\n *   .then(...);\n */\nPromise.prototype.tap = function (callback) {\n    callback = Q(callback);\n\n    return this.then(function (value) {\n        return callback.fcall(value).thenResolve(value);\n    });\n};\n\n/**\n * Registers an observer on a promise.\n *\n * Guarantees:\n *\n * 1. that fulfilled and rejected will be called only once.\n * 2. that either the fulfilled callback or the rejected callback will be\n *    called, but not both.\n * 3. that fulfilled and rejected will not be called in this turn.\n *\n * @param value      promise or immediate reference to observe\n * @param fulfilled  function to be called with the fulfilled value\n * @param rejected   function to be called with the rejection exception\n * @param progressed function to be called on any progress notifications\n * @return promise for the return value from the invoked callback\n */\nQ.when = when;\nfunction when(value, fulfilled, rejected, progressed) {\n    return Q(value).then(fulfilled, rejected, progressed);\n}\n\nPromise.prototype.thenResolve = function (value) {\n    return this.then(function () { return value; });\n};\n\nQ.thenResolve = function (promise, value) {\n    return Q(promise).thenResolve(value);\n};\n\nPromise.prototype.thenReject = function (reason) {\n    return this.then(function () { throw reason; });\n};\n\nQ.thenReject = function (promise, reason) {\n    return Q(promise).thenReject(reason);\n};\n\n/**\n * If an object is not a promise, it is as \"near\" as possible.\n * If a promise is rejected, it is as \"near\" as possible too.\n * If its a fulfilled promise, the fulfillment value is nearer.\n * If its a deferred promise and the deferred has been resolved, the\n * resolution is \"nearer\".\n * @param object\n * @returns most resolved (nearest) form of the object\n */\n\n// XXX should we re-do this?\nQ.nearer = nearer;\nfunction nearer(value) {\n    if (isPromise(value)) {\n        var inspected = value.inspect();\n        if (inspected.state === \"fulfilled\") {\n            return inspected.value;\n        }\n    }\n    return value;\n}\n\n/**\n * @returns whether the given object is a promise.\n * Otherwise it is a fulfilled value.\n */\nQ.isPromise = isPromise;\nfunction isPromise(object) {\n    return object instanceof Promise;\n}\n\nQ.isPromiseAlike = isPromiseAlike;\nfunction isPromiseAlike(object) {\n    return isObject(object) && typeof object.then === \"function\";\n}\n\n/**\n * @returns whether the given object is a pending promise, meaning not\n * fulfilled or rejected.\n */\nQ.isPending = isPending;\nfunction isPending(object) {\n    return isPromise(object) && object.inspect().state === \"pending\";\n}\n\nPromise.prototype.isPending = function () {\n    return this.inspect().state === \"pending\";\n};\n\n/**\n * @returns whether the given object is a value or fulfilled\n * promise.\n */\nQ.isFulfilled = isFulfilled;\nfunction isFulfilled(object) {\n    return !isPromise(object) || object.inspect().state === \"fulfilled\";\n}\n\nPromise.prototype.isFulfilled = function () {\n    return this.inspect().state === \"fulfilled\";\n};\n\n/**\n * @returns whether the given object is a rejected promise.\n */\nQ.isRejected = isRejected;\nfunction isRejected(object) {\n    return isPromise(object) && object.inspect().state === \"rejected\";\n}\n\nPromise.prototype.isRejected = function () {\n    return this.inspect().state === \"rejected\";\n};\n\n//// BEGIN UNHANDLED REJECTION TRACKING\n\n// This promise library consumes exceptions thrown in handlers so they can be\n// handled by a subsequent promise.  The exceptions get added to this array when\n// they are created, and removed when they are handled.  Note that in ES6 or\n// shimmed environments, this would naturally be a `Set`.\nvar unhandledReasons = [];\nvar unhandledRejections = [];\nvar reportedUnhandledRejections = [];\nvar trackUnhandledRejections = true;\n\nfunction resetUnhandledRejections() {\n    unhandledReasons.length = 0;\n    unhandledRejections.length = 0;\n\n    if (!trackUnhandledRejections) {\n        trackUnhandledRejections = true;\n    }\n}\n\nfunction trackRejection(promise, reason) {\n    if (!trackUnhandledRejections) {\n        return;\n    }\n    if (typeof process === \"object\" && typeof process.emit === \"function\") {\n        Q.nextTick.runAfter(function () {\n            if (array_indexOf(unhandledRejections, promise) !== -1) {\n                process.emit(\"unhandledRejection\", reason, promise);\n                reportedUnhandledRejections.push(promise);\n            }\n        });\n    }\n\n    unhandledRejections.push(promise);\n    if (reason && typeof reason.stack !== \"undefined\") {\n        unhandledReasons.push(reason.stack);\n    } else {\n        unhandledReasons.push(\"(no stack) \" + reason);\n    }\n}\n\nfunction untrackRejection(promise) {\n    if (!trackUnhandledRejections) {\n        return;\n    }\n\n    var at = array_indexOf(unhandledRejections, promise);\n    if (at !== -1) {\n        if (typeof process === \"object\" && typeof process.emit === \"function\") {\n            Q.nextTick.runAfter(function () {\n                var atReport = array_indexOf(reportedUnhandledRejections, promise);\n                if (atReport !== -1) {\n                    process.emit(\"rejectionHandled\", unhandledReasons[at], promise);\n                    reportedUnhandledRejections.splice(atReport, 1);\n                }\n            });\n        }\n        unhandledRejections.splice(at, 1);\n        unhandledReasons.splice(at, 1);\n    }\n}\n\nQ.resetUnhandledRejections = resetUnhandledRejections;\n\nQ.getUnhandledReasons = function () {\n    // Make a copy so that consumers can't interfere with our internal state.\n    return unhandledReasons.slice();\n};\n\nQ.stopUnhandledRejectionTracking = function () {\n    resetUnhandledRejections();\n    trackUnhandledRejections = false;\n};\n\nresetUnhandledRejections();\n\n//// END UNHANDLED REJECTION TRACKING\n\n/**\n * Constructs a rejected promise.\n * @param reason value describing the failure\n */\nQ.reject = reject;\nfunction reject(reason) {\n    var rejection = Promise({\n        \"when\": function (rejected) {\n            // note that the error has been handled\n            if (rejected) {\n                untrackRejection(this);\n            }\n            return rejected ? rejected(reason) : this;\n        }\n    }, function fallback() {\n        return this;\n    }, function inspect() {\n        return { state: \"rejected\", reason: reason };\n    });\n\n    // Note that the reason has not been handled.\n    trackRejection(rejection, reason);\n\n    return rejection;\n}\n\n/**\n * Constructs a fulfilled promise for an immediate reference.\n * @param value immediate reference\n */\nQ.fulfill = fulfill;\nfunction fulfill(value) {\n    return Promise({\n        \"when\": function () {\n            return value;\n        },\n        \"get\": function (name) {\n            return value[name];\n        },\n        \"set\": function (name, rhs) {\n            value[name] = rhs;\n        },\n        \"delete\": function (name) {\n            delete value[name];\n        },\n        \"post\": function (name, args) {\n            // Mark Miller proposes that post with no name should apply a\n            // promised function.\n            if (name === null || name === void 0) {\n                return value.apply(void 0, args);\n            } else {\n                return value[name].apply(value, args);\n            }\n        },\n        \"apply\": function (thisp, args) {\n            return value.apply(thisp, args);\n        },\n        \"keys\": function () {\n            return object_keys(value);\n        }\n    }, void 0, function inspect() {\n        return { state: \"fulfilled\", value: value };\n    });\n}\n\n/**\n * Converts thenables to Q promises.\n * @param promise thenable promise\n * @returns a Q promise\n */\nfunction coerce(promise) {\n    var deferred = defer();\n    Q.nextTick(function () {\n        try {\n            promise.then(deferred.resolve, deferred.reject, deferred.notify);\n        } catch (exception) {\n            deferred.reject(exception);\n        }\n    });\n    return deferred.promise;\n}\n\n/**\n * Annotates an object such that it will never be\n * transferred away from this process over any promise\n * communication channel.\n * @param object\n * @returns promise a wrapping of that object that\n * additionally responds to the \"isDef\" message\n * without a rejection.\n */\nQ.master = master;\nfunction master(object) {\n    return Promise({\n        \"isDef\": function () {}\n    }, function fallback(op, args) {\n        return dispatch(object, op, args);\n    }, function () {\n        return Q(object).inspect();\n    });\n}\n\n/**\n * Spreads the values of a promised array of arguments into the\n * fulfillment callback.\n * @param fulfilled callback that receives variadic arguments from the\n * promised array\n * @param rejected callback that receives the exception if the promise\n * is rejected.\n * @returns a promise for the return value or thrown exception of\n * either callback.\n */\nQ.spread = spread;\nfunction spread(value, fulfilled, rejected) {\n    return Q(value).spread(fulfilled, rejected);\n}\n\nPromise.prototype.spread = function (fulfilled, rejected) {\n    return this.all().then(function (array) {\n        return fulfilled.apply(void 0, array);\n    }, rejected);\n};\n\n/**\n * The async function is a decorator for generator functions, turning\n * them into asynchronous generators.  Although generators are only part\n * of the newest ECMAScript 6 drafts, this code does not cause syntax\n * errors in older engines.  This code should continue to work and will\n * in fact improve over time as the language improves.\n *\n * ES6 generators are currently part of V8 version 3.19 with the\n * --harmony-generators runtime flag enabled.  SpiderMonkey has had them\n * for longer, but under an older Python-inspired form.  This function\n * works on both kinds of generators.\n *\n * Decorates a generator function such that:\n *  - it may yield promises\n *  - execution will continue when that promise is fulfilled\n *  - the value of the yield expression will be the fulfilled value\n *  - it returns a promise for the return value (when the generator\n *    stops iterating)\n *  - the decorated function returns a promise for the return value\n *    of the generator or the first rejected promise among those\n *    yielded.\n *  - if an error is thrown in the generator, it propagates through\n *    every following yield until it is caught, or until it escapes\n *    the generator function altogether, and is translated into a\n *    rejection for the promise returned by the decorated generator.\n */\nQ.async = async;\nfunction async(makeGenerator) {\n    return function () {\n        // when verb is \"send\", arg is a value\n        // when verb is \"throw\", arg is an exception\n        function continuer(verb, arg) {\n            var result;\n\n            // Until V8 3.19 / Chromium 29 is released, SpiderMonkey is the only\n            // engine that has a deployed base of browsers that support generators.\n            // However, SM's generators use the Python-inspired semantics of\n            // outdated ES6 drafts.  We would like to support ES6, but we'd also\n            // like to make it possible to use generators in deployed browsers, so\n            // we also support Python-style generators.  At some point we can remove\n            // this block.\n\n            if (typeof StopIteration === \"undefined\") {\n                // ES6 Generators\n                try {\n                    result = generator[verb](arg);\n                } catch (exception) {\n                    return reject(exception);\n                }\n                if (result.done) {\n                    return Q(result.value);\n                } else {\n                    return when(result.value, callback, errback);\n                }\n            } else {\n                // SpiderMonkey Generators\n                // FIXME: Remove this case when SM does ES6 generators.\n                try {\n                    result = generator[verb](arg);\n                } catch (exception) {\n                    if (isStopIteration(exception)) {\n                        return Q(exception.value);\n                    } else {\n                        return reject(exception);\n                    }\n                }\n                return when(result, callback, errback);\n            }\n        }\n        var generator = makeGenerator.apply(this, arguments);\n        var callback = continuer.bind(continuer, \"next\");\n        var errback = continuer.bind(continuer, \"throw\");\n        return callback();\n    };\n}\n\n/**\n * The spawn function is a small wrapper around async that immediately\n * calls the generator and also ends the promise chain, so that any\n * unhandled errors are thrown instead of forwarded to the error\n * handler. This is useful because it's extremely common to run\n * generators at the top-level to work with libraries.\n */\nQ.spawn = spawn;\nfunction spawn(makeGenerator) {\n    Q.done(Q.async(makeGenerator)());\n}\n\n// FIXME: Remove this interface once ES6 generators are in SpiderMonkey.\n/**\n * Throws a ReturnValue exception to stop an asynchronous generator.\n *\n * This interface is a stop-gap measure to support generator return\n * values in older Firefox/SpiderMonkey.  In browsers that support ES6\n * generators like Chromium 29, just use \"return\" in your generator\n * functions.\n *\n * @param value the return value for the surrounding generator\n * @throws ReturnValue exception with the value.\n * @example\n * // ES6 style\n * Q.async(function* () {\n *      var foo = yield getFooPromise();\n *      var bar = yield getBarPromise();\n *      return foo + bar;\n * })\n * // Older SpiderMonkey style\n * Q.async(function () {\n *      var foo = yield getFooPromise();\n *      var bar = yield getBarPromise();\n *      Q.return(foo + bar);\n * })\n */\nQ[\"return\"] = _return;\nfunction _return(value) {\n    throw new QReturnValue(value);\n}\n\n/**\n * The promised function decorator ensures that any promise arguments\n * are settled and passed as values (`this` is also settled and passed\n * as a value).  It will also ensure that the result of a function is\n * always a promise.\n *\n * @example\n * var add = Q.promised(function (a, b) {\n *     return a + b;\n * });\n * add(Q(a), Q(B));\n *\n * @param {function} callback The function to decorate\n * @returns {function} a function that has been decorated.\n */\nQ.promised = promised;\nfunction promised(callback) {\n    return function () {\n        return spread([this, all(arguments)], function (self, args) {\n            return callback.apply(self, args);\n        });\n    };\n}\n\n/**\n * sends a message to a value in a future turn\n * @param object* the recipient\n * @param op the name of the message operation, e.g., \"when\",\n * @param args further arguments to be forwarded to the operation\n * @returns result {Promise} a promise for the result of the operation\n */\nQ.dispatch = dispatch;\nfunction dispatch(object, op, args) {\n    return Q(object).dispatch(op, args);\n}\n\nPromise.prototype.dispatch = function (op, args) {\n    var self = this;\n    var deferred = defer();\n    Q.nextTick(function () {\n        self.promiseDispatch(deferred.resolve, op, args);\n    });\n    return deferred.promise;\n};\n\n/**\n * Gets the value of a property in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of property to get\n * @return promise for the property value\n */\nQ.get = function (object, key) {\n    return Q(object).dispatch(\"get\", [key]);\n};\n\nPromise.prototype.get = function (key) {\n    return this.dispatch(\"get\", [key]);\n};\n\n/**\n * Sets the value of a property in a future turn.\n * @param object    promise or immediate reference for object object\n * @param name      name of property to set\n * @param value     new value of property\n * @return promise for the return value\n */\nQ.set = function (object, key, value) {\n    return Q(object).dispatch(\"set\", [key, value]);\n};\n\nPromise.prototype.set = function (key, value) {\n    return this.dispatch(\"set\", [key, value]);\n};\n\n/**\n * Deletes a property in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of property to delete\n * @return promise for the return value\n */\nQ.del = // XXX legacy\nQ[\"delete\"] = function (object, key) {\n    return Q(object).dispatch(\"delete\", [key]);\n};\n\nPromise.prototype.del = // XXX legacy\nPromise.prototype[\"delete\"] = function (key) {\n    return this.dispatch(\"delete\", [key]);\n};\n\n/**\n * Invokes a method in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of method to invoke\n * @param value     a value to post, typically an array of\n *                  invocation arguments for promises that\n *                  are ultimately backed with `resolve` values,\n *                  as opposed to those backed with URLs\n *                  wherein the posted value can be any\n *                  JSON serializable object.\n * @return promise for the return value\n */\n// bound locally because it is used by other methods\nQ.mapply = // XXX As proposed by \"Redsandro\"\nQ.post = function (object, name, args) {\n    return Q(object).dispatch(\"post\", [name, args]);\n};\n\nPromise.prototype.mapply = // XXX As proposed by \"Redsandro\"\nPromise.prototype.post = function (name, args) {\n    return this.dispatch(\"post\", [name, args]);\n};\n\n/**\n * Invokes a method in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of method to invoke\n * @param ...args   array of invocation arguments\n * @return promise for the return value\n */\nQ.send = // XXX Mark Miller's proposed parlance\nQ.mcall = // XXX As proposed by \"Redsandro\"\nQ.invoke = function (object, name /*...args*/) {\n    return Q(object).dispatch(\"post\", [name, array_slice(arguments, 2)]);\n};\n\nPromise.prototype.send = // XXX Mark Miller's proposed parlance\nPromise.prototype.mcall = // XXX As proposed by \"Redsandro\"\nPromise.prototype.invoke = function (name /*...args*/) {\n    return this.dispatch(\"post\", [name, array_slice(arguments, 1)]);\n};\n\n/**\n * Applies the promised function in a future turn.\n * @param object    promise or immediate reference for target function\n * @param args      array of application arguments\n */\nQ.fapply = function (object, args) {\n    return Q(object).dispatch(\"apply\", [void 0, args]);\n};\n\nPromise.prototype.fapply = function (args) {\n    return this.dispatch(\"apply\", [void 0, args]);\n};\n\n/**\n * Calls the promised function in a future turn.\n * @param object    promise or immediate reference for target function\n * @param ...args   array of application arguments\n */\nQ[\"try\"] =\nQ.fcall = function (object /* ...args*/) {\n    return Q(object).dispatch(\"apply\", [void 0, array_slice(arguments, 1)]);\n};\n\nPromise.prototype.fcall = function (/*...args*/) {\n    return this.dispatch(\"apply\", [void 0, array_slice(arguments)]);\n};\n\n/**\n * Binds the promised function, transforming return values into a fulfilled\n * promise and thrown errors into a rejected one.\n * @param object    promise or immediate reference for target function\n * @param ...args   array of application arguments\n */\nQ.fbind = function (object /*...args*/) {\n    var promise = Q(object);\n    var args = array_slice(arguments, 1);\n    return function fbound() {\n        return promise.dispatch(\"apply\", [\n            this,\n            args.concat(array_slice(arguments))\n        ]);\n    };\n};\nPromise.prototype.fbind = function (/*...args*/) {\n    var promise = this;\n    var args = array_slice(arguments);\n    return function fbound() {\n        return promise.dispatch(\"apply\", [\n            this,\n            args.concat(array_slice(arguments))\n        ]);\n    };\n};\n\n/**\n * Requests the names of the owned properties of a promised\n * object in a future turn.\n * @param object    promise or immediate reference for target object\n * @return promise for the keys of the eventually settled object\n */\nQ.keys = function (object) {\n    return Q(object).dispatch(\"keys\", []);\n};\n\nPromise.prototype.keys = function () {\n    return this.dispatch(\"keys\", []);\n};\n\n/**\n * Turns an array of promises into a promise for an array.  If any of\n * the promises gets rejected, the whole array is rejected immediately.\n * @param {Array*} an array (or promise for an array) of values (or\n * promises for values)\n * @returns a promise for an array of the corresponding values\n */\n// By Mark Miller\n// http://wiki.ecmascript.org/doku.php?id=strawman:concurrency&rev=1308776521#allfulfilled\nQ.all = all;\nfunction all(promises) {\n    return when(promises, function (promises) {\n        var pendingCount = 0;\n        var deferred = defer();\n        array_reduce(promises, function (undefined, promise, index) {\n            var snapshot;\n            if (\n                isPromise(promise) &&\n                (snapshot = promise.inspect()).state === \"fulfilled\"\n            ) {\n                promises[index] = snapshot.value;\n            } else {\n                ++pendingCount;\n                when(\n                    promise,\n                    function (value) {\n                        promises[index] = value;\n                        if (--pendingCount === 0) {\n                            deferred.resolve(promises);\n                        }\n                    },\n                    deferred.reject,\n                    function (progress) {\n                        deferred.notify({ index: index, value: progress });\n                    }\n                );\n            }\n        }, void 0);\n        if (pendingCount === 0) {\n            deferred.resolve(promises);\n        }\n        return deferred.promise;\n    });\n}\n\nPromise.prototype.all = function () {\n    return all(this);\n};\n\n/**\n * Returns the first resolved promise of an array. Prior rejected promises are\n * ignored.  Rejects only if all promises are rejected.\n * @param {Array*} an array containing values or promises for values\n * @returns a promise fulfilled with the value of the first resolved promise,\n * or a rejected promise if all promises are rejected.\n */\nQ.any = any;\n\nfunction any(promises) {\n    if (promises.length === 0) {\n        return Q.resolve();\n    }\n\n    var deferred = Q.defer();\n    var pendingCount = 0;\n    array_reduce(promises, function (prev, current, index) {\n        var promise = promises[index];\n\n        pendingCount++;\n\n        when(promise, onFulfilled, onRejected, onProgress);\n        function onFulfilled(result) {\n            deferred.resolve(result);\n        }\n        function onRejected() {\n            pendingCount--;\n            if (pendingCount === 0) {\n                deferred.reject(new Error(\n                    \"Can't get fulfillment value from any promise, all \" +\n                    \"promises were rejected.\"\n                ));\n            }\n        }\n        function onProgress(progress) {\n            deferred.notify({\n                index: index,\n                value: progress\n            });\n        }\n    }, undefined);\n\n    return deferred.promise;\n}\n\nPromise.prototype.any = function () {\n    return any(this);\n};\n\n/**\n * Waits for all promises to be settled, either fulfilled or\n * rejected.  This is distinct from `all` since that would stop\n * waiting at the first rejection.  The promise returned by\n * `allResolved` will never be rejected.\n * @param promises a promise for an array (or an array) of promises\n * (or values)\n * @return a promise for an array of promises\n */\nQ.allResolved = deprecate(allResolved, \"allResolved\", \"allSettled\");\nfunction allResolved(promises) {\n    return when(promises, function (promises) {\n        promises = array_map(promises, Q);\n        return when(all(array_map(promises, function (promise) {\n            return when(promise, noop, noop);\n        })), function () {\n            return promises;\n        });\n    });\n}\n\nPromise.prototype.allResolved = function () {\n    return allResolved(this);\n};\n\n/**\n * @see Promise#allSettled\n */\nQ.allSettled = allSettled;\nfunction allSettled(promises) {\n    return Q(promises).allSettled();\n}\n\n/**\n * Turns an array of promises into a promise for an array of their states (as\n * returned by `inspect`) when they have all settled.\n * @param {Array[Any*]} values an array (or promise for an array) of values (or\n * promises for values)\n * @returns {Array[State]} an array of states for the respective values.\n */\nPromise.prototype.allSettled = function () {\n    return this.then(function (promises) {\n        return all(array_map(promises, function (promise) {\n            promise = Q(promise);\n            function regardless() {\n                return promise.inspect();\n            }\n            return promise.then(regardless, regardless);\n        }));\n    });\n};\n\n/**\n * Captures the failure of a promise, giving an oportunity to recover\n * with a callback.  If the given promise is fulfilled, the returned\n * promise is fulfilled.\n * @param {Any*} promise for something\n * @param {Function} callback to fulfill the returned promise if the\n * given promise is rejected\n * @returns a promise for the return value of the callback\n */\nQ.fail = // XXX legacy\nQ[\"catch\"] = function (object, rejected) {\n    return Q(object).then(void 0, rejected);\n};\n\nPromise.prototype.fail = // XXX legacy\nPromise.prototype[\"catch\"] = function (rejected) {\n    return this.then(void 0, rejected);\n};\n\n/**\n * Attaches a listener that can respond to progress notifications from a\n * promise's originating deferred. This listener receives the exact arguments\n * passed to ``deferred.notify``.\n * @param {Any*} promise for something\n * @param {Function} callback to receive any progress notifications\n * @returns the given promise, unchanged\n */\nQ.progress = progress;\nfunction progress(object, progressed) {\n    return Q(object).then(void 0, void 0, progressed);\n}\n\nPromise.prototype.progress = function (progressed) {\n    return this.then(void 0, void 0, progressed);\n};\n\n/**\n * Provides an opportunity to observe the settling of a promise,\n * regardless of whether the promise is fulfilled or rejected.  Forwards\n * the resolution to the returned promise when the callback is done.\n * The callback can return a promise to defer completion.\n * @param {Any*} promise\n * @param {Function} callback to observe the resolution of the given\n * promise, takes no arguments.\n * @returns a promise for the resolution of the given promise when\n * ``fin`` is done.\n */\nQ.fin = // XXX legacy\nQ[\"finally\"] = function (object, callback) {\n    return Q(object)[\"finally\"](callback);\n};\n\nPromise.prototype.fin = // XXX legacy\nPromise.prototype[\"finally\"] = function (callback) {\n    callback = Q(callback);\n    return this.then(function (value) {\n        return callback.fcall().then(function () {\n            return value;\n        });\n    }, function (reason) {\n        // TODO attempt to recycle the rejection with \"this\".\n        return callback.fcall().then(function () {\n            throw reason;\n        });\n    });\n};\n\n/**\n * Terminates a chain of promises, forcing rejections to be\n * thrown as exceptions.\n * @param {Any*} promise at the end of a chain of promises\n * @returns nothing\n */\nQ.done = function (object, fulfilled, rejected, progress) {\n    return Q(object).done(fulfilled, rejected, progress);\n};\n\nPromise.prototype.done = function (fulfilled, rejected, progress) {\n    var onUnhandledError = function (error) {\n        // forward to a future turn so that ``when``\n        // does not catch it and turn it into a rejection.\n        Q.nextTick(function () {\n            makeStackTraceLong(error, promise);\n            if (Q.onerror) {\n                Q.onerror(error);\n            } else {\n                throw error;\n            }\n        });\n    };\n\n    // Avoid unnecessary `nextTick`ing via an unnecessary `when`.\n    var promise = fulfilled || rejected || progress ?\n        this.then(fulfilled, rejected, progress) :\n        this;\n\n    if (typeof process === \"object\" && process && process.domain) {\n        onUnhandledError = process.domain.bind(onUnhandledError);\n    }\n\n    promise.then(void 0, onUnhandledError);\n};\n\n/**\n * Causes a promise to be rejected if it does not get fulfilled before\n * some milliseconds time out.\n * @param {Any*} promise\n * @param {Number} milliseconds timeout\n * @param {Any*} custom error message or Error object (optional)\n * @returns a promise for the resolution of the given promise if it is\n * fulfilled before the timeout, otherwise rejected.\n */\nQ.timeout = function (object, ms, error) {\n    return Q(object).timeout(ms, error);\n};\n\nPromise.prototype.timeout = function (ms, error) {\n    var deferred = defer();\n    var timeoutId = setTimeout(function () {\n        if (!error || \"string\" === typeof error) {\n            error = new Error(error || \"Timed out after \" + ms + \" ms\");\n            error.code = \"ETIMEDOUT\";\n        }\n        deferred.reject(error);\n    }, ms);\n\n    this.then(function (value) {\n        clearTimeout(timeoutId);\n        deferred.resolve(value);\n    }, function (exception) {\n        clearTimeout(timeoutId);\n        deferred.reject(exception);\n    }, deferred.notify);\n\n    return deferred.promise;\n};\n\n/**\n * Returns a promise for the given value (or promised value), some\n * milliseconds after it resolved. Passes rejections immediately.\n * @param {Any*} promise\n * @param {Number} milliseconds\n * @returns a promise for the resolution of the given promise after milliseconds\n * time has elapsed since the resolution of the given promise.\n * If the given promise rejects, that is passed immediately.\n */\nQ.delay = function (object, timeout) {\n    if (timeout === void 0) {\n        timeout = object;\n        object = void 0;\n    }\n    return Q(object).delay(timeout);\n};\n\nPromise.prototype.delay = function (timeout) {\n    return this.then(function (value) {\n        var deferred = defer();\n        setTimeout(function () {\n            deferred.resolve(value);\n        }, timeout);\n        return deferred.promise;\n    });\n};\n\n/**\n * Passes a continuation to a Node function, which is called with the given\n * arguments provided as an array, and returns a promise.\n *\n *      Q.nfapply(FS.readFile, [__filename])\n *      .then(function (content) {\n *      })\n *\n */\nQ.nfapply = function (callback, args) {\n    return Q(callback).nfapply(args);\n};\n\nPromise.prototype.nfapply = function (args) {\n    var deferred = defer();\n    var nodeArgs = array_slice(args);\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.fapply(nodeArgs).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Passes a continuation to a Node function, which is called with the given\n * arguments provided individually, and returns a promise.\n * @example\n * Q.nfcall(FS.readFile, __filename)\n * .then(function (content) {\n * })\n *\n */\nQ.nfcall = function (callback /*...args*/) {\n    var args = array_slice(arguments, 1);\n    return Q(callback).nfapply(args);\n};\n\nPromise.prototype.nfcall = function (/*...args*/) {\n    var nodeArgs = array_slice(arguments);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.fapply(nodeArgs).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Wraps a NodeJS continuation passing function and returns an equivalent\n * version that returns a promise.\n * @example\n * Q.nfbind(FS.readFile, __filename)(\"utf-8\")\n * .then(console.log)\n * .done()\n */\nQ.nfbind =\nQ.denodeify = function (callback /*...args*/) {\n    var baseArgs = array_slice(arguments, 1);\n    return function () {\n        var nodeArgs = baseArgs.concat(array_slice(arguments));\n        var deferred = defer();\n        nodeArgs.push(deferred.makeNodeResolver());\n        Q(callback).fapply(nodeArgs).fail(deferred.reject);\n        return deferred.promise;\n    };\n};\n\nPromise.prototype.nfbind =\nPromise.prototype.denodeify = function (/*...args*/) {\n    var args = array_slice(arguments);\n    args.unshift(this);\n    return Q.denodeify.apply(void 0, args);\n};\n\nQ.nbind = function (callback, thisp /*...args*/) {\n    var baseArgs = array_slice(arguments, 2);\n    return function () {\n        var nodeArgs = baseArgs.concat(array_slice(arguments));\n        var deferred = defer();\n        nodeArgs.push(deferred.makeNodeResolver());\n        function bound() {\n            return callback.apply(thisp, arguments);\n        }\n        Q(bound).fapply(nodeArgs).fail(deferred.reject);\n        return deferred.promise;\n    };\n};\n\nPromise.prototype.nbind = function (/*thisp, ...args*/) {\n    var args = array_slice(arguments, 0);\n    args.unshift(this);\n    return Q.nbind.apply(void 0, args);\n};\n\n/**\n * Calls a method of a Node-style object that accepts a Node-style\n * callback with a given array of arguments, plus a provided callback.\n * @param object an object that has the named method\n * @param {String} name name of the method of object\n * @param {Array} args arguments to pass to the method; the callback\n * will be provided by Q and appended to these arguments.\n * @returns a promise for the value or error\n */\nQ.nmapply = // XXX As proposed by \"Redsandro\"\nQ.npost = function (object, name, args) {\n    return Q(object).npost(name, args);\n};\n\nPromise.prototype.nmapply = // XXX As proposed by \"Redsandro\"\nPromise.prototype.npost = function (name, args) {\n    var nodeArgs = array_slice(args || []);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Calls a method of a Node-style object that accepts a Node-style\n * callback, forwarding the given variadic arguments, plus a provided\n * callback argument.\n * @param object an object that has the named method\n * @param {String} name name of the method of object\n * @param ...args arguments to pass to the method; the callback will\n * be provided by Q and appended to these arguments.\n * @returns a promise for the value or error\n */\nQ.nsend = // XXX Based on Mark Miller's proposed \"send\"\nQ.nmcall = // XXX Based on \"Redsandro's\" proposal\nQ.ninvoke = function (object, name /*...args*/) {\n    var nodeArgs = array_slice(arguments, 2);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    Q(object).dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\nPromise.prototype.nsend = // XXX Based on Mark Miller's proposed \"send\"\nPromise.prototype.nmcall = // XXX Based on \"Redsandro's\" proposal\nPromise.prototype.ninvoke = function (name /*...args*/) {\n    var nodeArgs = array_slice(arguments, 1);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * If a function would like to support both Node continuation-passing-style and\n * promise-returning-style, it can end its internal promise chain with\n * `nodeify(nodeback)`, forwarding the optional nodeback argument.  If the user\n * elects to use a nodeback, the result will be sent there.  If they do not\n * pass a nodeback, they will receive the result promise.\n * @param object a result (or a promise for a result)\n * @param {Function} nodeback a Node.js-style callback\n * @returns either the promise or nothing\n */\nQ.nodeify = nodeify;\nfunction nodeify(object, nodeback) {\n    return Q(object).nodeify(nodeback);\n}\n\nPromise.prototype.nodeify = function (nodeback) {\n    if (nodeback) {\n        this.then(function (value) {\n            Q.nextTick(function () {\n                nodeback(null, value);\n            });\n        }, function (error) {\n            Q.nextTick(function () {\n                nodeback(error);\n            });\n        });\n    } else {\n        return this;\n    }\n};\n\nQ.noConflict = function() {\n    throw new Error(\"Q.noConflict only works when Q is used as a global\");\n};\n\n// All code before this point will be filtered from stack traces.\nvar qEndingLine = captureLine();\n\nreturn Q;\n\n});\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(8), __webpack_require__(20).setImmediate))\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\nvar AuthSdkError = __webpack_require__(1);\n\n// storage must have getItem and setItem\nfunction storageBuilder(webstorage, storageName) {\n  if (typeof storageName !== 'string' || !storageName.length) {\n    throw new AuthSdkError('\"storageName\" is required');\n  }\n\n  function getStorage() {\n    var storageString = webstorage.getItem(storageName);\n    storageString = storageString || '{}';\n    try {\n      return JSON.parse(storageString);\n    } catch(e) {\n      throw new AuthSdkError('Unable to parse storage string: ' + storageName);\n    }\n  }\n\n  function setStorage(storage) {\n    try {\n      var storageString = JSON.stringify(storage);\n      webstorage.setItem(storageName, storageString);\n    } catch(e) {\n      throw new AuthSdkError('Unable to set storage: ' + storageName);\n    }\n  }\n\n  function clearStorage(key) {\n    if (!key) {\n      setStorage({});\n    }\n    var storage = getStorage();\n    delete storage[key];\n    setStorage(storage);\n  }\n\n  function updateStorage(key, value) {\n    var storage = getStorage();\n    storage[key] = value;\n    setStorage(storage);\n  }\n\n  return {\n    getStorage: getStorage,\n    setStorage: setStorage,\n    clearStorage: clearStorage,\n    updateStorage: updateStorage\n  };\n}\n\nmodule.exports = storageBuilder;\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* eslint-disable complexity, max-statements */\nvar http              = __webpack_require__(3);\nvar util              = __webpack_require__(0);\nvar Q                 = __webpack_require__(5);\nvar AuthSdkError      = __webpack_require__(1);\nvar AuthPollStopError = __webpack_require__(23);\nvar constants         = __webpack_require__(2);\n\nfunction addStateToken(res, options) {\n  var builtArgs = {};\n  util.extend(builtArgs, options);\n\n  // Add the stateToken if one isn't passed and we have one\n  if (!builtArgs.stateToken && res.stateToken) {\n    builtArgs.stateToken = res.stateToken;\n  }\n\n  return builtArgs;\n}\n\nfunction getStateToken(res) {\n  return addStateToken(res);\n}\n\nfunction transactionStatus(sdk, args) {\n  args = addStateToken(sdk, args);\n  return http.post(sdk, sdk.options.url + '/api/v1/authn', args);\n}\n\nfunction resumeTransaction(sdk, args) {\n  if (!args || !args.stateToken) {\n    var stateToken = sdk.tx.exists._get(constants.STATE_TOKEN_KEY_NAME);\n    if (stateToken) {\n      args = {\n        stateToken: stateToken\n      };\n    } else {\n      return Q.reject(new AuthSdkError('No transaction to resume'));\n    }\n  }\n  return sdk.tx.status(args)\n    .then(function(res) {\n      return new AuthTransaction(sdk, res);\n    });\n}\n\nfunction introspect (sdk, args) {\n  if (!args || !args.stateToken) {\n    var stateToken = sdk.tx.exists._get(constants.STATE_TOKEN_KEY_NAME);\n    if (stateToken) {\n      args = {\n        stateToken: stateToken\n      };\n    } else {\n      return Q.reject(new AuthSdkError('No transaction to evaluate'));\n    }\n  }\n  return transactionStep(sdk, args)\n    .then(function (res) {\n      return new AuthTransaction(sdk, res);\n    });\n}\n\nfunction transactionStep(sdk, args) {\n  args = addStateToken(sdk, args);\n  return http.post(sdk, sdk.options.url + '/idp/idx/introspect', args);\n}\n\nfunction transactionExists(sdk) {\n  // We have a cookie state token\n  return !!sdk.tx.exists._get(constants.STATE_TOKEN_KEY_NAME);\n}\n\nfunction postToTransaction(sdk, url, args, options) {\n  return http.post(sdk, url, args, options)\n    .then(function(res) {\n      return new AuthTransaction(sdk, res);\n    });\n}\n\nfunction getPollFn(sdk, res, ref) {\n  return function (options) {\n    var delay;\n    var rememberDevice;\n    var autoPush;\n    var transactionCallBack;\n\n    if (util.isNumber(options)) {\n      delay = options;\n    } else if (util.isObject(options)) {\n      delay = options.delay;\n      rememberDevice = options.rememberDevice;\n      autoPush = options.autoPush;\n      transactionCallBack = options.transactionCallBack;\n    }\n\n    if (!delay && delay !== 0) {\n      delay = constants.DEFAULT_POLLING_DELAY;\n    }\n\n    // Get the poll function\n    var pollLink = util.getLink(res, 'next', 'poll');\n    function pollFn() {\n      var opts = {};\n      if (typeof autoPush === 'function') {\n        try {\n          opts.autoPush = !!autoPush();\n        }\n        catch (e) {\n          return Q.reject(new AuthSdkError('AutoPush resulted in an error.'));\n        }\n      }\n      else if (autoPush !== undefined && autoPush !== null) {\n        opts.autoPush = !!autoPush;\n      }\n      if (typeof rememberDevice === 'function') {\n        try {\n          opts.rememberDevice = !!rememberDevice();\n        }\n        catch (e) {\n          return Q.reject(new AuthSdkError('RememberDevice resulted in an error.'));\n        }\n      }\n      else if (rememberDevice !== undefined && rememberDevice !== null) {\n        opts.rememberDevice = !!rememberDevice;\n      }\n\n      var href = pollLink.href + util.toQueryParams(opts);\n      return http.post(sdk, href, getStateToken(res), {\n        saveAuthnState: false  \n      });\n    }\n\n    ref.isPolling = true;\n\n    var retryCount = 0;\n    var recursivePoll = function () {\n      // If the poll was manually stopped during the delay\n      if (!ref.isPolling) {\n        return Q.reject(new AuthPollStopError());\n      }\n      return pollFn()\n        .then(function (pollRes) {\n          // Reset our retry counter on success\n          retryCount = 0;\n\n          // If we're still waiting\n          if (pollRes.factorResult && pollRes.factorResult === 'WAITING') {\n\n            // If the poll was manually stopped while the pollFn was called\n            if (!ref.isPolling) {\n              throw new AuthPollStopError();\n            }\n\n            if (typeof transactionCallBack === 'function') {\n              transactionCallBack(pollRes);\n            }\n\n            // Continue poll\n            return Q.delay(delay)\n              .then(recursivePoll);\n\n          } else {\n            // Any non-waiting result, even if polling was stopped\n            // during a request, will return\n            ref.isPolling = false;\n            return new AuthTransaction(sdk, pollRes);\n          }\n        })\n        .fail(function(err) {\n          // Exponential backoff, up to 16 seconds\n          if (err.xhr &&\n              (err.xhr.status === 0 || err.xhr.status === 429) &&\n              retryCount <= 4) {\n            var delayLength = Math.pow(2, retryCount) * 1000;\n            retryCount++;\n            return Q.delay(delayLength)\n              .then(recursivePoll);\n          }\n          throw err;\n        });\n    };\n    return recursivePoll()\n      .fail(function(err) {\n        ref.isPolling = false;\n        throw err;\n      });\n  };\n}\n\nfunction link2fn(sdk, res, obj, link, ref) {\n  if (Array.isArray(link)) {\n    return function(name, opts) {\n      if (!name) {\n        throw new AuthSdkError('Must provide a link name');\n      }\n\n      var lk = util.find(link, {name: name});\n      if (!lk) {\n        throw new AuthSdkError('No link found for that name');\n      }\n\n      return link2fn(sdk, res, obj, lk, ref)(opts);\n    };\n\n  } else if (link.hints &&\n      link.hints.allow &&\n      link.hints.allow.length === 1) {\n    var method = link.hints.allow[0];\n    switch (method) {\n\n      case 'GET':\n        return function() {\n          return http.get(sdk, link.href);\n        };\n\n      case 'POST':\n        return function(opts) {\n          if (ref && ref.isPolling) {\n            ref.isPolling = false;\n          }\n\n          var data = addStateToken(res, opts);\n\n          if (res.status === 'MFA_ENROLL' || res.status === 'FACTOR_ENROLL') {\n            // Add factorType and provider\n            util.extend(data, {\n              factorType: obj.factorType,\n              provider: obj.provider\n            });\n          }\n\n          var params = {};\n          var autoPush = data.autoPush;\n          if (autoPush !== undefined) {\n            if (typeof autoPush === 'function') {\n              try {\n                params.autoPush = !!autoPush();\n              }\n              catch (e) {\n                return Q.reject(new AuthSdkError('AutoPush resulted in an error.'));\n              }\n            }\n            else if (autoPush !== null) {\n              params.autoPush = !!autoPush;\n            }\n            data = util.omit(data, 'autoPush');\n          }\n\n          var rememberDevice = data.rememberDevice;\n          if (rememberDevice !== undefined) {\n            if (typeof rememberDevice === 'function') {\n              try {\n                params.rememberDevice = !!rememberDevice();\n              }\n              catch (e) {\n                return Q.reject(new AuthSdkError('RememberDevice resulted in an error.'));\n              }\n            }\n            else if (rememberDevice !== null) {\n              params.rememberDevice = !!rememberDevice;\n            }\n            data = util.omit(data, 'rememberDevice');\n\n          } else if (data.profile &&\n                    data.profile.updatePhone !== undefined) {\n            if (data.profile.updatePhone) {\n              params.updatePhone = true;\n            }\n            data.profile = util.omit(data.profile, 'updatePhone');\n          }\n          var href = link.href + util.toQueryParams(params);\n          return postToTransaction(sdk, href, data);\n        };\n    }\n  }\n}\n\nfunction links2fns(sdk, res, obj, ref) {\n  var fns = {};\n  for (var linkName in obj._links) {\n    if (!obj._links.hasOwnProperty(linkName)) {\n      continue;\n    }\n\n    var link = obj._links[linkName];\n    \n    if (linkName === 'next') {\n      linkName = link.name;\n    }\n\n    if (link.type) {\n      fns[linkName] = link;\n      continue;\n    }\n\n    switch (linkName) {\n      // poll is only found at the transaction\n      // level, so we don't need to pass the link\n      case 'poll':\n        fns.poll = getPollFn(sdk, res, ref);\n        break;\n\n      default:\n        var fn = link2fn(sdk, res, obj, link, ref);\n        if (fn) {\n          fns[linkName] = fn;\n        }\n    }\n  }\n  return fns;\n}\n\nfunction flattenEmbedded(sdk, res, obj, ref) {\n  obj = obj || res;\n  obj = util.clone(obj);\n\n  if (Array.isArray(obj)) {\n    var objArr = [];\n    for (var o = 0, ol = obj.length; o < ol; o++) {\n      objArr.push(flattenEmbedded(sdk, res, obj[o], ref));\n    }\n    return objArr;\n  }\n\n  var embedded = obj._embedded || {};\n\n  for (var key in embedded) {\n    if (!embedded.hasOwnProperty(key)) {\n      continue;\n    }\n\n    // Flatten any nested _embedded objects\n    if (util.isObject(embedded[key]) || Array.isArray(embedded[key])) {\n      embedded[key] = flattenEmbedded(sdk, res, embedded[key], ref);\n    }\n  }\n\n  // Convert any links on the embedded object\n  var fns = links2fns(sdk, res, obj, ref);\n  util.extend(embedded, fns);\n\n  obj = util.omit(obj, '_embedded', '_links');\n  util.extend(obj, embedded);\n  return obj;\n}\n\nfunction AuthTransaction(sdk, res) {\n  if (res) {\n    this.data = res;\n    util.extend(this, flattenEmbedded(sdk, res, res, {}));\n    delete this.stateToken;\n\n    // RECOVERY_CHALLENGE has some responses without _links.\n    // Without _links, we emulate cancel to make it intuitive\n    // to return to the starting state. We may remove this\n    // when OKTA-75434 is resolved\n    if (res.status === 'RECOVERY_CHALLENGE' && !res._links) {\n      this.cancel = function() {\n        return new Q(new AuthTransaction(sdk));\n      };\n    }\n  }\n}\n\nmodule.exports = {\n  transactionStatus: transactionStatus,\n  resumeTransaction: resumeTransaction,\n  transactionExists: transactionExists,\n  postToTransaction: postToTransaction,\n  introspect: introspect,\n};\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports) {\n\nvar g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* eslint-disable complexity, max-statements */\nvar http = __webpack_require__(3);\nvar util = __webpack_require__(0);\nvar storageUtil = __webpack_require__(4);\nvar AuthSdkError = __webpack_require__(1);\n\nvar httpCache = storageUtil.getHttpCache();\n\nfunction generateState() {\n  return util.genRandomString(64);\n}\n\nfunction generateNonce() {\n  return util.genRandomString(64);\n}\n\nfunction isToken(obj) {\n  if (obj &&\n      (obj.accessToken || obj.idToken) &&\n      Array.isArray(obj.scopes)) {\n    return true;\n  }\n  return false;\n}\n\nfunction addListener(eventTarget, name, fn) {\n  if (eventTarget.addEventListener) {\n    eventTarget.addEventListener(name, fn);\n  } else {\n    eventTarget.attachEvent('on' + name, fn);\n  }\n}\n\nfunction removeListener(eventTarget, name, fn) {\n  if (eventTarget.removeEventListener) {\n    eventTarget.removeEventListener(name, fn);\n  } else {\n    eventTarget.detachEvent('on' + name, fn);\n  }\n}\n\nfunction loadFrame(src) {\n  var iframe = document.createElement('iframe');\n  iframe.style.display = 'none';\n  iframe.src = src;\n\n  return document.body.appendChild(iframe);\n}\n\nfunction loadPopup(src, options) {\n  var title = options.popupTitle || 'External Identity Provider User Authentication';\n  var appearance = 'toolbar=no, scrollbars=yes, resizable=yes, ' +\n    'top=100, left=500, width=600, height=600';\n\n  if (util.isIE11OrLess()) {\n    // IE<=11 doesn't fully support postMessage at time of writting.\n    // the following simple solution happened to solve the issue\n    // without adding another proxy layer which makes flow more complecated.\n    var winEl = window.open('/', title, appearance);\n    winEl.location.href = src;\n    return winEl;\n  } else {\n    return window.open(src, title, appearance);\n  }\n}\n\nfunction getWellKnown(sdk, issuer) {\n  return http.get(sdk, (issuer || sdk.options.url) + '/.well-known/openid-configuration', {\n    cacheResponse: true\n  });\n}\n\nfunction getKey(sdk, issuer, kid) {\n  return getWellKnown(sdk, issuer)\n  .then(function(wellKnown) {\n    var jwksUri = wellKnown['jwks_uri'];\n\n    // Check our kid against the cached version (if it exists and isn't expired)\n    var cacheContents = httpCache.getStorage();\n    var cachedResponse = cacheContents[jwksUri];\n    if (cachedResponse && Date.now()/1000 < cachedResponse.expiresAt) {\n      var cachedKey = util.find(cachedResponse.response.keys, {\n        kid: kid\n      });\n\n      if (cachedKey) {\n        return cachedKey;\n      }\n    }\n\n    // Remove cache for the key\n    httpCache.clearStorage(jwksUri);\n\n    // Pull the latest keys if the key wasn't in the cache\n    return http.get(sdk, jwksUri, {\n      cacheResponse: true\n    })\n    .then(function(res) {\n      var key = util.find(res.keys, {\n        kid: kid\n      });\n\n      if (key) {\n        return key;\n      }\n\n      throw new AuthSdkError('The key id, ' + kid + ', was not found in the server\\'s keys');\n    });\n  });\n}\n\nfunction validateClaims(sdk, claims, validationParams) {\n  var aud = validationParams.clientId;\n  var iss = validationParams.issuer;\n  var nonce = validationParams.nonce;\n\n  if (!claims || !iss || !aud) {\n    throw new AuthSdkError('The jwt, iss, and aud arguments are all required');\n  }\n\n  if (nonce && claims.nonce !== nonce) {\n    throw new AuthSdkError('OAuth flow response nonce doesn\\'t match request nonce');\n  }\n\n  var now = Math.floor(Date.now()/1000);\n\n  if (claims.iss !== iss) {\n    throw new AuthSdkError('The issuer [' + claims.iss + '] ' +\n      'does not match [' + iss + ']');\n  }\n\n  if (claims.aud !== aud) {\n    throw new AuthSdkError('The audience [' + claims.aud + '] ' +\n      'does not match [' + aud + ']');\n  }\n\n  if (claims.iat > claims.exp) {\n    throw new AuthSdkError('The JWT expired before it was issued');\n  }\n\n  if ((now - sdk.options.maxClockSkew) > claims.exp) {\n    throw new AuthSdkError('The JWT expired and is no longer valid');\n  }\n\n  if (claims.iat > (now + sdk.options.maxClockSkew)) {\n    throw new AuthSdkError('The JWT was issued in the future');\n  }\n}\n\nfunction getOAuthUrls(sdk, oauthParams, options) {\n  options = options || {};\n\n  // Get user-supplied arguments\n  var authorizeUrl = util.removeTrailingSlash(options.authorizeUrl) || sdk.options.authorizeUrl;\n  var issuer = util.removeTrailingSlash(options.issuer) || sdk.options.issuer;\n  var userinfoUrl = util.removeTrailingSlash(options.userinfoUrl) || sdk.options.userinfoUrl;\n  var tokenUrl = util.removeTrailingSlash(options.tokenUrl) || sdk.options.tokenUrl;\n  var logoutUrl = util.removeTrailingSlash(options.logoutUrl) || sdk.options.logoutUrl;\n  var revokeUrl = util.removeTrailingSlash(options.revokeUrl) || sdk.options.revokeUrl;\n\n  // If an issuer exists but it's not a url, assume it's an authServerId\n  if (issuer && !(/^https?:/.test(issuer))) {\n    // Make it a url\n    issuer = sdk.options.url + '/oauth2/' + issuer;\n  }\n\n  // If an authorizeUrl is supplied without an issuer, and an id_token is requested\n  if (!issuer && authorizeUrl &&\n      oauthParams.responseType.indexOf('id_token') !== -1) {\n    // The issuer is ambiguous, so we won't be able to validate the id_token jwt\n    throw new AuthSdkError('Cannot request idToken with an authorizeUrl without an issuer');\n  }\n\n  // If a token is requested without an issuer\n  if (!issuer && oauthParams && oauthParams.responseType.indexOf('token') !== -1) {\n    // If an authorizeUrl is supplied without a userinfoUrl\n    if (authorizeUrl && !userinfoUrl) {\n      // The userinfoUrl is ambiguous, so we won't be able to call getUserInfo\n      throw new AuthSdkError('Cannot request accessToken with an authorizeUrl without an issuer or userinfoUrl');\n    }\n\n    // If a userinfoUrl is supplied without a authorizeUrl\n    if (userinfoUrl && !authorizeUrl) {\n      // The authorizeUrl is ambiguous, so we won't be able to call the authorize endpoint\n      throw new AuthSdkError('Cannot request token with an userinfoUrl without an issuer or authorizeUrl');\n    }\n  }\n\n  // Default the issuer to our baseUrl\n  issuer = issuer || sdk.options.url;\n\n  // Trim trailing slashes\n  issuer = util.removeTrailingSlash(issuer);\n\n  var baseUrl = issuer;\n  // A custom auth server issuer looks like:\n  // https://example.okta.com/oauth2/aus8aus76q8iphupD0h7\n  // \n  // Most orgs have a \"default\" custom authorization server:\n  // https://example.okta.com/oauth2/default\n  var customAuthServerRegex = new RegExp('^https?://.*?/oauth2/.+');\n  if (!customAuthServerRegex.test(baseUrl)) {\n    // Append '/oauth2' if necessary\n    if (!baseUrl.endsWith('/oauth2')) {\n      baseUrl += '/oauth2';\n    }\n  }\n\n  authorizeUrl = authorizeUrl || baseUrl + '/v1/authorize';\n  userinfoUrl = userinfoUrl || baseUrl + '/v1/userinfo';\n  tokenUrl = tokenUrl || baseUrl + '/v1/token';\n  revokeUrl = revokeUrl || baseUrl + '/v1/revoke';\n  logoutUrl = logoutUrl || baseUrl + '/v1/logout';\n\n  return {\n    issuer: issuer,\n    authorizeUrl: authorizeUrl,\n    userinfoUrl: userinfoUrl,\n    tokenUrl: tokenUrl,\n    revokeUrl: revokeUrl,\n    logoutUrl: logoutUrl\n  };\n}\n\nfunction hashToObject(hash) {\n  // Predefine regexs for parsing hash\n  var plus2space = /\\+/g;\n  var paramSplit = /([^&=]+)=?([^&]*)/g;\n\n  // Remove the leading hash\n  var fragment = hash.substring(1);\n\n  var obj = {};\n\n  // Loop until we have no more params\n  var param;\n  while (true) { // eslint-disable-line no-constant-condition\n    param = paramSplit.exec(fragment);\n    if (!param) { break; }\n\n    var key = param[1];\n    var value = param[2];\n\n    // id_token should remain base64url encoded\n    if (key === 'id_token' || key === 'access_token' || key === 'code') {\n      obj[key] = value;\n    } else {\n      obj[key] = decodeURIComponent(value.replace(plus2space, ' '));\n    }\n  }\n  return obj;\n}\n\nmodule.exports = {\n  generateState: generateState,\n  generateNonce: generateNonce,\n  getWellKnown: getWellKnown,\n  getKey: getKey,\n  validateClaims: validateClaims,\n  getOAuthUrls: getOAuthUrls,\n  loadFrame: loadFrame,\n  loadPopup: loadPopup,\n  hashToObject: hashToObject,\n  isToken: isToken,\n  addListener: addListener,\n  removeListener: removeListener\n};\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\nvar fetchRequest = __webpack_require__(12);\nvar storageUtil = __webpack_require__(4);\n\nmodule.exports = __webpack_require__(15)(storageUtil, fetchRequest);\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2018-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nvar fetch = __webpack_require__(13);\n\n/* eslint-disable complexity */\nfunction fetchRequest(method, url, args) {\n  var body = args.data;\n  var headers = args.headers || {};\n  var contentType = (headers['Content-Type'] || headers['content-type'] || '');\n\n  // JSON encode body (if appropriate)\n  if (contentType === 'application/json' && body && typeof body !== 'string') {\n    body = JSON.stringify(body);\n  }\n\n  var fetchPromise = fetch(url, {\n    method: method,\n    headers: args.headers,\n    body: body,\n    credentials: args.withCredentials === false ? 'omit' : 'include'\n  })\n  .then(function(response) {\n    var error = !response.ok;\n    var status = response.status;\n    var respHandler = function(resp) {\n      var result = {\n        responseText: resp,\n        status: status\n      };\n      if (error) {\n        // Throwing response object since error handling is done in http.js\n        throw result;\n      }\n      return result;\n    };\n    if (response.headers.get('Content-Type') &&\n        response.headers.get('Content-Type').toLowerCase().indexOf('application/json') >= 0) {\n      return response.json().then(respHandler);\n    } else {\n      return response.text().then(respHandler);\n    }\n  });\n  return fetchPromise;\n}\n\nmodule.exports = fetchRequest;\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports) {\n\nvar __self__ = (function (root) {\nfunction F() {\nthis.fetch = false;\nthis.DOMException = root.DOMException\n}\nF.prototype = root;\nreturn new F();\n})(typeof self !== 'undefined' ? self : this);\n(function(self) {\n\nvar irrelevant = (function (exports) {\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob:\n      'FileReader' in self &&\n      'Blob' in self &&\n      (function() {\n        try {\n          new Blob();\n          return true\n        } catch (e) {\n          return false\n        }\n      })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  };\n\n  function isDataView(obj) {\n    return obj && DataView.prototype.isPrototypeOf(obj)\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ];\n\n    var isArrayBufferView =\n      ArrayBuffer.isView ||\n      function(obj) {\n        return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n      };\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name);\n    }\n    if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value);\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift();\n        return {done: value === undefined, value: value}\n      }\n    };\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      };\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {};\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value);\n      }, this);\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1]);\n      }, this);\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name]);\n      }, this);\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name);\n    value = normalizeValue(value);\n    var oldValue = this.map[name];\n    this.map[name] = oldValue ? oldValue + ', ' + value : value;\n  };\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)];\n  };\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name);\n    return this.has(name) ? this.map[name] : null\n  };\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  };\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value);\n  };\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this);\n      }\n    }\n  };\n\n  Headers.prototype.keys = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push(name);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.values = function() {\n    var items = [];\n    this.forEach(function(value) {\n      items.push(value);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.entries = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push([name, value]);\n    });\n    return iteratorFor(items)\n  };\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries;\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true;\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result);\n      };\n      reader.onerror = function() {\n        reject(reader.error);\n      };\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsArrayBuffer(blob);\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsText(blob);\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf);\n    var chars = new Array(view.length);\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i]);\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength);\n      view.set(new Uint8Array(buf));\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false;\n\n    this._initBody = function(body) {\n      this._bodyInit = body;\n      if (!body) {\n        this._bodyText = '';\n      } else if (typeof body === 'string') {\n        this._bodyText = body;\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body;\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body;\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString();\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer);\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer]);\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body);\n      } else {\n        this._bodyText = body = Object.prototype.toString.call(body);\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8');\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type);\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n        }\n      }\n    };\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this);\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      };\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      };\n    }\n\n    this.text = function() {\n      var rejected = consumed(this);\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    };\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      };\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    };\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase();\n    return methods.indexOf(upcased) > -1 ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {};\n    var body = options.body;\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url;\n      this.credentials = input.credentials;\n      if (!options.headers) {\n        this.headers = new Headers(input.headers);\n      }\n      this.method = input.method;\n      this.mode = input.mode;\n      this.signal = input.signal;\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit;\n        input.bodyUsed = true;\n      }\n    } else {\n      this.url = String(input);\n    }\n\n    this.credentials = options.credentials || this.credentials || 'same-origin';\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers);\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET');\n    this.mode = options.mode || this.mode || null;\n    this.signal = options.signal || this.signal;\n    this.referrer = null;\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body);\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, {body: this._bodyInit})\n  };\n\n  function decode(body) {\n    var form = new FormData();\n    body\n      .trim()\n      .split('&')\n      .forEach(function(bytes) {\n        if (bytes) {\n          var split = bytes.split('=');\n          var name = split.shift().replace(/\\+/g, ' ');\n          var value = split.join('=').replace(/\\+/g, ' ');\n          form.append(decodeURIComponent(name), decodeURIComponent(value));\n        }\n      });\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers();\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ');\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':');\n      var key = parts.shift().trim();\n      if (key) {\n        var value = parts.join(':').trim();\n        headers.append(key, value);\n      }\n    });\n    return headers\n  }\n\n  Body.call(Request.prototype);\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {};\n    }\n\n    this.type = 'default';\n    this.status = options.status === undefined ? 200 : options.status;\n    this.ok = this.status >= 200 && this.status < 300;\n    this.statusText = 'statusText' in options ? options.statusText : 'OK';\n    this.headers = new Headers(options.headers);\n    this.url = options.url || '';\n    this._initBody(bodyInit);\n  }\n\n  Body.call(Response.prototype);\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  };\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''});\n    response.type = 'error';\n    return response\n  };\n\n  var redirectStatuses = [301, 302, 303, 307, 308];\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  };\n\n  exports.DOMException = self.DOMException;\n  try {\n    new exports.DOMException();\n  } catch (err) {\n    exports.DOMException = function(message, name) {\n      this.message = message;\n      this.name = name;\n      var error = Error(message);\n      this.stack = error.stack;\n    };\n    exports.DOMException.prototype = Object.create(Error.prototype);\n    exports.DOMException.prototype.constructor = exports.DOMException;\n  }\n\n  function fetch(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init);\n\n      if (request.signal && request.signal.aborted) {\n        return reject(new exports.DOMException('Aborted', 'AbortError'))\n      }\n\n      var xhr = new XMLHttpRequest();\n\n      function abortXhr() {\n        xhr.abort();\n      }\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        };\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL');\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options));\n      };\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.onabort = function() {\n        reject(new exports.DOMException('Aborted', 'AbortError'));\n      };\n\n      xhr.open(request.method, request.url, true);\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true;\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false;\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob';\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value);\n      });\n\n      if (request.signal) {\n        request.signal.addEventListener('abort', abortXhr);\n\n        xhr.onreadystatechange = function() {\n          // DONE (success or failure)\n          if (xhr.readyState === 4) {\n            request.signal.removeEventListener('abort', abortXhr);\n          }\n        };\n      }\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);\n    })\n  }\n\n  fetch.polyfill = true;\n\n  if (!self.fetch) {\n    self.fetch = fetch;\n    self.Headers = Headers;\n    self.Request = Request;\n    self.Response = Response;\n  }\n\n  exports.Headers = Headers;\n  exports.Request = Request;\n  exports.Response = Response;\n  exports.fetch = fetch;\n\n  return exports;\n\n}({}));\n})(__self__);\ndelete __self__.fetch.polyfill\nexports = __self__.fetch // To enable: import fetch from 'cross-fetch'\nexports.default = __self__.fetch // For TypeScript consumers without esModuleInterop.\nexports.fetch = __self__.fetch // To enable: import {fetch} from 'cross-fetch'\nexports.Headers = __self__.Headers\nexports.Request = __self__.Request\nexports.Response = __self__.Response\nmodule.exports = exports\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n * JavaScript Cookie v2.2.0\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader = false;\n\tif (true) {\n\t\t!(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (true) {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api (key, value, attributes) {\n\t\t\tvar result;\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Write\n\n\t\t\tif (arguments.length > 1) {\n\t\t\t\tattributes = extend({\n\t\t\t\t\tpath: '/'\n\t\t\t\t}, api.defaults, attributes);\n\n\t\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\t\tvar expires = new Date();\n\t\t\t\t\texpires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\n\t\t\t\t\tattributes.expires = expires;\n\t\t\t\t}\n\n\t\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\t\ttry {\n\t\t\t\t\tresult = JSON.stringify(value);\n\t\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\t\tvalue = result;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\n\t\t\t\tif (!converter.write) {\n\t\t\t\t\tvalue = encodeURIComponent(String(value))\n\t\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\t\t\t\t} else {\n\t\t\t\t\tvalue = converter.write(value, key);\n\t\t\t\t}\n\n\t\t\t\tkey = encodeURIComponent(String(key));\n\t\t\t\tkey = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\n\t\t\t\tkey = key.replace(/[\\(\\)]/g, escape);\n\n\t\t\t\tvar stringifiedAttributes = '';\n\n\t\t\t\tfor (var attributeName in attributes) {\n\t\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName];\n\t\t\t\t}\n\t\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t\t}\n\n\t\t\t// Read\n\n\t\t\tif (!key) {\n\t\t\t\tresult = {};\n\t\t\t}\n\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all. Also prevents odd result when\n\t\t\t// calling \"get()\"\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar rdecode = /(%[0-9A-Z]{2})+/g;\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!this.json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = parts[0].replace(rdecode, decodeURIComponent);\n\t\t\t\t\tcookie = converter.read ?\n\t\t\t\t\t\tconverter.read(cookie, name) : converter(cookie, name) ||\n\t\t\t\t\t\tcookie.replace(rdecode, decodeURIComponent);\n\n\t\t\t\t\tif (this.json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tresult = cookie;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!key) {\n\t\t\t\t\t\tresult[name] = cookie;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\tapi.set = api;\n\t\tapi.get = function (key) {\n\t\t\treturn api.call(api, key);\n\t\t};\n\t\tapi.getJSON = function () {\n\t\t\treturn api.apply({\n\t\t\t\tjson: true\n\t\t\t}, [].slice.call(arguments));\n\t\t};\n\t\tapi.defaults = {};\n\n\t\tapi.remove = function (key, attributes) {\n\t\t\tapi(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n/* eslint-disable complexity */\n/* eslint-disable max-statements */\n/* SDK_VERSION is defined in webpack config */ \n/* global SDK_VERSION */\n\n__webpack_require__(16);\n\nvar Emitter           = __webpack_require__(18);\nvar AuthSdkError      = __webpack_require__(1);\nvar builderUtil       = __webpack_require__(19);\nvar constants         = __webpack_require__(2);\nvar cookies           = __webpack_require__(4).storage;\nvar http              = __webpack_require__(3);\nvar oauthUtil         = __webpack_require__(10);\nvar Q                 = __webpack_require__(5);\nvar session           = __webpack_require__(24);\nvar token             = __webpack_require__(25);\nvar TokenManager      = __webpack_require__(29);\nvar tx                = __webpack_require__(7);\nvar util              = __webpack_require__(0);\n\nfunction OktaAuthBuilder(args) {\n  var sdk = this;\n\n  var url = builderUtil.getValidUrl(args);\n  // OKTA-242989: support for grantType will be removed in 3.0 \n  var usePKCE = args.pkce || args.grantType === 'authorization_code';\n  this.options = {\n    url: util.removeTrailingSlash(url),\n    clientId: args.clientId,\n    issuer: util.removeTrailingSlash(args.issuer),\n    authorizeUrl: util.removeTrailingSlash(args.authorizeUrl),\n    userinfoUrl: util.removeTrailingSlash(args.userinfoUrl),\n    tokenUrl: util.removeTrailingSlash(args.tokenUrl),\n    revokeUrl: util.removeTrailingSlash(args.revokeUrl),\n    logoutUrl: util.removeTrailingSlash(args.logoutUrl),\n    pkce: usePKCE,\n    redirectUri: args.redirectUri,\n    postLogoutRedirectUri: args.postLogoutRedirectUri,\n    httpRequestClient: args.httpRequestClient,\n    storageUtil: args.storageUtil,\n    transformErrorXHR: args.transformErrorXHR,\n    headers: args.headers,\n    onSessionExpired: args.onSessionExpired,\n  };\n\n  if (this.options.pkce && !sdk.features.isPKCESupported()) {\n    var errorMessage = 'PKCE requires a modern browser with encryption support running in a secure context.';\n    if (!sdk.features.isHTTPS()) {\n      errorMessage += '\\nThe current page is not being served with HTTPS protocol. Try using HTTPS.';\n    }\n    if (!sdk.features.hasTextEncoder()) {\n      errorMessage += '\\n\"TextEncoder\" is not defined. You may need a polyfill/shim for this browser.';\n    }\n    throw new AuthSdkError(errorMessage);\n  }\n\n  this.userAgent = 'okta-auth-js-' + \"2.11.2\";\n\n  // Digital clocks will drift over time, so the server\n  // can misalign with the time reported by the browser.\n  // The maxClockSkew allows relaxing the time-based\n  // validation of tokens (in seconds, not milliseconds).\n  // It currently defaults to 300, because 5 min is the\n  // default maximum tolerance allowed by Kerberos.\n  // (https://technet.microsoft.com/en-us/library/cc976357.aspx)\n  if (!args.maxClockSkew && args.maxClockSkew !== 0) {\n    this.options.maxClockSkew = constants.DEFAULT_MAX_CLOCK_SKEW;\n  } else {\n    this.options.maxClockSkew = args.maxClockSkew;\n  }\n\n  // Give the developer the ability to disable token signature\n  // validation.\n  this.options.ignoreSignature = !!args.ignoreSignature;\n\n  sdk.session = {\n    close: util.bind(session.closeSession, null, sdk),\n    exists: util.bind(session.sessionExists, null, sdk),\n    get: util.bind(session.getSession, null, sdk),\n    refresh: util.bind(session.refreshSession, null, sdk),\n    setCookieAndRedirect: util.bind(session.setCookieAndRedirect, null, sdk)\n  };\n\n  sdk.tx = {\n    status: util.bind(tx.transactionStatus, null, sdk),\n    resume: util.bind(tx.resumeTransaction, null, sdk),\n    exists: util.bind(tx.transactionExists, null, sdk),\n    introspect: util.bind(tx.introspect, null, sdk)\n  };\n\n  // This is exposed so we can mock document.cookie in our tests\n  sdk.tx.exists._get = function(name) {\n    return cookies.get(name);\n  };\n\n  // This is exposed so we can mock window.location.href in our tests\n  sdk.idToken = {\n    authorize: {\n      _getLocationHref: function() {\n        return window.location.href;\n      }\n    }\n  };\n\n  sdk.token = {\n    getWithoutPrompt: util.bind(token.getWithoutPrompt, null, sdk),\n    getWithPopup: util.bind(token.getWithPopup, null, sdk),\n    getWithRedirect: util.bind(token.getWithRedirect, null, sdk),\n    parseFromUrl: util.bind(token.parseFromUrl, null, sdk),\n    decode: token.decodeToken,\n    revoke: util.bind(token.revokeToken, null, sdk),\n    renew: util.bind(token.renewToken, null, sdk),\n    getUserInfo: util.bind(token.getUserInfo, null, sdk),\n    verify: util.bind(token.verifyToken, null, sdk)\n  };\n\n  // This is exposed so we can set window.location in our tests\n  sdk.token.getWithRedirect._setLocation = function(url) {\n    window.location = url;\n  };\n\n  // This is exposed so we can mock getting window.history in our tests\n  sdk.token.parseFromUrl._getHistory = function() {\n    return window.history;\n  };\n\n  // This is exposed so we can mock getting window.location in our tests\n  sdk.token.parseFromUrl._getLocation = function() {\n    return window.location;\n  };\n\n  // This is exposed so we can mock getting window.document in our tests\n  sdk.token.parseFromUrl._getDocument = function() {\n    return window.document;\n  };\n\n  sdk.fingerprint._getUserAgent = function() {\n    return navigator.userAgent;\n  };\n\n  var isWindowsPhone = /windows phone|iemobile|wpdesktop/i;\n  sdk.features.isFingerprintSupported = function() {\n    var agent = sdk.fingerprint._getUserAgent();\n    return agent && !isWindowsPhone.test(agent);\n  };\n\n  sdk.emitter = new Emitter();\n  sdk.tokenManager = new TokenManager(sdk, args.tokenManager);\n  sdk.tokenManager.on('error', this._onTokenManagerError, this);\n}\n\nvar proto = OktaAuthBuilder.prototype;\nproto._onTokenManagerError = function(error) {\n  var code = error.errorCode;\n  if (code === 'login_required' && error.accessToken) {\n    if (this.options.onSessionExpired) {\n      this.options.onSessionExpired();\n    } else {\n      // eslint-disable-next-line no-console\n      console.error('Session has expired or was closed outside the application.');\n    }\n  }\n};\n\nproto.features = {};\n\nproto.features.isPopupPostMessageSupported = function() {\n  var isIE8or9 = document.documentMode && document.documentMode < 10;\n  if (window.postMessage && !isIE8or9) {\n    return true;\n  }\n  return false;\n};\n\nproto.features.isTokenVerifySupported = function() {\n  return typeof crypto !== 'undefined' && crypto.subtle && typeof Uint8Array !== 'undefined';\n};\n\nproto.features.hasTextEncoder = function() {\n  return typeof TextEncoder !== 'undefined';\n};\n\nproto.features.isPKCESupported = function() {\n  return proto.features.isTokenVerifySupported() && proto.features.hasTextEncoder();\n};\n\nproto.features.isHTTPS = function() {\n  return window.location.protocol === 'https:';\n};\n\n// { username, password, (relayState), (context) }\nproto.signIn = function (opts) {\n  var sdk = this;\n  opts = util.clone(opts || {});\n  function postToTransaction(options) {\n    delete opts.sendFingerprint;\n    return tx.postToTransaction(sdk, '/api/v1/authn', opts, options);\n  }\n  if (!opts.sendFingerprint) {\n    return postToTransaction();\n  }\n  return sdk.fingerprint()\n  .then(function(fingerprint) {\n    return postToTransaction({\n      headers: {\n        'X-Device-Fingerprint': fingerprint\n      }\n    });\n  });\n};\n\n// Ends the current application session, clearing all local tokens\n// Optionally revokes the access token\n// Ends the user's Okta session using the API or redirect method\nproto.signOut = function (options) {\n  options = util.extend({}, options);\n\n  // postLogoutRedirectUri must be whitelisted in Okta Admin UI\n  var postLogoutRedirectUri = options.postLogoutRedirectUri || this.options.postLogoutRedirectUri;\n\n  var accessToken = options.accessToken;\n  var revokeAccessToken = options.revokeAccessToken;\n  var idToken = options.idToken;\n\n  var sdk = this;\n  var logoutUrl = oauthUtil.getOAuthUrls(sdk).logoutUrl;\n\n  function getAccessToken() {\n    return new Q()\n    .then(function() {\n      if (revokeAccessToken && typeof accessToken === 'undefined') {\n        return sdk.tokenManager.get('token');\n      }\n      return accessToken;\n    });\n  }\n\n  function getIdToken() {\n    return new Q()\n    .then(function() {\n      if (postLogoutRedirectUri && typeof idToken === 'undefined') {\n        return sdk.tokenManager.get('idToken');\n      }\n      return idToken;\n    });\n  }\n\n  function closeSession() {\n    return sdk.session.close() // DELETE /api/v1/sessions/me\n    .catch(function(e) {\n      if (e.name === 'AuthApiError') {\n        // Most likely cause is session does not exist or has already been closed\n        // Could also be a network error. Nothing we can do here.\n        return;\n      }\n      throw e;\n    });\n  }\n\n  return Q.allSettled([getAccessToken(), getIdToken()])\n    .then(function(tokens) {\n      accessToken = tokens[0].value;\n      idToken = tokens[1].value;\n\n      // Clear all local tokens\n      sdk.tokenManager.clear();\n\n      if (revokeAccessToken && accessToken) {\n        return sdk.token.revoke(accessToken)\n        .catch(function(e) {\n          if (e.name === 'AuthApiError') {\n            // Capture and ignore network errors\n            return;\n          }\n          throw e;\n        });\n      }\n    })\n    .then(function() {\n      // XHR signOut method\n      if (!postLogoutRedirectUri) {\n        return closeSession();\n      }\n\n      // No idToken? This can happen if the storage was cleared.\n      // Fallback to XHR signOut, then redirect to the post logout uri\n      if (!idToken) {\n        return closeSession()\n        .catch(function(err) {\n          // eslint-disable-next-line no-console\n          console.log('Unhandled exception while closing session', err);\n        })\n        .then(function() {\n          window.location.assign(postLogoutRedirectUri);\n        });\n      }\n\n      // logout redirect using the idToken.\n      var state = options.state;\n      var idTokenHint = idToken.idToken; // a string\n      var logoutUri = logoutUrl + '?id_token_hint=' + encodeURIComponent(idTokenHint) +\n        '&post_logout_redirect_uri=' + encodeURIComponent(postLogoutRedirectUri);\n    \n      // State allows option parameters to be passed to logout redirect uri\n      if (state) {\n        logoutUri += '&state=' + encodeURIComponent(state);\n      }\n      \n      window.location.assign(logoutUri);\n    });\n};\n\nbuilderUtil.addSharedPrototypes(proto);\n\n// { resource, (rel), (requestContext)}\nproto.webfinger = function (opts) {\n  var url = '/.well-known/webfinger' + util.toQueryParams(opts);\n  var options = {\n    headers: {\n      'Accept': 'application/jrd+json'\n    }\n  };\n  return http.get(this, url, options);\n};\n\nproto.fingerprint = function(options) {\n  options = options || {};\n  var sdk = this;\n  if (!sdk.features.isFingerprintSupported()) {\n    return Q.reject(new AuthSdkError('Fingerprinting is not supported on this device'));\n  }\n\n  var deferred = Q.defer();\n\n  var iframe = document.createElement('iframe');\n  iframe.style.display = 'none';\n\n  function listener(e) {\n    if (!e || !e.data || e.origin !== sdk.options.url) {\n      return;\n    }\n\n    try {\n      var msg = JSON.parse(e.data);\n    } catch (err) {\n      return deferred.reject(new AuthSdkError('Unable to parse iframe response'));\n    }\n\n    if (!msg) { return; }\n    if (msg.type === 'FingerprintAvailable') {\n      return deferred.resolve(msg.fingerprint);\n    }\n    if (msg.type === 'FingerprintServiceReady') {\n      e.source.postMessage(JSON.stringify({\n        type: 'GetFingerprint'\n      }), e.origin);\n    }\n  }\n  oauthUtil.addListener(window, 'message', listener);\n\n  iframe.src = sdk.options.url + '/auth/services/devicefingerprint';\n  document.body.appendChild(iframe);\n\n  var timeout = setTimeout(function() {\n    deferred.reject(new AuthSdkError('Fingerprinting timed out'));\n  }, options.timeout || 15000);\n\n  return deferred.promise.fin(function() {\n    clearTimeout(timeout);\n    oauthUtil.removeListener(window, 'message', listener);\n    if (document.body.contains(iframe)) {\n      iframe.parentElement.removeChild(iframe);\n    }\n  });\n};\n\nmodule.exports = builderUtil.buildOktaAuth(OktaAuthBuilder);\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n__webpack_require__(17);\n\n// Production steps of ECMA-262, Edition 5, 15.4.4.14\n// Reference: http://es5.github.io/#x15.4.4.14\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf#Polyfill\nif (!Array.prototype.indexOf) {\n  Array.prototype.indexOf = function(searchElement, fromIndex) {\n\n    var k;\n\n    // 1. Let o be the result of calling ToObject passing\n    //    the this value as the argument.\n    if (this == null) {\n      throw new TypeError('\"this\" is null or not defined');\n    }\n\n    var o = Object(this);\n\n    // 2. Let lenValue be the result of calling the Get\n    //    internal method of o with the argument \"length\".\n    // 3. Let len be ToUint32(lenValue).\n    var len = o.length >>> 0;\n\n    // 4. If len is 0, return -1.\n    if (len === 0) {\n      return -1;\n    }\n\n    // 5. If argument fromIndex was passed let n be\n    //    ToInteger(fromIndex); else let n be 0.\n    var n = +fromIndex || 0;\n\n    if (Math.abs(n) === Infinity) {\n      n = 0;\n    }\n\n    // 6. If n >= len, return -1.\n    if (n >= len) {\n      return -1;\n    }\n\n    // 7. If n >= 0, then Let k be n.\n    // 8. Else, n<0, Let k be len - abs(n).\n    //    If k is less than 0, then let k be 0.\n    k = Math.max(n >= 0 ? n : len - Math.abs(n), 0);\n\n    // 9. Repeat, while k < len\n    while (k < len) {\n      // a. Let Pk be ToString(k).\n      //   This is implicit for LHS operands of the in operator\n      // b. Let kPresent be the result of calling the\n      //    HasProperty internal method of o with argument Pk.\n      //   This step can be combined with c\n      // c. If kPresent is true, then\n      //    i.  Let elementK be the result of calling the Get\n      //        internal method of o with the argument ToString(k).\n      //   ii.  Let same be the result of applying the\n      //        Strict Equality Comparison Algorithm to\n      //        searchElement and elementK.\n      //  iii.  If same is true, return k.\n      if (k in o && o[k] === searchElement) {\n        return k;\n      }\n      k++;\n    }\n    return -1;\n  };\n}\n\nif (!Array.isArray) {\n  Array.isArray = function(obj) {\n    return Object.prototype.toString.call(obj) === '[object Array]';\n  };\n}\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n;(function () {\n\n  var object =  true ? exports : this; // #8: web workers\n  var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\n  function InvalidCharacterError(message) {\n    this.message = message;\n  }\n  InvalidCharacterError.prototype = new Error;\n  InvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\n  // encoder\n  // [https://gist.github.com/999166] by [https://github.com/nignag]\n  object.btoa || (\n  object.btoa = function (input) {\n    var str = String(input);\n    for (\n      // initialize result and counter\n      var block, charCode, idx = 0, map = chars, output = '';\n      // if the next str index does not exist:\n      //   change the mapping table to \"=\"\n      //   check if d has no fractional digits\n      str.charAt(idx | 0) || (map = '=', idx % 1);\n      // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n      output += map.charAt(63 & block >> 8 - idx % 1 * 8)\n    ) {\n      charCode = str.charCodeAt(idx += 3/4);\n      if (charCode > 0xFF) {\n        throw new InvalidCharacterError(\"'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.\");\n      }\n      block = block << 8 | charCode;\n    }\n    return output;\n  });\n\n  // decoder\n  // [https://gist.github.com/1020396] by [https://github.com/atk]\n  object.atob || (\n  object.atob = function (input) {\n    var str = String(input).replace(/=+$/, '');\n    if (str.length % 4 == 1) {\n      throw new InvalidCharacterError(\"'atob' failed: The string to be decoded is not correctly encoded.\");\n    }\n    for (\n      // initialize result and counters\n      var bc = 0, bs, buffer, idx = 0, output = '';\n      // get next character\n      buffer = str.charAt(idx++);\n      // character found in table? initialize bit storage and add its ascii value;\n      ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer,\n        // and if not first of each 4 characters,\n        // convert the first 8 bits to one ascii character\n        bc++ % 4) ? output += String.fromCharCode(255 & bs >> (-2 * bc & 6)) : 0\n    ) {\n      // try to find character in table (0-63, not found => -1)\n      buffer = chars.indexOf(buffer);\n    }\n    return output;\n  });\n\n}());\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports) {\n\nfunction E () {\n  // Keep this empty so it's easier to inherit from\n  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n}\n\nE.prototype = {\n  on: function (name, callback, ctx) {\n    var e = this.e || (this.e = {});\n\n    (e[name] || (e[name] = [])).push({\n      fn: callback,\n      ctx: ctx\n    });\n\n    return this;\n  },\n\n  once: function (name, callback, ctx) {\n    var self = this;\n    function listener () {\n      self.off(name, listener);\n      callback.apply(ctx, arguments);\n    };\n\n    listener._ = callback\n    return this.on(name, listener, ctx);\n  },\n\n  emit: function (name) {\n    var data = [].slice.call(arguments, 1);\n    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n    var i = 0;\n    var len = evtArr.length;\n\n    for (i; i < len; i++) {\n      evtArr[i].fn.apply(evtArr[i].ctx, data);\n    }\n\n    return this;\n  },\n\n  off: function (name, callback) {\n    var e = this.e || (this.e = {});\n    var evts = e[name];\n    var liveEvents = [];\n\n    if (evts && callback) {\n      for (var i = 0, len = evts.length; i < len; i++) {\n        if (evts[i].fn !== callback && evts[i].fn._ !== callback)\n          liveEvents.push(evts[i]);\n      }\n    }\n\n    // Remove event from queue to prevent memory leak\n    // Suggested by https://github.com/lazd\n    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\n    (liveEvents.length)\n      ? e[name] = liveEvents\n      : delete e[name];\n\n    return this;\n  }\n};\n\nmodule.exports = E;\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2018-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nvar AuthSdkError = __webpack_require__(1);\nvar tx = __webpack_require__(7);\nvar util = __webpack_require__(0);\n\nfunction getValidUrl(args) {\n  if (!args) {\n    throw new AuthSdkError('No arguments passed to constructor. ' +\n      'Required usage: new OktaAuth(args)');\n  }\n\n  var url = args.url;\n  if (!url) {\n    var isUrlRegex = new RegExp('^http?s?://.+');\n    if (args.issuer && isUrlRegex.test(args.issuer)) {\n      // Infer the URL from the issuer URL, omitting the /oauth2/{authServerId}\n      url = args.issuer.split('/oauth2/')[0];\n    } else {\n      throw new AuthSdkError('No url passed to constructor. ' +\n      'Required usage: new OktaAuth({url: \"https://{yourOktaDomain}.com\"})');\n    }\n  }\n\n  if (url.indexOf('-admin.') !== -1) {\n    throw new AuthSdkError('URL passed to constructor contains \"-admin\" in subdomain. ' +\n      'Required usage: new OktaAuth({url: \"https://{yourOktaDomain}.com})');\n  }\n\n  return url;\n}\n\nfunction addSharedPrototypes(proto) {\n  // { username, (relayState) }\n  proto.forgotPassword = function (opts) {\n    return tx.postToTransaction(this, '/api/v1/authn/recovery/password', opts);\n  };\n\n  // { username, (relayState) }\n  proto.unlockAccount = function (opts) {\n    return tx.postToTransaction(this, '/api/v1/authn/recovery/unlock', opts);\n  };\n\n  // { recoveryToken }\n  proto.verifyRecoveryToken = function (opts) {\n    return tx.postToTransaction(this, '/api/v1/authn/recovery/token', opts);\n  };\n}\n\nfunction buildOktaAuth(OktaAuthBuilder) {\n  return function(storageUtil, httpRequestClient) {\n    function OktaAuth(args) {\n      if (!(this instanceof OktaAuth)) {\n        return new OktaAuth(args);\n      }\n\n      if (args) {\n        args.storageUtil = storageUtil;\n\n        if (args.ajaxRequest) {\n          util.deprecate('ajaxRequest is being deprecated, use httpRequestClient attribute instead.');\n          args.httpRequestClient = args.ajaxRequest;\n        } else if (!args.httpRequestClient) {\n          args.httpRequestClient = httpRequestClient;\n        }\n      }\n\n      util.bind(OktaAuthBuilder, this)(args);\n    }\n    OktaAuth.prototype = OktaAuthBuilder.prototype;\n    OktaAuth.prototype.constructor = OktaAuth;\n\n    // Hoist feature detection functions to static type\n    OktaAuth.features = OktaAuthBuilder.prototype.features;\n\n    return OktaAuth;\n  };\n}\n\nmodule.exports = {\n  addSharedPrototypes: addSharedPrototypes,\n  buildOktaAuth: buildOktaAuth,\n  getValidUrl: getValidUrl\n};\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\n__webpack_require__(21);\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(9)))\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global, process) {(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 68\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(9), __webpack_require__(8)))\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nfunction AuthApiError(err, xhr) {\n  this.name = 'AuthApiError';\n  this.message = err.errorSummary;\n  this.errorSummary = err.errorSummary;\n  this.errorCode = err.errorCode;\n  this.errorLink = err.errorLink;\n  this.errorId = err.errorId;\n  this.errorCauses = err.errorCauses;\n\n  if (xhr) {\n    this.xhr = xhr;\n  }\n}\nAuthApiError.prototype = new Error();\n\nmodule.exports = AuthApiError;\n\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nfunction AuthPollStopError() {\n  this.name = 'AuthPollStopError';\n  this.message = 'The poll was stopped by the sdk';\n}\nAuthPollStopError.prototype = new Error();\n\nmodule.exports = AuthPollStopError;\n\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\nvar util = __webpack_require__(0);\nvar http = __webpack_require__(3);\n\nfunction sessionExists(sdk) {\n  return sdk.session.get()\n    .then(function(res) {\n      if (res.status === 'ACTIVE') {\n        return true;\n      }\n      return false;\n    })\n    .fail(function() {\n      return false;\n    });\n}\n\nfunction getSession(sdk) { \n  return http.get(sdk, '/api/v1/sessions/me')\n  .then(function(session) {\n    var res = util.omit(session, '_links');\n\n    res.refresh = function() {\n      return http.post(sdk, util.getLink(session, 'refresh').href);\n    };\n\n    res.user = function() {\n      return http.get(sdk, util.getLink(session, 'user').href);\n    };\n\n    return res;\n  })\n  .fail(function() {\n    // Return INACTIVE status on failure\n    return {status: 'INACTIVE'};\n  });\n}\n\nfunction closeSession(sdk) {\n  return http.httpRequest(sdk, {\n    url: sdk.options.url + '/api/v1/sessions/me',\n    method: 'DELETE'\n  });\n}\n\nfunction refreshSession(sdk) {\n  return http.post(sdk, '/api/v1/sessions/me/lifecycle/refresh');\n}\n\nfunction setCookieAndRedirect(sdk, sessionToken, redirectUrl) {\n  redirectUrl = redirectUrl || window.location.href;\n  window.location = sdk.options.url + '/login/sessionCookieRedirect' +\n    util.toQueryParams({\n      checkAccountSetupComplete: true,\n      token: sessionToken,\n      redirectUrl: redirectUrl\n    });\n}\n\nmodule.exports = {\n  sessionExists: sessionExists,\n  getSession: getSession,\n  closeSession: closeSession,\n  refreshSession: refreshSession,\n  setCookieAndRedirect: setCookieAndRedirect\n};\n\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* eslint-disable complexity, max-statements */\nvar http          = __webpack_require__(3);\nvar util          = __webpack_require__(0);\nvar oauthUtil     = __webpack_require__(10);\nvar Q             = __webpack_require__(5);\nvar sdkCrypto     = __webpack_require__(26);\nvar AuthSdkError  = __webpack_require__(1);\nvar OAuthError    = __webpack_require__(27);\nvar constants     = __webpack_require__(2);\nvar cookies       = __webpack_require__(4).storage;\nvar PKCE          = __webpack_require__(28);\n\n// Only the access token can be revoked in SPA applications\nfunction revokeToken(sdk, token) {\n  return new Q()\n  .then(function() {\n    if (!token || !token.accessToken) {\n      throw new AuthSdkError('A valid access token object is required');\n    }\n    var clientId = sdk.options.clientId;\n    if (!clientId) {\n      throw new AuthSdkError('A clientId must be specified in the OktaAuth constructor to revoke a token');\n    }\n    var revokeUrl = oauthUtil.getOAuthUrls(sdk).revokeUrl;\n    var accessToken = token.accessToken;\n    var args = util.toQueryParams({\n      // eslint-disable-next-line camelcase\n      token_type_hint: 'access_token',\n      token: accessToken\n    }).slice(1);\n    var creds = btoa(clientId);\n    return http.post(sdk, revokeUrl, args, {\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n        'Authorization': 'Basic ' + creds\n      }\n    });\n  });\n}\n\nfunction decodeToken(token) {\n  var jwt = token.split('.');\n  var decodedToken;\n\n  try {\n    decodedToken = {\n      header: JSON.parse(util.base64UrlToString(jwt[0])),\n      payload: JSON.parse(util.base64UrlToString(jwt[1])),\n      signature: jwt[2]\n    };\n  } catch(e) {\n    throw new AuthSdkError('Malformed token');\n  }\n\n  return decodedToken;\n}\n\n// Verify the id token\nfunction verifyToken(sdk, token, validationParams) {\n  return new Q()\n  .then(function() {\n    if (!token || !token.idToken) {\n      throw new AuthSdkError('Only idTokens may be verified');\n    }\n\n    var jwt = decodeToken(token.idToken);\n\n    var validationOptions = {\n      clientId: sdk.options.clientId,\n      issuer: sdk.options.issuer || sdk.options.url,\n      ignoreSignature: sdk.options.ignoreSignature\n    };\n\n    util.extend(validationOptions, validationParams);\n\n    // Standard claim validation\n    oauthUtil.validateClaims(sdk, jwt.payload, validationOptions);\n\n    // If the browser doesn't support native crypto or we choose not\n    // to verify the signature, bail early\n    if (validationOptions.ignoreSignature == true || !sdk.features.isTokenVerifySupported()) {\n      return token;\n    }\n\n    return oauthUtil.getKey(sdk, token.issuer, jwt.header.kid)\n    .then(function(key) {\n      return sdkCrypto.verifyToken(token.idToken, key);\n    })\n    .then(function(valid) {\n      if (!valid) {\n        throw new AuthSdkError('The token signature is not valid');\n      }\n      return token;\n    });\n  });\n}\n\nfunction addPostMessageListener(sdk, timeout, state) {\n  var deferred = Q.defer();\n\n  function responseHandler(e) {\n    if (!e.data || e.data.state !== state) {\n      // A message not meant for us\n      return;\n    }\n\n    // Configuration mismatch between saved token and current app instance\n    // This may happen if apps with different issuers are running on the same host url\n    // If they share the same storage key, they may read and write tokens in the same location.\n    // Common when developing against http://localhost\n    if (e.origin !== sdk.options.url) {\n      return deferred.reject(new AuthSdkError('The request does not match client configuration'));\n    }\n\n    deferred.resolve(e.data);\n  }\n\n  oauthUtil.addListener(window, 'message', responseHandler);\n\n  return deferred.promise.timeout(timeout || 120000, new AuthSdkError('OAuth flow timed out'))\n    .fin(function() {\n      oauthUtil.removeListener(window, 'message', responseHandler);\n    });\n}\n\nfunction addFragmentListener(sdk, windowEl, timeout) {\n  var deferred = Q.defer();\n\n  function hashChangeHandler() {\n    /*\n      We are only able to access window.location.hash on a window\n      that has the same domain. A try/catch is necessary because\n      there's no other way to determine that the popup is in\n      another domain. When we try to access a window on another\n      domain, an error is thrown.\n    */\n    try {\n      if (windowEl &&\n          windowEl.location &&\n          windowEl.location.hash) {\n        deferred.resolve(oauthUtil.hashToObject(windowEl.location.hash));\n      } else if (windowEl && !windowEl.closed) {\n        setTimeout(hashChangeHandler, 500);\n      }\n    } catch (err) {\n      setTimeout(hashChangeHandler, 500);\n    }\n  }\n\n  hashChangeHandler();\n\n  return deferred.promise.timeout(timeout || 120000, new AuthSdkError('OAuth flow timed out'));\n}\n\nfunction exchangeCodeForToken(sdk, oauthParams, authorizationCode, urls) {\n  // PKCE authorization_code flow\n  // Retrieve saved values and build oauthParams for call to /token\n  var meta = PKCE.loadMeta(sdk);\n  var getTokenParams = {\n    clientId: oauthParams.clientId,\n    authorizationCode: authorizationCode,\n    codeVerifier: meta.codeVerifier,\n    redirectUri: meta.redirectUri\n  };\n  return PKCE.getToken(sdk, getTokenParams, urls)\n  .then(function(res) {\n    validateResponse(res, getTokenParams);\n    return res;\n  })\n  .fin(function() {\n    PKCE.clearMeta(sdk);\n  });\n}\n\nfunction validateResponse(res, oauthParams) {\n  if (res['error'] || res['error_description']) {\n    throw new OAuthError(res['error'], res['error_description']);\n  }\n\n  if (res.state !== oauthParams.state) {\n    throw new AuthSdkError('OAuth flow response state doesn\\'t match request state');\n  }\n}\n\nfunction handleOAuthResponse(sdk, oauthParams, res, urls) {\n  urls = urls || {};\n\n  var responseType = oauthParams.responseType;\n  var scopes = util.clone(oauthParams.scopes);\n  var clientId = oauthParams.clientId || sdk.options.clientId;\n\n  return new Q()\n  .then(function() {\n    validateResponse(res, oauthParams);\n\n    // We do not support \"hybrid\" scenarios where the response includes both a code and a token.\n    // If the response contains a code it is used immediately to obtain new tokens.\n    if (res['code']) {\n      responseType = ['token', 'id_token']; // what we expect the code to provide us\n      return exchangeCodeForToken(sdk, oauthParams, res['code'], urls);\n    }\n    return res;\n  }).then(function(res) {\n    var tokenDict = {};\n\n    if (res['access_token']) {\n      tokenDict['token'] = {\n        accessToken: res['access_token'],\n        expiresAt: Number(res['expires_in']) + Math.floor(Date.now()/1000),\n        tokenType: res['token_type'],\n        scopes: scopes,\n        authorizeUrl: urls.authorizeUrl,\n        userinfoUrl: urls.userinfoUrl\n      };\n    }\n\n    if (res['id_token']) {\n      var jwt = sdk.token.decode(res['id_token']);\n\n      var idToken = {\n        idToken: res['id_token'],\n        claims: jwt.payload,\n        expiresAt: jwt.payload.exp,\n        scopes: scopes,\n        authorizeUrl: urls.authorizeUrl,\n        issuer: urls.issuer,\n        clientId: clientId\n      };\n\n      var validationParams = {\n        clientId: clientId,\n        issuer: urls.issuer,\n        nonce: oauthParams.nonce\n      };\n\n      if (oauthParams.ignoreSignature !== undefined) {\n        validationParams.ignoreSignature = oauthParams.ignoreSignature;\n      }\n\n      return verifyToken(sdk, idToken, validationParams)\n      .then(function() {\n        tokenDict['id_token'] = idToken;\n        return tokenDict;\n      });\n    }\n\n    return tokenDict;\n  })\n  .then(function(tokenDict) {\n    if (!Array.isArray(responseType)) {\n      return tokenDict[responseType];\n    }\n\n    // Validate response against tokenTypes\n    var validateTokenTypes =  ['token', 'id_token'];\n    validateTokenTypes.filter(function(key) {\n      return (responseType.indexOf(key) !== -1);\n    }).forEach(function(key) {\n      if (!tokenDict[key]) {\n        throw new AuthSdkError('Unable to parse OAuth flow response: ' + key + ' was not returned.');\n      }     \n    });\n\n    // Create token array in the order of the responseType array\n    return responseType.map(function(item) {\n      return tokenDict[item];\n    });\n  });\n}\n\nfunction getDefaultOAuthParams(sdk) {\n  return {\n    pkce: sdk.options.pkce || false,\n    clientId: sdk.options.clientId,\n    redirectUri: sdk.options.redirectUri || window.location.href,\n    responseType: 'id_token',\n    responseMode: 'okta_post_message',\n    state: oauthUtil.generateState(),\n    nonce: oauthUtil.generateNonce(),\n    scopes: ['openid', 'email'],\n    ignoreSignature: sdk.options.ignoreSignature\n  };\n}\n\nfunction convertOAuthParamsToQueryParams(oauthParams) {\n  // Quick validation\n  if (!oauthParams.clientId) {\n    throw new AuthSdkError('A clientId must be specified in the OktaAuth constructor to get a token');\n  }\n\n  if (util.isString(oauthParams.responseType) && oauthParams.responseType.indexOf(' ') !== -1) {\n    throw new AuthSdkError('Multiple OAuth responseTypes must be defined as an array');\n  }\n\n  // Convert our params to their actual OAuth equivalents\n  var oauthQueryParams = util.removeNils({\n    'client_id': oauthParams.clientId,\n    'code_challenge': oauthParams.codeChallenge,\n    'code_challenge_method': oauthParams.codeChallengeMethod,\n    'display': oauthParams.display,\n    'idp': oauthParams.idp,\n    'idp_scope': oauthParams.idpScope,\n    'login_hint': oauthParams.loginHint,\n    'max_age': oauthParams.maxAge,\n    'nonce': oauthParams.nonce,\n    'prompt': oauthParams.prompt,\n    'redirect_uri': oauthParams.redirectUri,\n    'response_mode': oauthParams.responseMode,\n    'response_type': oauthParams.responseType,\n    'sessionToken': oauthParams.sessionToken,\n    'state': oauthParams.state,\n  });\n\n  ['idp_scope', 'response_type'].forEach( function( mayBeArray ) { \n    if (Array.isArray(oauthQueryParams[mayBeArray])) {\n      oauthQueryParams[mayBeArray] = oauthQueryParams[mayBeArray].join(' ');\n    }\n  });\n\n  if (oauthParams.responseType.indexOf('id_token') !== -1 &&\n      oauthParams.scopes.indexOf('openid') === -1) {\n    throw new AuthSdkError('openid scope must be specified in the scopes argument when requesting an id_token');\n  } else {\n    oauthQueryParams.scope = oauthParams.scopes.join(' ');\n  }\n\n  return oauthQueryParams;\n}\n\nfunction buildAuthorizeParams(oauthParams) {\n  var oauthQueryParams = convertOAuthParamsToQueryParams(oauthParams);\n  return util.toQueryParams(oauthQueryParams);\n}\n\n/*\n * Retrieve an idToken from an Okta or a third party idp\n *\n * Two main flows:\n *\n *  1) Exchange a sessionToken for a token\n *\n *    Required:\n *      clientId: passed via the OktaAuth constructor or into getToken\n *      sessionToken: 'yourtoken'\n *\n *    Optional:\n *      redirectUri: defaults to window.location.href\n *      scopes: defaults to ['openid', 'email']\n *\n *    Forced:\n *      prompt: 'none'\n *      responseMode: 'okta_post_message'\n *      display: undefined\n *\n *  2) Get a token from an idp\n *\n *    Required:\n *      clientId: passed via the OktaAuth constructor or into getToken\n *\n *    Optional:\n *      redirectUri: defaults to window.location.href\n *      scopes: defaults to ['openid', 'email']\n *      idp: defaults to Okta as an idp\n *      prompt: no default. Pass 'none' to throw an error if user is not signed in\n *\n *    Forced:\n *      display: 'popup'\n *\n *  Only common optional params shown. Any OAuth parameters not explicitly forced are available to override\n *\n * @param {Object} oauthOptions\n * @param {String} [oauthOptions.clientId] ID of this client\n * @param {String} [oauthOptions.redirectUri] URI that the iframe or popup will go to once authenticated\n * @param {String[]} [oauthOptions.scopes] OAuth 2.0 scopes to request (openid must be specified)\n * @param {String} [oauthOptions.idp] ID of an external IdP to use for user authentication\n * @param {String} [oauthOptions.sessionToken] Bootstrap Session Token returned by the Okta Authentication API\n * @param {String} [oauthOptions.prompt] Determines whether the Okta login will be displayed on failure.\n *                                       Use 'none' to prevent this behavior\n *\n * @param {Object} options\n * @param {Integer} [options.timeout] Time in ms before the flow is automatically terminated. Defaults to 120000\n * @param {String} [options.popupTitle] Title dispayed in the popup.\n *                                      Defaults to 'External Identity Provider User Authentication'\n */\nfunction getToken(sdk, oauthOptions, options) {\n  oauthOptions = oauthOptions || {};\n  options = options || {};\n\n  return prepareOauthParams(sdk, oauthOptions)\n  .then(function(oauthParams) {\n\n    // Start overriding any options that don't make sense\n    var sessionTokenOverrides = {\n      prompt: 'none',\n      responseMode: 'okta_post_message',\n      display: null\n    };\n\n    var idpOverrides = {\n      display: 'popup'\n    };\n\n    if (oauthOptions.sessionToken) {\n      util.extend(oauthParams, sessionTokenOverrides);\n    } else if (oauthOptions.idp) {\n      util.extend(oauthParams, idpOverrides);\n    }\n\n    // Use the query params to build the authorize url\n    var requestUrl,\n        endpoint,\n        urls;\n    try {\n      // Get authorizeUrl and issuer\n      urls = oauthUtil.getOAuthUrls(sdk, oauthParams, options);\n      endpoint = oauthOptions.codeVerifier ? urls.tokenUrl : urls.authorizeUrl;\n      requestUrl = endpoint + buildAuthorizeParams(oauthParams);\n    } catch (e) {\n      return Q.reject(e);\n    }\n\n    // Determine the flow type\n    var flowType;\n    if (oauthParams.sessionToken || oauthParams.display === null) {\n      flowType = 'IFRAME';\n    } else if (oauthParams.display === 'popup') {\n      flowType = 'POPUP';\n    } else {\n      flowType = 'IMPLICIT';\n    }\n\n    function getOrigin(url) {\n      /* eslint-disable-next-line no-useless-escape */\n      var originRegex = /^(https?\\:\\/\\/)?([^:\\/?#]*(?:\\:[0-9]+)?)/;\n      return originRegex.exec(url)[0];\n    }\n\n    // Execute the flow type\n    switch (flowType) {\n      case 'IFRAME':\n        var iframePromise = addPostMessageListener(sdk, options.timeout, oauthParams.state);\n        var iframeEl = oauthUtil.loadFrame(requestUrl);\n        return iframePromise\n          .then(function(res) {\n            return handleOAuthResponse(sdk, oauthParams, res, urls);\n          })\n          .fin(function() {\n            if (document.body.contains(iframeEl)) {\n              iframeEl.parentElement.removeChild(iframeEl);\n            }\n          });\n\n      case 'POPUP': // eslint-disable-line no-case-declarations\n        var popupPromise;\n\n        // Add listener on postMessage before window creation, so\n        // postMessage isn't triggered before we're listening\n        if (oauthParams.responseMode === 'okta_post_message') {\n          if (!sdk.features.isPopupPostMessageSupported()) {\n            return Q.reject(new AuthSdkError('This browser doesn\\'t have full postMessage support'));\n          }\n          popupPromise = addPostMessageListener(sdk, options.timeout, oauthParams.state);\n        }\n\n        // Create the window\n        var windowOptions = {\n          popupTitle: options.popupTitle\n        };\n        var windowEl = oauthUtil.loadPopup(requestUrl, windowOptions);\n\n        // Poll until we get a valid hash fragment\n        if (oauthParams.responseMode === 'fragment') {\n          var windowOrigin = getOrigin(sdk.idToken.authorize._getLocationHref());\n          var redirectUriOrigin = getOrigin(oauthParams.redirectUri);\n          if (windowOrigin !== redirectUriOrigin) {\n            return Q.reject(new AuthSdkError('Using fragment, the redirectUri origin (' + redirectUriOrigin +\n              ') must match the origin of this page (' + windowOrigin + ')'));\n          }\n          popupPromise = addFragmentListener(sdk, windowEl, options.timeout);\n        }\n\n        // Both postMessage and fragment require a poll to see if the popup closed\n        var popupDeferred = Q.defer();\n        /* eslint-disable-next-line no-case-declarations, no-inner-declarations */\n        function hasClosed(win) {\n          if (!win || win.closed) {\n            popupDeferred.reject(new AuthSdkError('Unable to parse OAuth flow response'));\n            return true;\n          }\n        }\n        var closePoller = setInterval(function() {\n          if (hasClosed(windowEl)) {\n            clearInterval(closePoller);\n          }\n        }, 500);\n\n        // Proxy the promise results into the deferred\n        popupPromise\n        .then(function(res) {\n          popupDeferred.resolve(res);\n        })\n        .fail(function(err) {\n          popupDeferred.reject(err);\n        });\n\n        return popupDeferred.promise\n          .then(function(res) {\n            return handleOAuthResponse(sdk, oauthParams, res, urls);\n          })\n          .fin(function() {\n            clearInterval(closePoller);\n            if (windowEl && !windowEl.closed) {\n              windowEl.close();\n            }\n          });\n\n      default:\n        return Q.reject(new AuthSdkError('The full page redirect flow is not supported'));\n    }\n  });\n}\n\nfunction getWithoutPrompt(sdk, oauthOptions, options) {\n  var oauthParams = util.clone(oauthOptions) || {};\n  util.extend(oauthParams, {\n    prompt: 'none',\n    responseMode: 'okta_post_message',\n    display: null\n  });\n  return getToken(sdk, oauthParams, options);\n}\n\nfunction getWithPopup(sdk, oauthOptions, options) {\n  var oauthParams = util.clone(oauthOptions) || {};\n  util.extend(oauthParams, {\n    display: 'popup',\n    responseMode: 'okta_post_message'\n  });\n  return getToken(sdk, oauthParams, options);\n}\n\nfunction prepareOauthParams(sdk, oauthOptions) {\n  // clone and prepare options\n  oauthOptions = util.clone(oauthOptions) || {};\n\n  // OKTA-242989: support for grantType will be removed in 3.0 \n  if (oauthOptions.grantType === 'authorization_code') {\n    oauthOptions.pkce = true;\n  }\n\n  // build params using defaults + options\n  var oauthParams = getDefaultOAuthParams(sdk);\n  util.extend(oauthParams, oauthOptions);\n\n  if (oauthParams.pkce !== true) {\n    return Q.resolve(oauthParams);\n  }\n\n  // PKCE flow\n  if (!sdk.features.isPKCESupported()) {\n    return Q.reject(new AuthSdkError('This browser doesn\\'t support PKCE'));\n  }\n\n  // set default code challenge method, if none provided\n  if (!oauthParams.codeChallengeMethod) {\n    oauthParams.codeChallengeMethod = PKCE.DEFAULT_CODE_CHALLENGE_METHOD;\n  }\n\n  // responseType is forced\n  oauthParams.responseType = 'code';\n\n  return oauthUtil.getWellKnown(sdk, null)\n    .then(function(res) {\n      var methods = res['code_challenge_methods_supported'] || [];\n      if (methods.indexOf(oauthParams.codeChallengeMethod) === -1) {\n        throw new AuthSdkError('Invalid code_challenge_method');\n      }\n    })\n    .then(function() {\n      // PKCE authorization_code flow\n      var codeVerifier = PKCE.generateVerifier(oauthParams.codeVerifier);\n\n      // We will need these values after redirect when we call /token\n      var meta = {\n        codeVerifier: codeVerifier,\n        redirectUri: oauthParams.redirectUri\n      };\n      PKCE.saveMeta(sdk, meta);\n\n      return PKCE.computeChallenge(codeVerifier);\n    })\n    .then(function(codeChallenge) {\n\n      // Clone/copy the params. Set codeChallenge\n      var clonedParams = util.clone(oauthParams) || {};\n      util.extend(clonedParams, oauthParams, {\n        codeChallenge: codeChallenge,\n      });\n      return clonedParams;\n    });\n}\n\nfunction getWithRedirect(sdk, oauthOptions, options) {\n  oauthOptions = util.clone(oauthOptions) || {};\n\n  return prepareOauthParams(sdk, oauthOptions)\n    .then(function(oauthParams) {\n\n      // Dynamically set the responseMode unless the user has provided one\n      // Server-side flow requires query. Client-side apps usually prefer fragment.\n      if (!oauthOptions.responseMode) {\n        if (oauthParams.responseType.includes('code') && !oauthParams.pkce) {\n          // server-side flows using authorization_code\n          oauthParams.responseMode = 'query';\n        } else {\n          // general case, client-side flow.\n          oauthParams.responseMode = 'fragment';\n        }\n      }\n\n      var urls = oauthUtil.getOAuthUrls(sdk, oauthParams, options);\n      var requestUrl = urls.authorizeUrl + buildAuthorizeParams(oauthParams);\n\n      // Set session cookie to store the oauthParams\n      cookies.set(constants.REDIRECT_OAUTH_PARAMS_COOKIE_NAME, JSON.stringify({\n        responseType: oauthParams.responseType,\n        state: oauthParams.state,\n        nonce: oauthParams.nonce,\n        scopes: oauthParams.scopes,\n        clientId: oauthParams.clientId,\n        urls: urls,\n        ignoreSignature: oauthParams.ignoreSignature\n      }));\n\n      // Set nonce cookie for servers to validate nonce in id_token\n      cookies.set(constants.REDIRECT_NONCE_COOKIE_NAME, oauthParams.nonce);\n\n      // Set state cookie for servers to validate state\n      cookies.set(constants.REDIRECT_STATE_COOKIE_NAME, oauthParams.state);\n\n      sdk.token.getWithRedirect._setLocation(requestUrl);\n    });\n}\n\nfunction renewToken(sdk, token) {\n  if (!oauthUtil.isToken(token)) {\n    return Q.reject(new AuthSdkError('Renew must be passed a token with ' +\n      'an array of scopes and an accessToken or idToken'));\n  }\n\n  var responseType;\n  if (sdk.options.pkce) {\n    responseType = 'code';\n  } else if (token.accessToken) {\n    responseType = 'token';\n  } else {\n    responseType = 'id_token';\n  }\n\n  return sdk.token.getWithoutPrompt({\n    responseType: responseType,\n    scopes: token.scopes\n  }, {\n    authorizeUrl: token.authorizeUrl,\n    userinfoUrl: token.userinfoUrl,\n    issuer: token.issuer\n  });\n}\n\nfunction removeHash(sdk) {\n  var nativeHistory = sdk.token.parseFromUrl._getHistory();\n  var nativeDoc = sdk.token.parseFromUrl._getDocument();\n  var nativeLoc = sdk.token.parseFromUrl._getLocation();\n  if (nativeHistory && nativeHistory.replaceState) {\n    nativeHistory.replaceState(null, nativeDoc.title, nativeLoc.pathname + nativeLoc.search);\n  } else {\n    nativeLoc.hash = '';\n  }\n}\n\nfunction parseFromUrl(sdk, url) {\n  var nativeLoc = sdk.token.parseFromUrl._getLocation();\n  var hash = nativeLoc.hash;\n  if (url) {\n    hash = url.substring(url.indexOf('#'));\n  }\n\n  if (!hash) {\n    return Q.reject(new AuthSdkError('Unable to parse a token from the url'));\n  }\n\n  var oauthParamsCookie = cookies.get(constants.REDIRECT_OAUTH_PARAMS_COOKIE_NAME);\n  if (!oauthParamsCookie) {\n    return Q.reject(new AuthSdkError('Unable to retrieve OAuth redirect params cookie'));\n  }\n\n  try {\n    var oauthParams = JSON.parse(oauthParamsCookie);\n    var urls = oauthParams.urls;\n    delete oauthParams.urls;\n    cookies.delete(constants.REDIRECT_OAUTH_PARAMS_COOKIE_NAME);\n  } catch(e) {\n    return Q.reject(new AuthSdkError('Unable to parse the ' +\n    constants.REDIRECT_OAUTH_PARAMS_COOKIE_NAME + ' cookie: ' + e.message));\n  }\n\n  return Q.resolve(oauthUtil.hashToObject(hash))\n    .then(function(res) {\n      if (!url) {\n        // Remove the hash from the url\n        removeHash(sdk);\n      }\n      return handleOAuthResponse(sdk, oauthParams, res, urls);\n    });\n}\n\nfunction getUserInfo(sdk, accessTokenObject) {\n  if (!accessTokenObject ||\n      (!oauthUtil.isToken(accessTokenObject) && !accessTokenObject.accessToken && !accessTokenObject.userinfoUrl)) {\n    return Q.reject(new AuthSdkError('getUserInfo requires an access token object'));\n  }\n  return http.httpRequest(sdk, {\n    url: accessTokenObject.userinfoUrl,\n    method: 'GET',\n    accessToken: accessTokenObject.accessToken\n  })\n  .fail(function(err) {\n    if (err.xhr && (err.xhr.status === 401 || err.xhr.status === 403)) {\n      var authenticateHeader;\n      if (err.xhr.headers && util.isFunction(err.xhr.headers.get) && err.xhr.headers.get('WWW-Authenticate')) {\n        authenticateHeader = err.xhr.headers.get('WWW-Authenticate');\n      } else if (util.isFunction(err.xhr.getResponseHeader)) {\n        authenticateHeader = err.xhr.getResponseHeader('WWW-Authenticate');\n      }\n      if (authenticateHeader) {\n        var errorMatches = authenticateHeader.match(/error=\"(.*?)\"/) || [];\n        var errorDescriptionMatches = authenticateHeader.match(/error_description=\"(.*?)\"/) || [];\n        var error = errorMatches[1];\n        var errorDescription = errorDescriptionMatches[1];\n        if (error && errorDescription) {\n          err = new OAuthError(error, errorDescription);\n        }\n      }\n    }\n    throw err;\n  });\n}\n\nmodule.exports = {\n  revokeToken: revokeToken,\n  getToken: getToken,\n  getWithoutPrompt: getWithoutPrompt,\n  getWithPopup: getWithPopup,\n  getWithRedirect: getWithRedirect,\n  parseFromUrl: parseFromUrl,\n  decodeToken: decodeToken,\n  renewToken: renewToken,\n  getUserInfo: getUserInfo,\n  verifyToken: verifyToken,\n  handleOAuthResponse: handleOAuthResponse,\n  prepareOauthParams: prepareOauthParams\n};\n\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nvar util = __webpack_require__(0);\n\nfunction verifyToken(idToken, key) {\n  key = util.clone(key);\n\n  var format = 'jwk';\n  var algo = {\n    name: 'RSASSA-PKCS1-v1_5',\n    hash: { name: 'SHA-256' }\n  };\n  var extractable = true;\n  var usages = ['verify'];\n\n  // https://connect.microsoft.com/IE/feedback/details/2242108/webcryptoapi-importing-jwk-with-use-field-fails\n  // This is a metadata tag that specifies the intent of how the key should be used.\n  // It's not necessary to properly verify the jwt's signature.\n  delete key.use;\n\n  return crypto.subtle.importKey(\n    format,\n    key,\n    algo,\n    extractable,\n    usages\n  )\n  .then(function(cryptoKey) {\n    var jwt = idToken.split('.');\n    var payload = util.stringToBuffer(jwt[0] + '.' + jwt[1]);\n    var b64Signature = util.base64UrlDecode(jwt[2]);\n    var signature = util.stringToBuffer(b64Signature);\n\n    return crypto.subtle.verify(\n      algo,\n      cryptoKey,\n      signature,\n      payload\n    );\n  });\n}\n\nmodule.exports = {\n  verifyToken: verifyToken\n};\n\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nfunction OAuthError(errorCode, summary) {\n  this.name = 'OAuthError';\n  this.message = summary;\n\n  this.errorCode = errorCode;\n  this.errorSummary = summary;\n}\nOAuthError.prototype = new Error();\n\nmodule.exports = OAuthError;\n\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2019-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n /* eslint-disable complexity, max-statements */\nvar AuthSdkError  = __webpack_require__(1);\nvar http          = __webpack_require__(3);\nvar util          = __webpack_require__(0);\n\n// Code verifier: Random URL-safe string with a minimum length of 43 characters.\n// Code challenge: Base64 URL-encoded SHA-256 hash of the code verifier.\nvar MIN_VERIFIER_LENGTH = 43;\nvar MAX_VERIFIER_LENGTH = 128;\nvar DEFAULT_CODE_CHALLENGE_METHOD = 'S256';\n\nfunction dec2hex (dec) {\n  return ('0' + dec.toString(16)).substr(-2);\n}\n\nfunction getRandomString(length) {\n  var a = new Uint8Array(Math.ceil(length / 2));\n  crypto.getRandomValues(a);\n  var str = Array.from(a, dec2hex).join('');\n  return str.slice(0, length);\n}\n\nfunction generateVerifier(prefix) {\n  var verifier = prefix || '';\n  if (verifier.length < MIN_VERIFIER_LENGTH) {\n    verifier = verifier + getRandomString(MIN_VERIFIER_LENGTH - verifier.length);\n  }\n  return encodeURIComponent(verifier).slice(0, MAX_VERIFIER_LENGTH);\n}\n\nfunction saveMeta(sdk, meta) {\n  var storage = sdk.options.storageUtil.getPKCEStorage();\n  storage.setStorage(meta);\n}\n\nfunction loadMeta(sdk) {\n  var storage = sdk.options.storageUtil.getPKCEStorage();\n  var obj = storage.getStorage();\n  return obj;\n}\n\nfunction clearMeta(sdk) {\n  var storage = sdk.options.storageUtil.getPKCEStorage();\n  storage.clearStorage();\n}\n\n/* global Uint8Array, TextEncoder */\nfunction computeChallenge(str) {  \n  var buffer = new TextEncoder().encode(str);\n  return crypto.subtle.digest('SHA-256', buffer).then(function(arrayBuffer) {\n    var hash = String.fromCharCode.apply(null, new Uint8Array(arrayBuffer));\n    var b64u = util.stringToBase64Url(hash); // url-safe base64 variant\n    return b64u;\n  });\n}\n\n\nfunction validateOptions(oauthOptions) {\n  // Quick validation\n  if (!oauthOptions.clientId) {\n    throw new AuthSdkError('A clientId must be specified in the OktaAuth constructor to get a token');\n  }\n\n  if (!oauthOptions.redirectUri) {\n    throw new AuthSdkError('The redirectUri passed to /authorize must also be passed to /token');\n  }\n\n  if (!oauthOptions.authorizationCode) {\n    throw new AuthSdkError('An authorization code (returned from /authorize) must be passed to /token');\n  }\n\n  if (!oauthOptions.codeVerifier) {\n    throw new AuthSdkError('The \"codeVerifier\" (generated and saved by your app) must be passed to /token');\n  }\n}\n\nfunction getPostData(options) {\n  // Convert options to OAuth params\n  var params = util.removeNils({\n    'client_id': options.clientId,\n    'redirect_uri': options.redirectUri,\n    'grant_type': 'authorization_code',\n    'code': options.authorizationCode,\n    'code_verifier': options.codeVerifier\n  });\n  // Encode as URL string\n  return util.toQueryParams(params).slice(1);\n}\n\n// exchange authorization code for an access token\nfunction getToken(sdk, oauthOptions, urls) {\n  validateOptions(oauthOptions);\n  var data = getPostData(oauthOptions);\n\n  return http.httpRequest(sdk, {\n    url: urls.tokenUrl,\n    method: 'POST',\n    args: data,\n    withCredentials: false,\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded'\n    }\n  });\n}\n\nmodule.exports = {\n  DEFAULT_CODE_CHALLENGE_METHOD: DEFAULT_CODE_CHALLENGE_METHOD,\n  generateVerifier: generateVerifier,\n  clearMeta: clearMeta,\n  saveMeta: saveMeta,\n  loadMeta: loadMeta,\n  computeChallenge: computeChallenge,\n  getToken: getToken\n};\n\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* eslint complexity:[0,8] max-statements:[0,21] */\nvar util = __webpack_require__(0);\nvar AuthSdkError = __webpack_require__(1);\nvar storageUtil = __webpack_require__(4);\nvar Q = __webpack_require__(5);\nvar constants = __webpack_require__(2);\nvar storageBuilder = __webpack_require__(6);\nvar SdkClock = __webpack_require__(30);\n\nvar DEFAULT_OPTIONS = {\n  autoRenew: true,\n  storage: 'localStorage',\n  expireEarlySeconds: 30\n};\n\nfunction getExpireTime(tokenMgmtRef, token) {\n  var expireTime = token.expiresAt - tokenMgmtRef.options.expireEarlySeconds;\n  return expireTime;\n}\n\nfunction hasExpired(tokenMgmtRef, token) {\n  var expireTime = getExpireTime(tokenMgmtRef, token);\n  return expireTime <= tokenMgmtRef.clock.now();\n}\n\nfunction emitExpired(tokenMgmtRef, key, token) {\n  tokenMgmtRef.emitter.emit('expired', key, token);\n}\n\nfunction emitError(tokenMgmtRef, error) {\n  tokenMgmtRef.emitter.emit('error', error);\n}\n\nfunction clearExpireEventTimeout(tokenMgmtRef, key) {\n  clearTimeout(tokenMgmtRef.expireTimeouts[key]);\n  delete tokenMgmtRef.expireTimeouts[key];\n\n  // Remove the renew promise (if it exists)\n  delete tokenMgmtRef.renewPromise[key];\n}\n\nfunction clearExpireEventTimeoutAll(tokenMgmtRef) {\n  var expireTimeouts = tokenMgmtRef.expireTimeouts;\n  for (var key in expireTimeouts) {\n    if (!expireTimeouts.hasOwnProperty(key)) {\n      continue;\n    }\n    clearExpireEventTimeout(tokenMgmtRef, key);\n  }\n}\n\nfunction setExpireEventTimeout(sdk, tokenMgmtRef, key, token) {\n  var expireTime = getExpireTime(tokenMgmtRef, token);\n  var expireEventWait = Math.max(expireTime - tokenMgmtRef.clock.now(), 0) * 1000;\n\n  // Clear any existing timeout\n  clearExpireEventTimeout(tokenMgmtRef, key);\n\n  var expireEventTimeout = setTimeout(function() {\n    emitExpired(tokenMgmtRef, key, token);\n  }, expireEventWait);\n\n  // Add a new timeout\n  tokenMgmtRef.expireTimeouts[key] = expireEventTimeout;\n}\n\nfunction setExpireEventTimeoutAll(sdk, tokenMgmtRef, storage) {\n  try {\n    var tokenStorage = storage.getStorage();\n  } catch(e) {\n    // Any errors thrown on instantiation will not be caught,\n    // because there are no listeners yet\n    emitError(tokenMgmtRef, e);\n    return;\n  }\n\n  for(var key in tokenStorage) {\n    if (!tokenStorage.hasOwnProperty(key)) {\n      continue;\n    }\n    var token = tokenStorage[key];\n    setExpireEventTimeout(sdk, tokenMgmtRef, key, token);\n  }\n}\n\nfunction add(sdk, tokenMgmtRef, storage, key, token) {\n  var tokenStorage = storage.getStorage();\n  if (!util.isObject(token) ||\n      !token.scopes ||\n      (!token.expiresAt && token.expiresAt !== 0) ||\n      (!token.idToken && !token.accessToken)) {\n    throw new AuthSdkError('Token must be an Object with scopes, expiresAt, and an idToken or accessToken properties');\n  }\n  tokenStorage[key] = token;\n  storage.setStorage(tokenStorage);\n  setExpireEventTimeout(sdk, tokenMgmtRef, key, token);\n}\n\nfunction get(storage, key) {\n  var tokenStorage = storage.getStorage();\n  return tokenStorage[key];\n}\n\nfunction getAsync(sdk, tokenMgmtRef, storage, key) {\n  return Q.Promise(function(resolve) {\n    var token = get(storage, key);\n    if (!token || !hasExpired(tokenMgmtRef, token)) {\n      return resolve(token);\n    }\n\n    var tokenPromise = tokenMgmtRef.options.autoRenew\n      ? renew(sdk, tokenMgmtRef, storage, key)\n      : remove(tokenMgmtRef, storage, key);\n\n    return resolve(tokenPromise);\n  });\n}\n\nfunction remove(tokenMgmtRef, storage, key) {\n  // Clear any listener for this token\n  clearExpireEventTimeout(tokenMgmtRef, key);\n\n  // Remove it from storage\n  var tokenStorage = storage.getStorage();\n  delete tokenStorage[key];\n  storage.setStorage(tokenStorage);\n}\n\nfunction renew(sdk, tokenMgmtRef, storage, key) {\n  // Multiple callers may receive the same promise. They will all resolve or reject from the same request.\n  var existingPromise = tokenMgmtRef.renewPromise[key];\n  if (existingPromise) {\n    return existingPromise;\n  }\n\n  try {\n    var token = get(storage, key);\n    if (!token) {\n      throw new AuthSdkError('The tokenManager has no token for the key: ' + key);\n    }\n  } catch (e) {\n    return Q.reject(e);\n  }\n\n  // Remove existing autoRenew timeout for this key\n  clearExpireEventTimeout(tokenMgmtRef, key);\n\n  // Store the renew promise state, to avoid renewing again\n  tokenMgmtRef.renewPromise[key] = sdk.token.renew(token)\n    .then(function(freshTokens) {\n      var freshToken = freshTokens;\n      // With PKCE flow we will receive multiple tokens. Find the one we are looking for\n      if (freshTokens instanceof Array) {\n        freshToken = freshTokens.find(function(freshToken) {\n          return (freshToken.idToken && token.idToken) || (freshToken.accessToken && token.accessToken);\n        });\n      }\n\n      var oldToken = get(storage, key);\n      if (!oldToken) {\n        // It is possible to enter a state where the tokens have been cleared\n        // after a renewal request was triggered. To ensure we do not store a\n        // renewed token, we verify the promise key doesn't exist and return.\n        return;\n      }\n      add(sdk, tokenMgmtRef, storage, key, freshToken);\n      tokenMgmtRef.emitter.emit('renewed', key, freshToken, oldToken);\n      return freshToken;\n    })\n    .catch(function(err) {\n      if (err.name === 'OAuthError' || err.name === 'AuthSdkError') {\n        remove(tokenMgmtRef, storage, key);\n        err.tokenKey = key;\n        err.accessToken = !!token.accessToken;\n        emitError(tokenMgmtRef, err);\n      }\n      throw err;\n    })\n    .finally(function() {\n      // Remove existing promise key\n      delete tokenMgmtRef.renewPromise[key];\n    });\n\n  return tokenMgmtRef.renewPromise[key];\n}\n\nfunction clear(tokenMgmtRef, storage) {\n  clearExpireEventTimeoutAll(tokenMgmtRef);\n  storage.clearStorage();\n}\n\nfunction TokenManager(sdk, options) {\n  options = util.extend({}, DEFAULT_OPTIONS, util.removeNils(options));\n\n  if (options.storage === 'localStorage' && !storageUtil.browserHasLocalStorage()) {\n    util.warn('This browser doesn\\'t support localStorage. Switching to sessionStorage.');\n    options.storage = 'sessionStorage';\n  }\n\n  if (options.storage === 'sessionStorage' && !storageUtil.browserHasSessionStorage()) {\n    util.warn('This browser doesn\\'t support sessionStorage. Switching to cookie-based storage.');\n    options.storage = 'cookie';\n  }\n\n  var storageProvider;\n  if (typeof options.storage === 'object') {\n    // A custom storage provider must implement getItem(key) and setItem(key, val)\n    storageProvider = options.storage;\n  } else {\n    switch(options.storage) {\n      case 'localStorage':\n        storageProvider = localStorage;\n        break;\n      case 'sessionStorage':\n        storageProvider = sessionStorage;\n        break;\n      case 'cookie':\n        storageProvider = storageUtil.getCookieStorage(options);\n        break;\n      case 'memory':\n        storageProvider = storageUtil.getInMemoryStorage();\n        break;\n      default:\n        throw new AuthSdkError('Unrecognized storage option');\n    }\n  }\n  var storageKey = options.storageKey || constants.TOKEN_STORAGE_NAME;\n  var storage = storageBuilder(storageProvider, storageKey);\n  var clock = SdkClock.create(sdk, options);\n  var tokenMgmtRef = {\n    clock: clock,\n    options: options,\n    emitter: sdk.emitter,\n    expireTimeouts: {},\n    renewPromise: {}\n  };\n\n  this.add = util.bind(add, this, sdk, tokenMgmtRef, storage);\n  this.get = util.bind(getAsync, this, sdk, tokenMgmtRef, storage);\n  this.remove = util.bind(remove, this, tokenMgmtRef, storage);\n  this.clear = util.bind(clear, this, tokenMgmtRef, storage);\n  this.renew = util.bind(renew, this, sdk, tokenMgmtRef, storage);\n  this.on = util.bind(tokenMgmtRef.emitter.on, tokenMgmtRef.emitter);\n  this.off = util.bind(tokenMgmtRef.emitter.off, tokenMgmtRef.emitter);\n\n  setExpireEventTimeoutAll(sdk, tokenMgmtRef, storage);\n}\n\nmodule.exports = TokenManager;\n\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar util = __webpack_require__(0);\n\nfunction SdkClock(localOffset) {\n  // Calculated local clock offset from server time (in milliseconds). Can be positive or negative.\n  this.localOffset = parseInt(localOffset || 0);\n}\n\nutil.extend(SdkClock.prototype, {\n  // Return the current time (in seconds)\n  now: function() {\n    var now = (Date.now() + this.localOffset) / 1000;\n    return now;\n  }\n});\n\n// factory method. Create an instance of a clock from current context.\nSdkClock.create = function(/* sdk, options */) {\n  // TODO: calculate localOffset\n  var localOffset = 0;\n  return new SdkClock(localOffset);\n};\n\nmodule.exports = SdkClock;\n\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// okta-auth-js.min.js","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n/* eslint-env es6 */\nvar util = module.exports;\n\n// converts a string to base64 (url/filename safe variant)\nutil.stringToBase64Url = function(str) {\n  var b64 = btoa(str);\n  return util.base64ToBase64Url(b64);\n};\n\n// converts a standard base64-encoded string to a \"url/filename safe\" variant\nutil.base64ToBase64Url = function(b64) {\n  return b64.replace(/\\+/g, '-').replace(/\\//g, '_').replace(/=+$/, '');\n};\n\n// converts a \"url/filename safe\" base64 string to a \"standard\" base64 string\nutil.base64UrlToBase64 = function(b64u) {\n  return b64u.replace(/-/g, '+').replace(/_/g, '/');\n};\n\nutil.base64UrlToString = function(b64u) {\n  var b64 = util.base64UrlToBase64(b64u);\n  switch (b64.length % 4) {\n    case 0:\n      break;\n    case 2:\n      b64 += '==';\n      break;\n    case 3:\n      b64 += '=';\n      break;\n    default:\n      throw 'Not a valid Base64Url';\n  }\n  var utf8 = atob(b64);\n  try {\n    return decodeURIComponent(escape(utf8));\n  } catch (e) {\n    return utf8;\n  }\n};\n\nutil.stringToBuffer = function(str) {\n  var buffer = new Uint8Array(str.length);\n  for (var i = 0; i < str.length; i++) {\n    buffer[i] = str.charCodeAt(i);\n  }\n  return buffer;\n};\n\nutil.base64UrlDecode = function(str) {\n  return atob(util.base64UrlToBase64(str));\n};\n\nutil.bind = function(fn, ctx) {\n  var additionalArgs = Array.prototype.slice.call(arguments, 2);\n  return function() {\n    var args = Array.prototype.slice.call(arguments);\n    args = additionalArgs.concat(args);\n    return fn.apply(ctx, args);\n  };\n};\n\nutil.isAbsoluteUrl = function(url) {\n  return /^(?:[a-z]+:)?\\/\\//i.test(url);\n};\n\nutil.isString = function(obj) {\n  return Object.prototype.toString.call(obj) === '[object String]';\n};\n\nutil.isObject = function(obj) {\n  return Object.prototype.toString.call(obj) === '[object Object]';\n};\n\nutil.isNumber = function(obj) {\n  return Object.prototype.toString.call(obj) === '[object Number]';\n};\n\nutil.isArray = function(obj) {\n  return Object.prototype.toString.call(obj) === '[object Array]';\n};\n\nutil.isoToUTCString = function(str) {\n  var parts = str.match(/\\d+/g),\n      isoTime = Date.UTC(parts[0], parts[1] - 1, parts[2], parts[3], parts[4], parts[5]),\n      isoDate = new Date(isoTime);\n\n  return isoDate.toUTCString();\n};\n\nutil.toQueryParams = function(obj) {\n  var str = [];\n  if (obj !== null) {\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key) &&\n          obj[key] !== undefined &&\n          obj[key] !== null) {\n        str.push(key + '=' + encodeURIComponent(obj[key]));\n      }\n    }\n  }\n  if (str.length) {\n    return '?' + str.join('&');\n  } else {\n    return '';\n  }\n};\n\nutil.genRandomString = function(length) {\n  var randomCharset = 'abcdefghijklnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\n  var random = '';\n  for (var c = 0, cl = randomCharset.length; c < length; ++c) {\n    random += randomCharset[Math.floor(Math.random() * cl)];\n  }\n  return random;\n};\n\nutil.extend = function() {\n  // First object will be modified!\n  var obj1 = arguments[0];\n  // Properties from other objects will be copied over\n  var objArray = [].slice.call(arguments, 1);\n  objArray.forEach(function(obj) {\n    for (var prop in obj) {\n      // copy over all properties with defined values\n      if (obj.hasOwnProperty(prop) && obj[prop] !== undefined) {\n        obj1[prop] = obj[prop];\n      }\n    }\n  });\n  return obj1; // return the modified object\n};\n\nutil.removeNils = function(obj) {\n  var cleaned = {};\n  for (var prop in obj) {\n    if (obj.hasOwnProperty(prop)) {\n      var value = obj[prop];\n      if (value !== null && value !== undefined) {\n        cleaned[prop] = value;\n      }\n    }\n  }\n  return cleaned;\n};\n\nutil.clone = function(obj) {\n  if (obj) {\n    var str = JSON.stringify(obj);\n    if (str) {\n      return JSON.parse(str);\n    }\n  }\n  return obj;\n};\n\n// Analogous to _.omit\nutil.omit = function(obj) {\n  var props = Array.prototype.slice.call(arguments, 1);\n  var newobj = {};\n  for (var p in obj) {\n    if (obj.hasOwnProperty(p) && props.indexOf(p) == -1) {\n      newobj[p] = obj[p];\n    }\n  }\n  return util.clone(newobj);\n};\n\nutil.find = function(collection, searchParams) {\n  var c = collection.length;\n  while (c--) {\n    var item = collection[c];\n    var found = true;\n    for (var prop in searchParams) {\n      if (!searchParams.hasOwnProperty(prop)) {\n        continue;\n      }\n      if (item[prop] !== searchParams[prop]) {\n        found = false;\n        break;\n      }\n    }\n    if (found) {\n      return item;\n    }\n  }\n};\n\nutil.getLink = function(obj, linkName, altName) {\n  if (!obj || !obj._links) {\n    return;\n  }\n\n  var link = util.clone(obj._links[linkName]);\n\n  // If a link has a name and we have an altName, return if they match\n  if (link && link.name && altName) {\n    if (link.name === altName) {\n      return link;\n    }\n  } else {\n    return link;\n  }\n};\n\nutil.getNativeConsole = function() {\n  if (typeof window !== 'undefined') {\n    return window.console;\n  } else if (typeof console !== 'undefined') {\n    return console;\n  } else {\n    return undefined;\n  }\n};\n\nutil.getConsole = function() {\n  var nativeConsole = util.getNativeConsole();\n  if (nativeConsole && nativeConsole.log) {\n    return nativeConsole;\n  }\n  return {\n    log: function() {}\n  };\n};\n\nutil.warn = function(text) {\n  /* eslint-disable no-console */\n  util.getConsole().log('[okta-auth-sdk] WARN: ' + text);\n  /* eslint-enable */\n};\n\nutil.deprecate = function(text) {\n  /* eslint-disable no-console */\n  util.getConsole().log('[okta-auth-sdk] DEPRECATION: ' + text);\n  /* eslint-enable */\n};\n\nutil.deprecateWrap = function(text, fn) {\n  return function() {\n    util.deprecate(text);\n    return fn.apply(null, arguments);\n  };\n};\n\nutil.removeTrailingSlash = function(path) {\n  if (!path) {\n    return;\n  }\n  // Remove any whitespace before or after string\n  var trimmed = path.replace(/^\\s+|\\s+$/gm,'');\n  // Remove trailing slash(es)\n  trimmed = trimmed.replace(/\\/+$/, '');\n\n  return trimmed;\n};\n\nutil.isIE11OrLess = function() {\n  return !!document.documentMode && document.documentMode <= 11;\n};\n\nutil.isFunction = function(fn) {\n  return !!fn && {}.toString.call(fn) === '[object Function]';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/util.js\n// module id = 0\n// module chunks = 0","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nfunction AuthSdkError(msg, xhr) {\n  this.name = 'AuthSdkError';\n  this.message = msg;\n\n  this.errorCode = 'INTERNAL';\n  this.errorSummary = msg;\n  this.errorLink = 'INTERNAL';\n  this.errorId = 'INTERNAL';\n  this.errorCauses = [];\n  if (xhr) {\n    this.xhr = xhr;\n  }\n}\nAuthSdkError.prototype = new Error();\n\nmodule.exports = AuthSdkError;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/errors/AuthSdkError.js\n// module id = 1\n// module chunks = 0","module.exports = {\n  'STATE_TOKEN_KEY_NAME': 'oktaStateToken',\n  'DEFAULT_POLLING_DELAY': 500,\n  'DEFAULT_MAX_CLOCK_SKEW': 300,\n  'DEFAULT_CACHE_DURATION': 86400,\n  'REDIRECT_OAUTH_PARAMS_COOKIE_NAME': 'okta-oauth-redirect-params',\n  'REDIRECT_STATE_COOKIE_NAME': 'okta-oauth-state',\n  'REDIRECT_NONCE_COOKIE_NAME': 'okta-oauth-nonce',\n  'TOKEN_STORAGE_NAME': 'okta-token-storage',\n  'CACHE_STORAGE_NAME': 'okta-cache-storage',\n  'PKCE_STORAGE_NAME': 'okta-pkce-storage'\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/constants.js\n// module id = 2\n// module chunks = 0","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* eslint-disable complexity */\nvar util = require('./util');\nvar Q = require('q');\nvar AuthApiError = require('./errors/AuthApiError');\nvar constants = require('./constants');\n\nfunction httpRequest(sdk, options) {\n  options = options || {};\n  var url = options.url,\n      method = options.method,\n      args = options.args,\n      saveAuthnState = options.saveAuthnState,\n      accessToken = options.accessToken,\n      withCredentials = options.withCredentials !== false, // default value is true\n      storageUtil = sdk.options.storageUtil,\n      storage = storageUtil.storage,\n      httpCache = storageUtil.getHttpCache();\n\n  if (options.cacheResponse) {\n    var cacheContents = httpCache.getStorage();\n    var cachedResponse = cacheContents[url];\n    if (cachedResponse && Date.now()/1000 < cachedResponse.expiresAt) {\n      return Q.resolve(cachedResponse.response);\n    }\n  }\n\n  var headers = {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json',\n    'X-Okta-User-Agent-Extended': sdk.userAgent\n  };\n  util.extend(headers, sdk.options.headers, options.headers);\n\n  if (accessToken && util.isString(accessToken)) {\n    headers['Authorization'] = 'Bearer ' + accessToken;\n  }\n\n  var ajaxOptions = {\n    headers: headers,\n    data: args || undefined,\n    withCredentials: withCredentials\n  };\n\n  var err, res;\n  return new Q(sdk.options.httpRequestClient(method, url, ajaxOptions))\n    .then(function(resp) {\n      res = resp.responseText;\n      if (res && util.isString(res)) {\n        res = JSON.parse(res);\n      }\n\n      if (saveAuthnState) {\n        if (!res.stateToken) {\n          storage.delete(constants.STATE_TOKEN_KEY_NAME);\n        }\n      }\n\n      if (res && res.stateToken && res.expiresAt) {\n        storage.set(constants.STATE_TOKEN_KEY_NAME, res.stateToken, res.expiresAt);\n      }\n\n      if (res && options.cacheResponse) {\n        httpCache.updateStorage(url, {\n          expiresAt: Math.floor(Date.now()/1000) + constants.DEFAULT_CACHE_DURATION,\n          response: res\n        });\n      }\n\n      return res;\n    })\n    .fail(function(resp) {\n      var serverErr = resp.responseText || {};\n      if (util.isString(serverErr)) {\n        try {\n          serverErr = JSON.parse(serverErr);\n        } catch (e) {\n          serverErr = {\n            errorSummary: 'Unknown error'\n          };\n        }\n      }\n\n      if (resp.status >= 500) {\n        serverErr.errorSummary = 'Unknown error';\n      }\n\n      if (sdk.options.transformErrorXHR) {\n        resp = sdk.options.transformErrorXHR(util.clone(resp));\n      }\n\n      err = new AuthApiError(serverErr, resp);\n\n      if (err.errorCode === 'E0000011') {\n        storage.delete(constants.STATE_TOKEN_KEY_NAME);\n      }\n\n      throw err;\n    });\n}\n\nfunction get(sdk, url, options) {\n  url = util.isAbsoluteUrl(url) ? url : sdk.options.url + url;\n  var getOptions = {\n    url: url,\n    method: 'GET'\n  };\n  util.extend(getOptions, options);\n  return httpRequest(sdk, getOptions);\n}\n\nfunction post(sdk, url, args, options) {\n  url = util.isAbsoluteUrl(url) ? url : sdk.options.url + url;\n  var postOptions = {\n    url: url,\n    method: 'POST',\n    args: args,\n    saveAuthnState: true\n  };\n  util.extend(postOptions, options);\n  return httpRequest(sdk, postOptions);\n}\n\nmodule.exports = {\n  get: get,\n  post: post,\n  httpRequest: httpRequest\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/http.js\n// module id = 3\n// module chunks = 0","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\nvar Cookies = require('js-cookie');\nvar storageBuilder = require('../storageBuilder');\nvar constants = require('../constants');\n\n// Building this as an object allows us to mock the functions in our tests\nvar storageUtil = {};\n\n// IE11 bug that Microsoft doesn't plan to fix\n// https://connect.microsoft.com/IE/Feedback/Details/1496040\nstorageUtil.browserHasLocalStorage = function() {\n  try {\n    var storage = storageUtil.getLocalStorage();\n    return storageUtil.testStorage(storage);\n  } catch (e) {\n    return false;\n  }\n};\n\nstorageUtil.browserHasSessionStorage = function() {\n  try {\n    var storage = storageUtil.getSessionStorage();\n    return storageUtil.testStorage(storage);\n  } catch (e) {\n    return false;\n  }\n};\n\nstorageUtil.getPKCEStorage = function() {\n  if (storageUtil.browserHasLocalStorage()) {\n    return storageBuilder(storageUtil.getLocalStorage(), constants.PKCE_STORAGE_NAME);\n  } else if (storageUtil.browserHasSessionStorage()) {\n    return storageBuilder(storageUtil.getSessionStorage(), constants.PKCE_STORAGE_NAME);\n  } else {\n    return storageBuilder(storageUtil.getCookieStorage(), constants.PKCE_STORAGE_NAME);\n  }\n};\n\nstorageUtil.getHttpCache = function() {\n  if (storageUtil.browserHasLocalStorage()) {\n    return storageBuilder(storageUtil.getLocalStorage(), constants.CACHE_STORAGE_NAME);\n  } else if (storageUtil.browserHasSessionStorage()) {\n    return storageBuilder(storageUtil.getSessionStorage(), constants.CACHE_STORAGE_NAME);\n  } else {\n    return storageBuilder(storageUtil.getCookieStorage(), constants.CACHE_STORAGE_NAME);\n  }\n};\n\nstorageUtil.getLocalStorage = function() {\n  return localStorage;\n};\n\nstorageUtil.getSessionStorage = function() {\n  return sessionStorage;\n};\n\n// Provides webStorage-like interface for cookies\nstorageUtil.getCookieStorage = function(options) {\n  options = options || {};\n  return {\n    getItem: storageUtil.storage.get,\n    setItem: function(key, value) {\n      // Cookie shouldn't expire\n      storageUtil.storage.set(key, value, '2200-01-01T00:00:00.000Z', options.secure);\n    }\n  };\n};\n\n// Provides an in-memory solution\nstorageUtil.getInMemoryStorage = function() {\n  var store = {};\n  return {\n    getItem: function(key) {\n      return store[key];\n    },\n    setItem: function(key, value) {\n      store[key] = value;\n    }\n  };\n};\n\nstorageUtil.testStorage = function(storage) {\n  var key = 'okta-test-storage';\n  try {\n    storage.setItem(key, key);\n    storage.removeItem(key);\n    return true;\n  } catch (e) {\n    return false;\n  }\n};\n\nstorageUtil.storage = {\n  set: function(name, value, expiresAt, secure) {\n    var cookieOptions = {\n      path: '/',\n      secure: secure\n    };\n\n    // eslint-disable-next-line no-extra-boolean-cast\n    if (!!(Date.parse(expiresAt))) {\n      // Expires value can be converted to a Date object.\n      //\n      // If the 'expiresAt' value is not provided, or the value cannot be\n      // parsed as a Date object, the cookie will set as a session cookie.\n      cookieOptions.expires = new Date(expiresAt);\n    }\n\n    Cookies.set(name, value, cookieOptions);\n    return storageUtil.storage.get(name);\n  },\n\n  get: function(name) {\n    return Cookies.get(name);\n  },\n\n  delete: function(name) {\n    return Cookies.remove(name, { path: '/' });\n  }\n};\n\nmodule.exports = storageUtil;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/browser/browserStorage.js\n// module id = 4\n// module chunks = 0","// vim:ts=4:sts=4:sw=4:\n/*!\n *\n * Copyright 2009-2012 Kris Kowal under the terms of the MIT\n * license found at http://github.com/kriskowal/q/raw/master/LICENSE\n *\n * With parts by Tyler Close\n * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found\n * at http://www.opensource.org/licenses/mit-license.html\n * Forked at ref_send.js version: 2009-05-11\n *\n * With parts by Mark Miller\n * Copyright (C) 2011 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\n(function (definition) {\n    \"use strict\";\n\n    // This file will function properly as a <script> tag, or a module\n    // using CommonJS and NodeJS or RequireJS module formats.  In\n    // Common/Node/RequireJS, the module exports the Q API and when\n    // executed as a simple <script>, it creates a Q global instead.\n\n    // Montage Require\n    if (typeof bootstrap === \"function\") {\n        bootstrap(\"promise\", definition);\n\n    // CommonJS\n    } else if (typeof exports === \"object\" && typeof module === \"object\") {\n        module.exports = definition();\n\n    // RequireJS\n    } else if (typeof define === \"function\" && define.amd) {\n        define(definition);\n\n    // SES (Secure EcmaScript)\n    } else if (typeof ses !== \"undefined\") {\n        if (!ses.ok()) {\n            return;\n        } else {\n            ses.makeQ = definition;\n        }\n\n    // <script>\n    } else if (typeof window !== \"undefined\" || typeof self !== \"undefined\") {\n        // Prefer window over self for add-on scripts. Use self for\n        // non-windowed contexts.\n        var global = typeof window !== \"undefined\" ? window : self;\n\n        // Get the `window` object, save the previous Q global\n        // and initialize Q as a global.\n        var previousQ = global.Q;\n        global.Q = definition();\n\n        // Add a noConflict function so Q can be removed from the\n        // global namespace.\n        global.Q.noConflict = function () {\n            global.Q = previousQ;\n            return this;\n        };\n\n    } else {\n        throw new Error(\"This environment was not anticipated by Q. Please file a bug.\");\n    }\n\n})(function () {\n\"use strict\";\n\nvar hasStacks = false;\ntry {\n    throw new Error();\n} catch (e) {\n    hasStacks = !!e.stack;\n}\n\n// All code after this point will be filtered from stack traces reported\n// by Q.\nvar qStartingLine = captureLine();\nvar qFileName;\n\n// shims\n\n// used for fallback in \"allResolved\"\nvar noop = function () {};\n\n// Use the fastest possible means to execute a task in a future turn\n// of the event loop.\nvar nextTick =(function () {\n    // linked list of tasks (single, with head node)\n    var head = {task: void 0, next: null};\n    var tail = head;\n    var flushing = false;\n    var requestTick = void 0;\n    var isNodeJS = false;\n    // queue for late tasks, used by unhandled rejection tracking\n    var laterQueue = [];\n\n    function flush() {\n        /* jshint loopfunc: true */\n        var task, domain;\n\n        while (head.next) {\n            head = head.next;\n            task = head.task;\n            head.task = void 0;\n            domain = head.domain;\n\n            if (domain) {\n                head.domain = void 0;\n                domain.enter();\n            }\n            runSingle(task, domain);\n\n        }\n        while (laterQueue.length) {\n            task = laterQueue.pop();\n            runSingle(task);\n        }\n        flushing = false;\n    }\n    // runs a single function in the async queue\n    function runSingle(task, domain) {\n        try {\n            task();\n\n        } catch (e) {\n            if (isNodeJS) {\n                // In node, uncaught exceptions are considered fatal errors.\n                // Re-throw them synchronously to interrupt flushing!\n\n                // Ensure continuation if the uncaught exception is suppressed\n                // listening \"uncaughtException\" events (as domains does).\n                // Continue in next event to avoid tick recursion.\n                if (domain) {\n                    domain.exit();\n                }\n                setTimeout(flush, 0);\n                if (domain) {\n                    domain.enter();\n                }\n\n                throw e;\n\n            } else {\n                // In browsers, uncaught exceptions are not fatal.\n                // Re-throw them asynchronously to avoid slow-downs.\n                setTimeout(function () {\n                    throw e;\n                }, 0);\n            }\n        }\n\n        if (domain) {\n            domain.exit();\n        }\n    }\n\n    nextTick = function (task) {\n        tail = tail.next = {\n            task: task,\n            domain: isNodeJS && process.domain,\n            next: null\n        };\n\n        if (!flushing) {\n            flushing = true;\n            requestTick();\n        }\n    };\n\n    if (typeof process === \"object\" &&\n        process.toString() === \"[object process]\" && process.nextTick) {\n        // Ensure Q is in a real Node environment, with a `process.nextTick`.\n        // To see through fake Node environments:\n        // * Mocha test runner - exposes a `process` global without a `nextTick`\n        // * Browserify - exposes a `process.nexTick` function that uses\n        //   `setTimeout`. In this case `setImmediate` is preferred because\n        //    it is faster. Browserify's `process.toString()` yields\n        //   \"[object Object]\", while in a real Node environment\n        //   `process.nextTick()` yields \"[object process]\".\n        isNodeJS = true;\n\n        requestTick = function () {\n            process.nextTick(flush);\n        };\n\n    } else if (typeof setImmediate === \"function\") {\n        // In IE10, Node.js 0.9+, or https://github.com/NobleJS/setImmediate\n        if (typeof window !== \"undefined\") {\n            requestTick = setImmediate.bind(window, flush);\n        } else {\n            requestTick = function () {\n                setImmediate(flush);\n            };\n        }\n\n    } else if (typeof MessageChannel !== \"undefined\") {\n        // modern browsers\n        // http://www.nonblocking.io/2011/06/windownexttick.html\n        var channel = new MessageChannel();\n        // At least Safari Version 6.0.5 (8536.30.1) intermittently cannot create\n        // working message ports the first time a page loads.\n        channel.port1.onmessage = function () {\n            requestTick = requestPortTick;\n            channel.port1.onmessage = flush;\n            flush();\n        };\n        var requestPortTick = function () {\n            // Opera requires us to provide a message payload, regardless of\n            // whether we use it.\n            channel.port2.postMessage(0);\n        };\n        requestTick = function () {\n            setTimeout(flush, 0);\n            requestPortTick();\n        };\n\n    } else {\n        // old browsers\n        requestTick = function () {\n            setTimeout(flush, 0);\n        };\n    }\n    // runs a task after all other tasks have been run\n    // this is useful for unhandled rejection tracking that needs to happen\n    // after all `then`d tasks have been run.\n    nextTick.runAfter = function (task) {\n        laterQueue.push(task);\n        if (!flushing) {\n            flushing = true;\n            requestTick();\n        }\n    };\n    return nextTick;\n})();\n\n// Attempt to make generics safe in the face of downstream\n// modifications.\n// There is no situation where this is necessary.\n// If you need a security guarantee, these primordials need to be\n// deeply frozen anyway, and if you dont need a security guarantee,\n// this is just plain paranoid.\n// However, this **might** have the nice side-effect of reducing the size of\n// the minified code by reducing x.call() to merely x()\n// See Mark Millers explanation of what this does.\n// http://wiki.ecmascript.org/doku.php?id=conventions:safe_meta_programming\nvar call = Function.call;\nfunction uncurryThis(f) {\n    return function () {\n        return call.apply(f, arguments);\n    };\n}\n// This is equivalent, but slower:\n// uncurryThis = Function_bind.bind(Function_bind.call);\n// http://jsperf.com/uncurrythis\n\nvar array_slice = uncurryThis(Array.prototype.slice);\n\nvar array_reduce = uncurryThis(\n    Array.prototype.reduce || function (callback, basis) {\n        var index = 0,\n            length = this.length;\n        // concerning the initial value, if one is not provided\n        if (arguments.length === 1) {\n            // seek to the first value in the array, accounting\n            // for the possibility that is is a sparse array\n            do {\n                if (index in this) {\n                    basis = this[index++];\n                    break;\n                }\n                if (++index >= length) {\n                    throw new TypeError();\n                }\n            } while (1);\n        }\n        // reduce\n        for (; index < length; index++) {\n            // account for the possibility that the array is sparse\n            if (index in this) {\n                basis = callback(basis, this[index], index);\n            }\n        }\n        return basis;\n    }\n);\n\nvar array_indexOf = uncurryThis(\n    Array.prototype.indexOf || function (value) {\n        // not a very good shim, but good enough for our one use of it\n        for (var i = 0; i < this.length; i++) {\n            if (this[i] === value) {\n                return i;\n            }\n        }\n        return -1;\n    }\n);\n\nvar array_map = uncurryThis(\n    Array.prototype.map || function (callback, thisp) {\n        var self = this;\n        var collect = [];\n        array_reduce(self, function (undefined, value, index) {\n            collect.push(callback.call(thisp, value, index, self));\n        }, void 0);\n        return collect;\n    }\n);\n\nvar object_create = Object.create || function (prototype) {\n    function Type() { }\n    Type.prototype = prototype;\n    return new Type();\n};\n\nvar object_hasOwnProperty = uncurryThis(Object.prototype.hasOwnProperty);\n\nvar object_keys = Object.keys || function (object) {\n    var keys = [];\n    for (var key in object) {\n        if (object_hasOwnProperty(object, key)) {\n            keys.push(key);\n        }\n    }\n    return keys;\n};\n\nvar object_toString = uncurryThis(Object.prototype.toString);\n\nfunction isObject(value) {\n    return value === Object(value);\n}\n\n// generator related shims\n\n// FIXME: Remove this function once ES6 generators are in SpiderMonkey.\nfunction isStopIteration(exception) {\n    return (\n        object_toString(exception) === \"[object StopIteration]\" ||\n        exception instanceof QReturnValue\n    );\n}\n\n// FIXME: Remove this helper and Q.return once ES6 generators are in\n// SpiderMonkey.\nvar QReturnValue;\nif (typeof ReturnValue !== \"undefined\") {\n    QReturnValue = ReturnValue;\n} else {\n    QReturnValue = function (value) {\n        this.value = value;\n    };\n}\n\n// long stack traces\n\nvar STACK_JUMP_SEPARATOR = \"From previous event:\";\n\nfunction makeStackTraceLong(error, promise) {\n    // If possible, transform the error stack trace by removing Node and Q\n    // cruft, then concatenating with the stack trace of `promise`. See #57.\n    if (hasStacks &&\n        promise.stack &&\n        typeof error === \"object\" &&\n        error !== null &&\n        error.stack &&\n        error.stack.indexOf(STACK_JUMP_SEPARATOR) === -1\n    ) {\n        var stacks = [];\n        for (var p = promise; !!p; p = p.source) {\n            if (p.stack) {\n                stacks.unshift(p.stack);\n            }\n        }\n        stacks.unshift(error.stack);\n\n        var concatedStacks = stacks.join(\"\\n\" + STACK_JUMP_SEPARATOR + \"\\n\");\n        error.stack = filterStackString(concatedStacks);\n    }\n}\n\nfunction filterStackString(stackString) {\n    var lines = stackString.split(\"\\n\");\n    var desiredLines = [];\n    for (var i = 0; i < lines.length; ++i) {\n        var line = lines[i];\n\n        if (!isInternalFrame(line) && !isNodeFrame(line) && line) {\n            desiredLines.push(line);\n        }\n    }\n    return desiredLines.join(\"\\n\");\n}\n\nfunction isNodeFrame(stackLine) {\n    return stackLine.indexOf(\"(module.js:\") !== -1 ||\n           stackLine.indexOf(\"(node.js:\") !== -1;\n}\n\nfunction getFileNameAndLineNumber(stackLine) {\n    // Named functions: \"at functionName (filename:lineNumber:columnNumber)\"\n    // In IE10 function name can have spaces (\"Anonymous function\") O_o\n    var attempt1 = /at .+ \\((.+):(\\d+):(?:\\d+)\\)$/.exec(stackLine);\n    if (attempt1) {\n        return [attempt1[1], Number(attempt1[2])];\n    }\n\n    // Anonymous functions: \"at filename:lineNumber:columnNumber\"\n    var attempt2 = /at ([^ ]+):(\\d+):(?:\\d+)$/.exec(stackLine);\n    if (attempt2) {\n        return [attempt2[1], Number(attempt2[2])];\n    }\n\n    // Firefox style: \"function@filename:lineNumber or @filename:lineNumber\"\n    var attempt3 = /.*@(.+):(\\d+)$/.exec(stackLine);\n    if (attempt3) {\n        return [attempt3[1], Number(attempt3[2])];\n    }\n}\n\nfunction isInternalFrame(stackLine) {\n    var fileNameAndLineNumber = getFileNameAndLineNumber(stackLine);\n\n    if (!fileNameAndLineNumber) {\n        return false;\n    }\n\n    var fileName = fileNameAndLineNumber[0];\n    var lineNumber = fileNameAndLineNumber[1];\n\n    return fileName === qFileName &&\n        lineNumber >= qStartingLine &&\n        lineNumber <= qEndingLine;\n}\n\n// discover own file name and line number range for filtering stack\n// traces\nfunction captureLine() {\n    if (!hasStacks) {\n        return;\n    }\n\n    try {\n        throw new Error();\n    } catch (e) {\n        var lines = e.stack.split(\"\\n\");\n        var firstLine = lines[0].indexOf(\"@\") > 0 ? lines[1] : lines[2];\n        var fileNameAndLineNumber = getFileNameAndLineNumber(firstLine);\n        if (!fileNameAndLineNumber) {\n            return;\n        }\n\n        qFileName = fileNameAndLineNumber[0];\n        return fileNameAndLineNumber[1];\n    }\n}\n\nfunction deprecate(callback, name, alternative) {\n    return function () {\n        if (typeof console !== \"undefined\" &&\n            typeof console.warn === \"function\") {\n            console.warn(name + \" is deprecated, use \" + alternative +\n                         \" instead.\", new Error(\"\").stack);\n        }\n        return callback.apply(callback, arguments);\n    };\n}\n\n// end of shims\n// beginning of real work\n\n/**\n * Constructs a promise for an immediate reference, passes promises through, or\n * coerces promises from different systems.\n * @param value immediate reference or promise\n */\nfunction Q(value) {\n    // If the object is already a Promise, return it directly.  This enables\n    // the resolve function to both be used to created references from objects,\n    // but to tolerably coerce non-promises to promises.\n    if (value instanceof Promise) {\n        return value;\n    }\n\n    // assimilate thenables\n    if (isPromiseAlike(value)) {\n        return coerce(value);\n    } else {\n        return fulfill(value);\n    }\n}\nQ.resolve = Q;\n\n/**\n * Performs a task in a future turn of the event loop.\n * @param {Function} task\n */\nQ.nextTick = nextTick;\n\n/**\n * Controls whether or not long stack traces will be on\n */\nQ.longStackSupport = false;\n\n// enable long stacks if Q_DEBUG is set\nif (typeof process === \"object\" && process && process.env && process.env.Q_DEBUG) {\n    Q.longStackSupport = true;\n}\n\n/**\n * Constructs a {promise, resolve, reject} object.\n *\n * `resolve` is a callback to invoke with a more resolved value for the\n * promise. To fulfill the promise, invoke `resolve` with any value that is\n * not a thenable. To reject the promise, invoke `resolve` with a rejected\n * thenable, or invoke `reject` with the reason directly. To resolve the\n * promise to another thenable, thus putting it in the same state, invoke\n * `resolve` with that other thenable.\n */\nQ.defer = defer;\nfunction defer() {\n    // if \"messages\" is an \"Array\", that indicates that the promise has not yet\n    // been resolved.  If it is \"undefined\", it has been resolved.  Each\n    // element of the messages array is itself an array of complete arguments to\n    // forward to the resolved promise.  We coerce the resolution value to a\n    // promise using the `resolve` function because it handles both fully\n    // non-thenable values and other thenables gracefully.\n    var messages = [], progressListeners = [], resolvedPromise;\n\n    var deferred = object_create(defer.prototype);\n    var promise = object_create(Promise.prototype);\n\n    promise.promiseDispatch = function (resolve, op, operands) {\n        var args = array_slice(arguments);\n        if (messages) {\n            messages.push(args);\n            if (op === \"when\" && operands[1]) { // progress operand\n                progressListeners.push(operands[1]);\n            }\n        } else {\n            Q.nextTick(function () {\n                resolvedPromise.promiseDispatch.apply(resolvedPromise, args);\n            });\n        }\n    };\n\n    // XXX deprecated\n    promise.valueOf = function () {\n        if (messages) {\n            return promise;\n        }\n        var nearerValue = nearer(resolvedPromise);\n        if (isPromise(nearerValue)) {\n            resolvedPromise = nearerValue; // shorten chain\n        }\n        return nearerValue;\n    };\n\n    promise.inspect = function () {\n        if (!resolvedPromise) {\n            return { state: \"pending\" };\n        }\n        return resolvedPromise.inspect();\n    };\n\n    if (Q.longStackSupport && hasStacks) {\n        try {\n            throw new Error();\n        } catch (e) {\n            // NOTE: don't try to use `Error.captureStackTrace` or transfer the\n            // accessor around; that causes memory leaks as per GH-111. Just\n            // reify the stack trace as a string ASAP.\n            //\n            // At the same time, cut off the first line; it's always just\n            // \"[object Promise]\\n\", as per the `toString`.\n            promise.stack = e.stack.substring(e.stack.indexOf(\"\\n\") + 1);\n        }\n    }\n\n    // NOTE: we do the checks for `resolvedPromise` in each method, instead of\n    // consolidating them into `become`, since otherwise we'd create new\n    // promises with the lines `become(whatever(value))`. See e.g. GH-252.\n\n    function become(newPromise) {\n        resolvedPromise = newPromise;\n        promise.source = newPromise;\n\n        array_reduce(messages, function (undefined, message) {\n            Q.nextTick(function () {\n                newPromise.promiseDispatch.apply(newPromise, message);\n            });\n        }, void 0);\n\n        messages = void 0;\n        progressListeners = void 0;\n    }\n\n    deferred.promise = promise;\n    deferred.resolve = function (value) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(Q(value));\n    };\n\n    deferred.fulfill = function (value) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(fulfill(value));\n    };\n    deferred.reject = function (reason) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(reject(reason));\n    };\n    deferred.notify = function (progress) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        array_reduce(progressListeners, function (undefined, progressListener) {\n            Q.nextTick(function () {\n                progressListener(progress);\n            });\n        }, void 0);\n    };\n\n    return deferred;\n}\n\n/**\n * Creates a Node-style callback that will resolve or reject the deferred\n * promise.\n * @returns a nodeback\n */\ndefer.prototype.makeNodeResolver = function () {\n    var self = this;\n    return function (error, value) {\n        if (error) {\n            self.reject(error);\n        } else if (arguments.length > 2) {\n            self.resolve(array_slice(arguments, 1));\n        } else {\n            self.resolve(value);\n        }\n    };\n};\n\n/**\n * @param resolver {Function} a function that returns nothing and accepts\n * the resolve, reject, and notify functions for a deferred.\n * @returns a promise that may be resolved with the given resolve and reject\n * functions, or rejected by a thrown exception in resolver\n */\nQ.Promise = promise; // ES6\nQ.promise = promise;\nfunction promise(resolver) {\n    if (typeof resolver !== \"function\") {\n        throw new TypeError(\"resolver must be a function.\");\n    }\n    var deferred = defer();\n    try {\n        resolver(deferred.resolve, deferred.reject, deferred.notify);\n    } catch (reason) {\n        deferred.reject(reason);\n    }\n    return deferred.promise;\n}\n\npromise.race = race; // ES6\npromise.all = all; // ES6\npromise.reject = reject; // ES6\npromise.resolve = Q; // ES6\n\n// XXX experimental.  This method is a way to denote that a local value is\n// serializable and should be immediately dispatched to a remote upon request,\n// instead of passing a reference.\nQ.passByCopy = function (object) {\n    //freeze(object);\n    //passByCopies.set(object, true);\n    return object;\n};\n\nPromise.prototype.passByCopy = function () {\n    //freeze(object);\n    //passByCopies.set(object, true);\n    return this;\n};\n\n/**\n * If two promises eventually fulfill to the same value, promises that value,\n * but otherwise rejects.\n * @param x {Any*}\n * @param y {Any*}\n * @returns {Any*} a promise for x and y if they are the same, but a rejection\n * otherwise.\n *\n */\nQ.join = function (x, y) {\n    return Q(x).join(y);\n};\n\nPromise.prototype.join = function (that) {\n    return Q([this, that]).spread(function (x, y) {\n        if (x === y) {\n            // TODO: \"===\" should be Object.is or equiv\n            return x;\n        } else {\n            throw new Error(\"Can't join: not the same: \" + x + \" \" + y);\n        }\n    });\n};\n\n/**\n * Returns a promise for the first of an array of promises to become settled.\n * @param answers {Array[Any*]} promises to race\n * @returns {Any*} the first promise to be settled\n */\nQ.race = race;\nfunction race(answerPs) {\n    return promise(function (resolve, reject) {\n        // Switch to this once we can assume at least ES5\n        // answerPs.forEach(function (answerP) {\n        //     Q(answerP).then(resolve, reject);\n        // });\n        // Use this in the meantime\n        for (var i = 0, len = answerPs.length; i < len; i++) {\n            Q(answerPs[i]).then(resolve, reject);\n        }\n    });\n}\n\nPromise.prototype.race = function () {\n    return this.then(Q.race);\n};\n\n/**\n * Constructs a Promise with a promise descriptor object and optional fallback\n * function.  The descriptor contains methods like when(rejected), get(name),\n * set(name, value), post(name, args), and delete(name), which all\n * return either a value, a promise for a value, or a rejection.  The fallback\n * accepts the operation name, a resolver, and any further arguments that would\n * have been forwarded to the appropriate method above had a method been\n * provided with the proper name.  The API makes no guarantees about the nature\n * of the returned object, apart from that it is usable whereever promises are\n * bought and sold.\n */\nQ.makePromise = Promise;\nfunction Promise(descriptor, fallback, inspect) {\n    if (fallback === void 0) {\n        fallback = function (op) {\n            return reject(new Error(\n                \"Promise does not support operation: \" + op\n            ));\n        };\n    }\n    if (inspect === void 0) {\n        inspect = function () {\n            return {state: \"unknown\"};\n        };\n    }\n\n    var promise = object_create(Promise.prototype);\n\n    promise.promiseDispatch = function (resolve, op, args) {\n        var result;\n        try {\n            if (descriptor[op]) {\n                result = descriptor[op].apply(promise, args);\n            } else {\n                result = fallback.call(promise, op, args);\n            }\n        } catch (exception) {\n            result = reject(exception);\n        }\n        if (resolve) {\n            resolve(result);\n        }\n    };\n\n    promise.inspect = inspect;\n\n    // XXX deprecated `valueOf` and `exception` support\n    if (inspect) {\n        var inspected = inspect();\n        if (inspected.state === \"rejected\") {\n            promise.exception = inspected.reason;\n        }\n\n        promise.valueOf = function () {\n            var inspected = inspect();\n            if (inspected.state === \"pending\" ||\n                inspected.state === \"rejected\") {\n                return promise;\n            }\n            return inspected.value;\n        };\n    }\n\n    return promise;\n}\n\nPromise.prototype.toString = function () {\n    return \"[object Promise]\";\n};\n\nPromise.prototype.then = function (fulfilled, rejected, progressed) {\n    var self = this;\n    var deferred = defer();\n    var done = false;   // ensure the untrusted promise makes at most a\n                        // single call to one of the callbacks\n\n    function _fulfilled(value) {\n        try {\n            return typeof fulfilled === \"function\" ? fulfilled(value) : value;\n        } catch (exception) {\n            return reject(exception);\n        }\n    }\n\n    function _rejected(exception) {\n        if (typeof rejected === \"function\") {\n            makeStackTraceLong(exception, self);\n            try {\n                return rejected(exception);\n            } catch (newException) {\n                return reject(newException);\n            }\n        }\n        return reject(exception);\n    }\n\n    function _progressed(value) {\n        return typeof progressed === \"function\" ? progressed(value) : value;\n    }\n\n    Q.nextTick(function () {\n        self.promiseDispatch(function (value) {\n            if (done) {\n                return;\n            }\n            done = true;\n\n            deferred.resolve(_fulfilled(value));\n        }, \"when\", [function (exception) {\n            if (done) {\n                return;\n            }\n            done = true;\n\n            deferred.resolve(_rejected(exception));\n        }]);\n    });\n\n    // Progress propagator need to be attached in the current tick.\n    self.promiseDispatch(void 0, \"when\", [void 0, function (value) {\n        var newValue;\n        var threw = false;\n        try {\n            newValue = _progressed(value);\n        } catch (e) {\n            threw = true;\n            if (Q.onerror) {\n                Q.onerror(e);\n            } else {\n                throw e;\n            }\n        }\n\n        if (!threw) {\n            deferred.notify(newValue);\n        }\n    }]);\n\n    return deferred.promise;\n};\n\nQ.tap = function (promise, callback) {\n    return Q(promise).tap(callback);\n};\n\n/**\n * Works almost like \"finally\", but not called for rejections.\n * Original resolution value is passed through callback unaffected.\n * Callback may return a promise that will be awaited for.\n * @param {Function} callback\n * @returns {Q.Promise}\n * @example\n * doSomething()\n *   .then(...)\n *   .tap(console.log)\n *   .then(...);\n */\nPromise.prototype.tap = function (callback) {\n    callback = Q(callback);\n\n    return this.then(function (value) {\n        return callback.fcall(value).thenResolve(value);\n    });\n};\n\n/**\n * Registers an observer on a promise.\n *\n * Guarantees:\n *\n * 1. that fulfilled and rejected will be called only once.\n * 2. that either the fulfilled callback or the rejected callback will be\n *    called, but not both.\n * 3. that fulfilled and rejected will not be called in this turn.\n *\n * @param value      promise or immediate reference to observe\n * @param fulfilled  function to be called with the fulfilled value\n * @param rejected   function to be called with the rejection exception\n * @param progressed function to be called on any progress notifications\n * @return promise for the return value from the invoked callback\n */\nQ.when = when;\nfunction when(value, fulfilled, rejected, progressed) {\n    return Q(value).then(fulfilled, rejected, progressed);\n}\n\nPromise.prototype.thenResolve = function (value) {\n    return this.then(function () { return value; });\n};\n\nQ.thenResolve = function (promise, value) {\n    return Q(promise).thenResolve(value);\n};\n\nPromise.prototype.thenReject = function (reason) {\n    return this.then(function () { throw reason; });\n};\n\nQ.thenReject = function (promise, reason) {\n    return Q(promise).thenReject(reason);\n};\n\n/**\n * If an object is not a promise, it is as \"near\" as possible.\n * If a promise is rejected, it is as \"near\" as possible too.\n * If its a fulfilled promise, the fulfillment value is nearer.\n * If its a deferred promise and the deferred has been resolved, the\n * resolution is \"nearer\".\n * @param object\n * @returns most resolved (nearest) form of the object\n */\n\n// XXX should we re-do this?\nQ.nearer = nearer;\nfunction nearer(value) {\n    if (isPromise(value)) {\n        var inspected = value.inspect();\n        if (inspected.state === \"fulfilled\") {\n            return inspected.value;\n        }\n    }\n    return value;\n}\n\n/**\n * @returns whether the given object is a promise.\n * Otherwise it is a fulfilled value.\n */\nQ.isPromise = isPromise;\nfunction isPromise(object) {\n    return object instanceof Promise;\n}\n\nQ.isPromiseAlike = isPromiseAlike;\nfunction isPromiseAlike(object) {\n    return isObject(object) && typeof object.then === \"function\";\n}\n\n/**\n * @returns whether the given object is a pending promise, meaning not\n * fulfilled or rejected.\n */\nQ.isPending = isPending;\nfunction isPending(object) {\n    return isPromise(object) && object.inspect().state === \"pending\";\n}\n\nPromise.prototype.isPending = function () {\n    return this.inspect().state === \"pending\";\n};\n\n/**\n * @returns whether the given object is a value or fulfilled\n * promise.\n */\nQ.isFulfilled = isFulfilled;\nfunction isFulfilled(object) {\n    return !isPromise(object) || object.inspect().state === \"fulfilled\";\n}\n\nPromise.prototype.isFulfilled = function () {\n    return this.inspect().state === \"fulfilled\";\n};\n\n/**\n * @returns whether the given object is a rejected promise.\n */\nQ.isRejected = isRejected;\nfunction isRejected(object) {\n    return isPromise(object) && object.inspect().state === \"rejected\";\n}\n\nPromise.prototype.isRejected = function () {\n    return this.inspect().state === \"rejected\";\n};\n\n//// BEGIN UNHANDLED REJECTION TRACKING\n\n// This promise library consumes exceptions thrown in handlers so they can be\n// handled by a subsequent promise.  The exceptions get added to this array when\n// they are created, and removed when they are handled.  Note that in ES6 or\n// shimmed environments, this would naturally be a `Set`.\nvar unhandledReasons = [];\nvar unhandledRejections = [];\nvar reportedUnhandledRejections = [];\nvar trackUnhandledRejections = true;\n\nfunction resetUnhandledRejections() {\n    unhandledReasons.length = 0;\n    unhandledRejections.length = 0;\n\n    if (!trackUnhandledRejections) {\n        trackUnhandledRejections = true;\n    }\n}\n\nfunction trackRejection(promise, reason) {\n    if (!trackUnhandledRejections) {\n        return;\n    }\n    if (typeof process === \"object\" && typeof process.emit === \"function\") {\n        Q.nextTick.runAfter(function () {\n            if (array_indexOf(unhandledRejections, promise) !== -1) {\n                process.emit(\"unhandledRejection\", reason, promise);\n                reportedUnhandledRejections.push(promise);\n            }\n        });\n    }\n\n    unhandledRejections.push(promise);\n    if (reason && typeof reason.stack !== \"undefined\") {\n        unhandledReasons.push(reason.stack);\n    } else {\n        unhandledReasons.push(\"(no stack) \" + reason);\n    }\n}\n\nfunction untrackRejection(promise) {\n    if (!trackUnhandledRejections) {\n        return;\n    }\n\n    var at = array_indexOf(unhandledRejections, promise);\n    if (at !== -1) {\n        if (typeof process === \"object\" && typeof process.emit === \"function\") {\n            Q.nextTick.runAfter(function () {\n                var atReport = array_indexOf(reportedUnhandledRejections, promise);\n                if (atReport !== -1) {\n                    process.emit(\"rejectionHandled\", unhandledReasons[at], promise);\n                    reportedUnhandledRejections.splice(atReport, 1);\n                }\n            });\n        }\n        unhandledRejections.splice(at, 1);\n        unhandledReasons.splice(at, 1);\n    }\n}\n\nQ.resetUnhandledRejections = resetUnhandledRejections;\n\nQ.getUnhandledReasons = function () {\n    // Make a copy so that consumers can't interfere with our internal state.\n    return unhandledReasons.slice();\n};\n\nQ.stopUnhandledRejectionTracking = function () {\n    resetUnhandledRejections();\n    trackUnhandledRejections = false;\n};\n\nresetUnhandledRejections();\n\n//// END UNHANDLED REJECTION TRACKING\n\n/**\n * Constructs a rejected promise.\n * @param reason value describing the failure\n */\nQ.reject = reject;\nfunction reject(reason) {\n    var rejection = Promise({\n        \"when\": function (rejected) {\n            // note that the error has been handled\n            if (rejected) {\n                untrackRejection(this);\n            }\n            return rejected ? rejected(reason) : this;\n        }\n    }, function fallback() {\n        return this;\n    }, function inspect() {\n        return { state: \"rejected\", reason: reason };\n    });\n\n    // Note that the reason has not been handled.\n    trackRejection(rejection, reason);\n\n    return rejection;\n}\n\n/**\n * Constructs a fulfilled promise for an immediate reference.\n * @param value immediate reference\n */\nQ.fulfill = fulfill;\nfunction fulfill(value) {\n    return Promise({\n        \"when\": function () {\n            return value;\n        },\n        \"get\": function (name) {\n            return value[name];\n        },\n        \"set\": function (name, rhs) {\n            value[name] = rhs;\n        },\n        \"delete\": function (name) {\n            delete value[name];\n        },\n        \"post\": function (name, args) {\n            // Mark Miller proposes that post with no name should apply a\n            // promised function.\n            if (name === null || name === void 0) {\n                return value.apply(void 0, args);\n            } else {\n                return value[name].apply(value, args);\n            }\n        },\n        \"apply\": function (thisp, args) {\n            return value.apply(thisp, args);\n        },\n        \"keys\": function () {\n            return object_keys(value);\n        }\n    }, void 0, function inspect() {\n        return { state: \"fulfilled\", value: value };\n    });\n}\n\n/**\n * Converts thenables to Q promises.\n * @param promise thenable promise\n * @returns a Q promise\n */\nfunction coerce(promise) {\n    var deferred = defer();\n    Q.nextTick(function () {\n        try {\n            promise.then(deferred.resolve, deferred.reject, deferred.notify);\n        } catch (exception) {\n            deferred.reject(exception);\n        }\n    });\n    return deferred.promise;\n}\n\n/**\n * Annotates an object such that it will never be\n * transferred away from this process over any promise\n * communication channel.\n * @param object\n * @returns promise a wrapping of that object that\n * additionally responds to the \"isDef\" message\n * without a rejection.\n */\nQ.master = master;\nfunction master(object) {\n    return Promise({\n        \"isDef\": function () {}\n    }, function fallback(op, args) {\n        return dispatch(object, op, args);\n    }, function () {\n        return Q(object).inspect();\n    });\n}\n\n/**\n * Spreads the values of a promised array of arguments into the\n * fulfillment callback.\n * @param fulfilled callback that receives variadic arguments from the\n * promised array\n * @param rejected callback that receives the exception if the promise\n * is rejected.\n * @returns a promise for the return value or thrown exception of\n * either callback.\n */\nQ.spread = spread;\nfunction spread(value, fulfilled, rejected) {\n    return Q(value).spread(fulfilled, rejected);\n}\n\nPromise.prototype.spread = function (fulfilled, rejected) {\n    return this.all().then(function (array) {\n        return fulfilled.apply(void 0, array);\n    }, rejected);\n};\n\n/**\n * The async function is a decorator for generator functions, turning\n * them into asynchronous generators.  Although generators are only part\n * of the newest ECMAScript 6 drafts, this code does not cause syntax\n * errors in older engines.  This code should continue to work and will\n * in fact improve over time as the language improves.\n *\n * ES6 generators are currently part of V8 version 3.19 with the\n * --harmony-generators runtime flag enabled.  SpiderMonkey has had them\n * for longer, but under an older Python-inspired form.  This function\n * works on both kinds of generators.\n *\n * Decorates a generator function such that:\n *  - it may yield promises\n *  - execution will continue when that promise is fulfilled\n *  - the value of the yield expression will be the fulfilled value\n *  - it returns a promise for the return value (when the generator\n *    stops iterating)\n *  - the decorated function returns a promise for the return value\n *    of the generator or the first rejected promise among those\n *    yielded.\n *  - if an error is thrown in the generator, it propagates through\n *    every following yield until it is caught, or until it escapes\n *    the generator function altogether, and is translated into a\n *    rejection for the promise returned by the decorated generator.\n */\nQ.async = async;\nfunction async(makeGenerator) {\n    return function () {\n        // when verb is \"send\", arg is a value\n        // when verb is \"throw\", arg is an exception\n        function continuer(verb, arg) {\n            var result;\n\n            // Until V8 3.19 / Chromium 29 is released, SpiderMonkey is the only\n            // engine that has a deployed base of browsers that support generators.\n            // However, SM's generators use the Python-inspired semantics of\n            // outdated ES6 drafts.  We would like to support ES6, but we'd also\n            // like to make it possible to use generators in deployed browsers, so\n            // we also support Python-style generators.  At some point we can remove\n            // this block.\n\n            if (typeof StopIteration === \"undefined\") {\n                // ES6 Generators\n                try {\n                    result = generator[verb](arg);\n                } catch (exception) {\n                    return reject(exception);\n                }\n                if (result.done) {\n                    return Q(result.value);\n                } else {\n                    return when(result.value, callback, errback);\n                }\n            } else {\n                // SpiderMonkey Generators\n                // FIXME: Remove this case when SM does ES6 generators.\n                try {\n                    result = generator[verb](arg);\n                } catch (exception) {\n                    if (isStopIteration(exception)) {\n                        return Q(exception.value);\n                    } else {\n                        return reject(exception);\n                    }\n                }\n                return when(result, callback, errback);\n            }\n        }\n        var generator = makeGenerator.apply(this, arguments);\n        var callback = continuer.bind(continuer, \"next\");\n        var errback = continuer.bind(continuer, \"throw\");\n        return callback();\n    };\n}\n\n/**\n * The spawn function is a small wrapper around async that immediately\n * calls the generator and also ends the promise chain, so that any\n * unhandled errors are thrown instead of forwarded to the error\n * handler. This is useful because it's extremely common to run\n * generators at the top-level to work with libraries.\n */\nQ.spawn = spawn;\nfunction spawn(makeGenerator) {\n    Q.done(Q.async(makeGenerator)());\n}\n\n// FIXME: Remove this interface once ES6 generators are in SpiderMonkey.\n/**\n * Throws a ReturnValue exception to stop an asynchronous generator.\n *\n * This interface is a stop-gap measure to support generator return\n * values in older Firefox/SpiderMonkey.  In browsers that support ES6\n * generators like Chromium 29, just use \"return\" in your generator\n * functions.\n *\n * @param value the return value for the surrounding generator\n * @throws ReturnValue exception with the value.\n * @example\n * // ES6 style\n * Q.async(function* () {\n *      var foo = yield getFooPromise();\n *      var bar = yield getBarPromise();\n *      return foo + bar;\n * })\n * // Older SpiderMonkey style\n * Q.async(function () {\n *      var foo = yield getFooPromise();\n *      var bar = yield getBarPromise();\n *      Q.return(foo + bar);\n * })\n */\nQ[\"return\"] = _return;\nfunction _return(value) {\n    throw new QReturnValue(value);\n}\n\n/**\n * The promised function decorator ensures that any promise arguments\n * are settled and passed as values (`this` is also settled and passed\n * as a value).  It will also ensure that the result of a function is\n * always a promise.\n *\n * @example\n * var add = Q.promised(function (a, b) {\n *     return a + b;\n * });\n * add(Q(a), Q(B));\n *\n * @param {function} callback The function to decorate\n * @returns {function} a function that has been decorated.\n */\nQ.promised = promised;\nfunction promised(callback) {\n    return function () {\n        return spread([this, all(arguments)], function (self, args) {\n            return callback.apply(self, args);\n        });\n    };\n}\n\n/**\n * sends a message to a value in a future turn\n * @param object* the recipient\n * @param op the name of the message operation, e.g., \"when\",\n * @param args further arguments to be forwarded to the operation\n * @returns result {Promise} a promise for the result of the operation\n */\nQ.dispatch = dispatch;\nfunction dispatch(object, op, args) {\n    return Q(object).dispatch(op, args);\n}\n\nPromise.prototype.dispatch = function (op, args) {\n    var self = this;\n    var deferred = defer();\n    Q.nextTick(function () {\n        self.promiseDispatch(deferred.resolve, op, args);\n    });\n    return deferred.promise;\n};\n\n/**\n * Gets the value of a property in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of property to get\n * @return promise for the property value\n */\nQ.get = function (object, key) {\n    return Q(object).dispatch(\"get\", [key]);\n};\n\nPromise.prototype.get = function (key) {\n    return this.dispatch(\"get\", [key]);\n};\n\n/**\n * Sets the value of a property in a future turn.\n * @param object    promise or immediate reference for object object\n * @param name      name of property to set\n * @param value     new value of property\n * @return promise for the return value\n */\nQ.set = function (object, key, value) {\n    return Q(object).dispatch(\"set\", [key, value]);\n};\n\nPromise.prototype.set = function (key, value) {\n    return this.dispatch(\"set\", [key, value]);\n};\n\n/**\n * Deletes a property in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of property to delete\n * @return promise for the return value\n */\nQ.del = // XXX legacy\nQ[\"delete\"] = function (object, key) {\n    return Q(object).dispatch(\"delete\", [key]);\n};\n\nPromise.prototype.del = // XXX legacy\nPromise.prototype[\"delete\"] = function (key) {\n    return this.dispatch(\"delete\", [key]);\n};\n\n/**\n * Invokes a method in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of method to invoke\n * @param value     a value to post, typically an array of\n *                  invocation arguments for promises that\n *                  are ultimately backed with `resolve` values,\n *                  as opposed to those backed with URLs\n *                  wherein the posted value can be any\n *                  JSON serializable object.\n * @return promise for the return value\n */\n// bound locally because it is used by other methods\nQ.mapply = // XXX As proposed by \"Redsandro\"\nQ.post = function (object, name, args) {\n    return Q(object).dispatch(\"post\", [name, args]);\n};\n\nPromise.prototype.mapply = // XXX As proposed by \"Redsandro\"\nPromise.prototype.post = function (name, args) {\n    return this.dispatch(\"post\", [name, args]);\n};\n\n/**\n * Invokes a method in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of method to invoke\n * @param ...args   array of invocation arguments\n * @return promise for the return value\n */\nQ.send = // XXX Mark Miller's proposed parlance\nQ.mcall = // XXX As proposed by \"Redsandro\"\nQ.invoke = function (object, name /*...args*/) {\n    return Q(object).dispatch(\"post\", [name, array_slice(arguments, 2)]);\n};\n\nPromise.prototype.send = // XXX Mark Miller's proposed parlance\nPromise.prototype.mcall = // XXX As proposed by \"Redsandro\"\nPromise.prototype.invoke = function (name /*...args*/) {\n    return this.dispatch(\"post\", [name, array_slice(arguments, 1)]);\n};\n\n/**\n * Applies the promised function in a future turn.\n * @param object    promise or immediate reference for target function\n * @param args      array of application arguments\n */\nQ.fapply = function (object, args) {\n    return Q(object).dispatch(\"apply\", [void 0, args]);\n};\n\nPromise.prototype.fapply = function (args) {\n    return this.dispatch(\"apply\", [void 0, args]);\n};\n\n/**\n * Calls the promised function in a future turn.\n * @param object    promise or immediate reference for target function\n * @param ...args   array of application arguments\n */\nQ[\"try\"] =\nQ.fcall = function (object /* ...args*/) {\n    return Q(object).dispatch(\"apply\", [void 0, array_slice(arguments, 1)]);\n};\n\nPromise.prototype.fcall = function (/*...args*/) {\n    return this.dispatch(\"apply\", [void 0, array_slice(arguments)]);\n};\n\n/**\n * Binds the promised function, transforming return values into a fulfilled\n * promise and thrown errors into a rejected one.\n * @param object    promise or immediate reference for target function\n * @param ...args   array of application arguments\n */\nQ.fbind = function (object /*...args*/) {\n    var promise = Q(object);\n    var args = array_slice(arguments, 1);\n    return function fbound() {\n        return promise.dispatch(\"apply\", [\n            this,\n            args.concat(array_slice(arguments))\n        ]);\n    };\n};\nPromise.prototype.fbind = function (/*...args*/) {\n    var promise = this;\n    var args = array_slice(arguments);\n    return function fbound() {\n        return promise.dispatch(\"apply\", [\n            this,\n            args.concat(array_slice(arguments))\n        ]);\n    };\n};\n\n/**\n * Requests the names of the owned properties of a promised\n * object in a future turn.\n * @param object    promise or immediate reference for target object\n * @return promise for the keys of the eventually settled object\n */\nQ.keys = function (object) {\n    return Q(object).dispatch(\"keys\", []);\n};\n\nPromise.prototype.keys = function () {\n    return this.dispatch(\"keys\", []);\n};\n\n/**\n * Turns an array of promises into a promise for an array.  If any of\n * the promises gets rejected, the whole array is rejected immediately.\n * @param {Array*} an array (or promise for an array) of values (or\n * promises for values)\n * @returns a promise for an array of the corresponding values\n */\n// By Mark Miller\n// http://wiki.ecmascript.org/doku.php?id=strawman:concurrency&rev=1308776521#allfulfilled\nQ.all = all;\nfunction all(promises) {\n    return when(promises, function (promises) {\n        var pendingCount = 0;\n        var deferred = defer();\n        array_reduce(promises, function (undefined, promise, index) {\n            var snapshot;\n            if (\n                isPromise(promise) &&\n                (snapshot = promise.inspect()).state === \"fulfilled\"\n            ) {\n                promises[index] = snapshot.value;\n            } else {\n                ++pendingCount;\n                when(\n                    promise,\n                    function (value) {\n                        promises[index] = value;\n                        if (--pendingCount === 0) {\n                            deferred.resolve(promises);\n                        }\n                    },\n                    deferred.reject,\n                    function (progress) {\n                        deferred.notify({ index: index, value: progress });\n                    }\n                );\n            }\n        }, void 0);\n        if (pendingCount === 0) {\n            deferred.resolve(promises);\n        }\n        return deferred.promise;\n    });\n}\n\nPromise.prototype.all = function () {\n    return all(this);\n};\n\n/**\n * Returns the first resolved promise of an array. Prior rejected promises are\n * ignored.  Rejects only if all promises are rejected.\n * @param {Array*} an array containing values or promises for values\n * @returns a promise fulfilled with the value of the first resolved promise,\n * or a rejected promise if all promises are rejected.\n */\nQ.any = any;\n\nfunction any(promises) {\n    if (promises.length === 0) {\n        return Q.resolve();\n    }\n\n    var deferred = Q.defer();\n    var pendingCount = 0;\n    array_reduce(promises, function (prev, current, index) {\n        var promise = promises[index];\n\n        pendingCount++;\n\n        when(promise, onFulfilled, onRejected, onProgress);\n        function onFulfilled(result) {\n            deferred.resolve(result);\n        }\n        function onRejected() {\n            pendingCount--;\n            if (pendingCount === 0) {\n                deferred.reject(new Error(\n                    \"Can't get fulfillment value from any promise, all \" +\n                    \"promises were rejected.\"\n                ));\n            }\n        }\n        function onProgress(progress) {\n            deferred.notify({\n                index: index,\n                value: progress\n            });\n        }\n    }, undefined);\n\n    return deferred.promise;\n}\n\nPromise.prototype.any = function () {\n    return any(this);\n};\n\n/**\n * Waits for all promises to be settled, either fulfilled or\n * rejected.  This is distinct from `all` since that would stop\n * waiting at the first rejection.  The promise returned by\n * `allResolved` will never be rejected.\n * @param promises a promise for an array (or an array) of promises\n * (or values)\n * @return a promise for an array of promises\n */\nQ.allResolved = deprecate(allResolved, \"allResolved\", \"allSettled\");\nfunction allResolved(promises) {\n    return when(promises, function (promises) {\n        promises = array_map(promises, Q);\n        return when(all(array_map(promises, function (promise) {\n            return when(promise, noop, noop);\n        })), function () {\n            return promises;\n        });\n    });\n}\n\nPromise.prototype.allResolved = function () {\n    return allResolved(this);\n};\n\n/**\n * @see Promise#allSettled\n */\nQ.allSettled = allSettled;\nfunction allSettled(promises) {\n    return Q(promises).allSettled();\n}\n\n/**\n * Turns an array of promises into a promise for an array of their states (as\n * returned by `inspect`) when they have all settled.\n * @param {Array[Any*]} values an array (or promise for an array) of values (or\n * promises for values)\n * @returns {Array[State]} an array of states for the respective values.\n */\nPromise.prototype.allSettled = function () {\n    return this.then(function (promises) {\n        return all(array_map(promises, function (promise) {\n            promise = Q(promise);\n            function regardless() {\n                return promise.inspect();\n            }\n            return promise.then(regardless, regardless);\n        }));\n    });\n};\n\n/**\n * Captures the failure of a promise, giving an oportunity to recover\n * with a callback.  If the given promise is fulfilled, the returned\n * promise is fulfilled.\n * @param {Any*} promise for something\n * @param {Function} callback to fulfill the returned promise if the\n * given promise is rejected\n * @returns a promise for the return value of the callback\n */\nQ.fail = // XXX legacy\nQ[\"catch\"] = function (object, rejected) {\n    return Q(object).then(void 0, rejected);\n};\n\nPromise.prototype.fail = // XXX legacy\nPromise.prototype[\"catch\"] = function (rejected) {\n    return this.then(void 0, rejected);\n};\n\n/**\n * Attaches a listener that can respond to progress notifications from a\n * promise's originating deferred. This listener receives the exact arguments\n * passed to ``deferred.notify``.\n * @param {Any*} promise for something\n * @param {Function} callback to receive any progress notifications\n * @returns the given promise, unchanged\n */\nQ.progress = progress;\nfunction progress(object, progressed) {\n    return Q(object).then(void 0, void 0, progressed);\n}\n\nPromise.prototype.progress = function (progressed) {\n    return this.then(void 0, void 0, progressed);\n};\n\n/**\n * Provides an opportunity to observe the settling of a promise,\n * regardless of whether the promise is fulfilled or rejected.  Forwards\n * the resolution to the returned promise when the callback is done.\n * The callback can return a promise to defer completion.\n * @param {Any*} promise\n * @param {Function} callback to observe the resolution of the given\n * promise, takes no arguments.\n * @returns a promise for the resolution of the given promise when\n * ``fin`` is done.\n */\nQ.fin = // XXX legacy\nQ[\"finally\"] = function (object, callback) {\n    return Q(object)[\"finally\"](callback);\n};\n\nPromise.prototype.fin = // XXX legacy\nPromise.prototype[\"finally\"] = function (callback) {\n    callback = Q(callback);\n    return this.then(function (value) {\n        return callback.fcall().then(function () {\n            return value;\n        });\n    }, function (reason) {\n        // TODO attempt to recycle the rejection with \"this\".\n        return callback.fcall().then(function () {\n            throw reason;\n        });\n    });\n};\n\n/**\n * Terminates a chain of promises, forcing rejections to be\n * thrown as exceptions.\n * @param {Any*} promise at the end of a chain of promises\n * @returns nothing\n */\nQ.done = function (object, fulfilled, rejected, progress) {\n    return Q(object).done(fulfilled, rejected, progress);\n};\n\nPromise.prototype.done = function (fulfilled, rejected, progress) {\n    var onUnhandledError = function (error) {\n        // forward to a future turn so that ``when``\n        // does not catch it and turn it into a rejection.\n        Q.nextTick(function () {\n            makeStackTraceLong(error, promise);\n            if (Q.onerror) {\n                Q.onerror(error);\n            } else {\n                throw error;\n            }\n        });\n    };\n\n    // Avoid unnecessary `nextTick`ing via an unnecessary `when`.\n    var promise = fulfilled || rejected || progress ?\n        this.then(fulfilled, rejected, progress) :\n        this;\n\n    if (typeof process === \"object\" && process && process.domain) {\n        onUnhandledError = process.domain.bind(onUnhandledError);\n    }\n\n    promise.then(void 0, onUnhandledError);\n};\n\n/**\n * Causes a promise to be rejected if it does not get fulfilled before\n * some milliseconds time out.\n * @param {Any*} promise\n * @param {Number} milliseconds timeout\n * @param {Any*} custom error message or Error object (optional)\n * @returns a promise for the resolution of the given promise if it is\n * fulfilled before the timeout, otherwise rejected.\n */\nQ.timeout = function (object, ms, error) {\n    return Q(object).timeout(ms, error);\n};\n\nPromise.prototype.timeout = function (ms, error) {\n    var deferred = defer();\n    var timeoutId = setTimeout(function () {\n        if (!error || \"string\" === typeof error) {\n            error = new Error(error || \"Timed out after \" + ms + \" ms\");\n            error.code = \"ETIMEDOUT\";\n        }\n        deferred.reject(error);\n    }, ms);\n\n    this.then(function (value) {\n        clearTimeout(timeoutId);\n        deferred.resolve(value);\n    }, function (exception) {\n        clearTimeout(timeoutId);\n        deferred.reject(exception);\n    }, deferred.notify);\n\n    return deferred.promise;\n};\n\n/**\n * Returns a promise for the given value (or promised value), some\n * milliseconds after it resolved. Passes rejections immediately.\n * @param {Any*} promise\n * @param {Number} milliseconds\n * @returns a promise for the resolution of the given promise after milliseconds\n * time has elapsed since the resolution of the given promise.\n * If the given promise rejects, that is passed immediately.\n */\nQ.delay = function (object, timeout) {\n    if (timeout === void 0) {\n        timeout = object;\n        object = void 0;\n    }\n    return Q(object).delay(timeout);\n};\n\nPromise.prototype.delay = function (timeout) {\n    return this.then(function (value) {\n        var deferred = defer();\n        setTimeout(function () {\n            deferred.resolve(value);\n        }, timeout);\n        return deferred.promise;\n    });\n};\n\n/**\n * Passes a continuation to a Node function, which is called with the given\n * arguments provided as an array, and returns a promise.\n *\n *      Q.nfapply(FS.readFile, [__filename])\n *      .then(function (content) {\n *      })\n *\n */\nQ.nfapply = function (callback, args) {\n    return Q(callback).nfapply(args);\n};\n\nPromise.prototype.nfapply = function (args) {\n    var deferred = defer();\n    var nodeArgs = array_slice(args);\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.fapply(nodeArgs).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Passes a continuation to a Node function, which is called with the given\n * arguments provided individually, and returns a promise.\n * @example\n * Q.nfcall(FS.readFile, __filename)\n * .then(function (content) {\n * })\n *\n */\nQ.nfcall = function (callback /*...args*/) {\n    var args = array_slice(arguments, 1);\n    return Q(callback).nfapply(args);\n};\n\nPromise.prototype.nfcall = function (/*...args*/) {\n    var nodeArgs = array_slice(arguments);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.fapply(nodeArgs).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Wraps a NodeJS continuation passing function and returns an equivalent\n * version that returns a promise.\n * @example\n * Q.nfbind(FS.readFile, __filename)(\"utf-8\")\n * .then(console.log)\n * .done()\n */\nQ.nfbind =\nQ.denodeify = function (callback /*...args*/) {\n    var baseArgs = array_slice(arguments, 1);\n    return function () {\n        var nodeArgs = baseArgs.concat(array_slice(arguments));\n        var deferred = defer();\n        nodeArgs.push(deferred.makeNodeResolver());\n        Q(callback).fapply(nodeArgs).fail(deferred.reject);\n        return deferred.promise;\n    };\n};\n\nPromise.prototype.nfbind =\nPromise.prototype.denodeify = function (/*...args*/) {\n    var args = array_slice(arguments);\n    args.unshift(this);\n    return Q.denodeify.apply(void 0, args);\n};\n\nQ.nbind = function (callback, thisp /*...args*/) {\n    var baseArgs = array_slice(arguments, 2);\n    return function () {\n        var nodeArgs = baseArgs.concat(array_slice(arguments));\n        var deferred = defer();\n        nodeArgs.push(deferred.makeNodeResolver());\n        function bound() {\n            return callback.apply(thisp, arguments);\n        }\n        Q(bound).fapply(nodeArgs).fail(deferred.reject);\n        return deferred.promise;\n    };\n};\n\nPromise.prototype.nbind = function (/*thisp, ...args*/) {\n    var args = array_slice(arguments, 0);\n    args.unshift(this);\n    return Q.nbind.apply(void 0, args);\n};\n\n/**\n * Calls a method of a Node-style object that accepts a Node-style\n * callback with a given array of arguments, plus a provided callback.\n * @param object an object that has the named method\n * @param {String} name name of the method of object\n * @param {Array} args arguments to pass to the method; the callback\n * will be provided by Q and appended to these arguments.\n * @returns a promise for the value or error\n */\nQ.nmapply = // XXX As proposed by \"Redsandro\"\nQ.npost = function (object, name, args) {\n    return Q(object).npost(name, args);\n};\n\nPromise.prototype.nmapply = // XXX As proposed by \"Redsandro\"\nPromise.prototype.npost = function (name, args) {\n    var nodeArgs = array_slice(args || []);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Calls a method of a Node-style object that accepts a Node-style\n * callback, forwarding the given variadic arguments, plus a provided\n * callback argument.\n * @param object an object that has the named method\n * @param {String} name name of the method of object\n * @param ...args arguments to pass to the method; the callback will\n * be provided by Q and appended to these arguments.\n * @returns a promise for the value or error\n */\nQ.nsend = // XXX Based on Mark Miller's proposed \"send\"\nQ.nmcall = // XXX Based on \"Redsandro's\" proposal\nQ.ninvoke = function (object, name /*...args*/) {\n    var nodeArgs = array_slice(arguments, 2);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    Q(object).dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\nPromise.prototype.nsend = // XXX Based on Mark Miller's proposed \"send\"\nPromise.prototype.nmcall = // XXX Based on \"Redsandro's\" proposal\nPromise.prototype.ninvoke = function (name /*...args*/) {\n    var nodeArgs = array_slice(arguments, 1);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * If a function would like to support both Node continuation-passing-style and\n * promise-returning-style, it can end its internal promise chain with\n * `nodeify(nodeback)`, forwarding the optional nodeback argument.  If the user\n * elects to use a nodeback, the result will be sent there.  If they do not\n * pass a nodeback, they will receive the result promise.\n * @param object a result (or a promise for a result)\n * @param {Function} nodeback a Node.js-style callback\n * @returns either the promise or nothing\n */\nQ.nodeify = nodeify;\nfunction nodeify(object, nodeback) {\n    return Q(object).nodeify(nodeback);\n}\n\nPromise.prototype.nodeify = function (nodeback) {\n    if (nodeback) {\n        this.then(function (value) {\n            Q.nextTick(function () {\n                nodeback(null, value);\n            });\n        }, function (error) {\n            Q.nextTick(function () {\n                nodeback(error);\n            });\n        });\n    } else {\n        return this;\n    }\n};\n\nQ.noConflict = function() {\n    throw new Error(\"Q.noConflict only works when Q is used as a global\");\n};\n\n// All code before this point will be filtered from stack traces.\nvar qEndingLine = captureLine();\n\nreturn Q;\n\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/q/q.js\n// module id = 5\n// module chunks = 0","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\nvar AuthSdkError = require('./errors/AuthSdkError');\n\n// storage must have getItem and setItem\nfunction storageBuilder(webstorage, storageName) {\n  if (typeof storageName !== 'string' || !storageName.length) {\n    throw new AuthSdkError('\"storageName\" is required');\n  }\n\n  function getStorage() {\n    var storageString = webstorage.getItem(storageName);\n    storageString = storageString || '{}';\n    try {\n      return JSON.parse(storageString);\n    } catch(e) {\n      throw new AuthSdkError('Unable to parse storage string: ' + storageName);\n    }\n  }\n\n  function setStorage(storage) {\n    try {\n      var storageString = JSON.stringify(storage);\n      webstorage.setItem(storageName, storageString);\n    } catch(e) {\n      throw new AuthSdkError('Unable to set storage: ' + storageName);\n    }\n  }\n\n  function clearStorage(key) {\n    if (!key) {\n      setStorage({});\n    }\n    var storage = getStorage();\n    delete storage[key];\n    setStorage(storage);\n  }\n\n  function updateStorage(key, value) {\n    var storage = getStorage();\n    storage[key] = value;\n    setStorage(storage);\n  }\n\n  return {\n    getStorage: getStorage,\n    setStorage: setStorage,\n    clearStorage: clearStorage,\n    updateStorage: updateStorage\n  };\n}\n\nmodule.exports = storageBuilder;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/storageBuilder.js\n// module id = 6\n// module chunks = 0","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* eslint-disable complexity, max-statements */\nvar http              = require('./http');\nvar util              = require('./util');\nvar Q                 = require('q');\nvar AuthSdkError      = require('./errors/AuthSdkError');\nvar AuthPollStopError = require('./errors/AuthPollStopError');\nvar constants         = require('./constants');\n\nfunction addStateToken(res, options) {\n  var builtArgs = {};\n  util.extend(builtArgs, options);\n\n  // Add the stateToken if one isn't passed and we have one\n  if (!builtArgs.stateToken && res.stateToken) {\n    builtArgs.stateToken = res.stateToken;\n  }\n\n  return builtArgs;\n}\n\nfunction getStateToken(res) {\n  return addStateToken(res);\n}\n\nfunction transactionStatus(sdk, args) {\n  args = addStateToken(sdk, args);\n  return http.post(sdk, sdk.options.url + '/api/v1/authn', args);\n}\n\nfunction resumeTransaction(sdk, args) {\n  if (!args || !args.stateToken) {\n    var stateToken = sdk.tx.exists._get(constants.STATE_TOKEN_KEY_NAME);\n    if (stateToken) {\n      args = {\n        stateToken: stateToken\n      };\n    } else {\n      return Q.reject(new AuthSdkError('No transaction to resume'));\n    }\n  }\n  return sdk.tx.status(args)\n    .then(function(res) {\n      return new AuthTransaction(sdk, res);\n    });\n}\n\nfunction introspect (sdk, args) {\n  if (!args || !args.stateToken) {\n    var stateToken = sdk.tx.exists._get(constants.STATE_TOKEN_KEY_NAME);\n    if (stateToken) {\n      args = {\n        stateToken: stateToken\n      };\n    } else {\n      return Q.reject(new AuthSdkError('No transaction to evaluate'));\n    }\n  }\n  return transactionStep(sdk, args)\n    .then(function (res) {\n      return new AuthTransaction(sdk, res);\n    });\n}\n\nfunction transactionStep(sdk, args) {\n  args = addStateToken(sdk, args);\n  return http.post(sdk, sdk.options.url + '/idp/idx/introspect', args);\n}\n\nfunction transactionExists(sdk) {\n  // We have a cookie state token\n  return !!sdk.tx.exists._get(constants.STATE_TOKEN_KEY_NAME);\n}\n\nfunction postToTransaction(sdk, url, args, options) {\n  return http.post(sdk, url, args, options)\n    .then(function(res) {\n      return new AuthTransaction(sdk, res);\n    });\n}\n\nfunction getPollFn(sdk, res, ref) {\n  return function (options) {\n    var delay;\n    var rememberDevice;\n    var autoPush;\n    var transactionCallBack;\n\n    if (util.isNumber(options)) {\n      delay = options;\n    } else if (util.isObject(options)) {\n      delay = options.delay;\n      rememberDevice = options.rememberDevice;\n      autoPush = options.autoPush;\n      transactionCallBack = options.transactionCallBack;\n    }\n\n    if (!delay && delay !== 0) {\n      delay = constants.DEFAULT_POLLING_DELAY;\n    }\n\n    // Get the poll function\n    var pollLink = util.getLink(res, 'next', 'poll');\n    function pollFn() {\n      var opts = {};\n      if (typeof autoPush === 'function') {\n        try {\n          opts.autoPush = !!autoPush();\n        }\n        catch (e) {\n          return Q.reject(new AuthSdkError('AutoPush resulted in an error.'));\n        }\n      }\n      else if (autoPush !== undefined && autoPush !== null) {\n        opts.autoPush = !!autoPush;\n      }\n      if (typeof rememberDevice === 'function') {\n        try {\n          opts.rememberDevice = !!rememberDevice();\n        }\n        catch (e) {\n          return Q.reject(new AuthSdkError('RememberDevice resulted in an error.'));\n        }\n      }\n      else if (rememberDevice !== undefined && rememberDevice !== null) {\n        opts.rememberDevice = !!rememberDevice;\n      }\n\n      var href = pollLink.href + util.toQueryParams(opts);\n      return http.post(sdk, href, getStateToken(res), {\n        saveAuthnState: false  \n      });\n    }\n\n    ref.isPolling = true;\n\n    var retryCount = 0;\n    var recursivePoll = function () {\n      // If the poll was manually stopped during the delay\n      if (!ref.isPolling) {\n        return Q.reject(new AuthPollStopError());\n      }\n      return pollFn()\n        .then(function (pollRes) {\n          // Reset our retry counter on success\n          retryCount = 0;\n\n          // If we're still waiting\n          if (pollRes.factorResult && pollRes.factorResult === 'WAITING') {\n\n            // If the poll was manually stopped while the pollFn was called\n            if (!ref.isPolling) {\n              throw new AuthPollStopError();\n            }\n\n            if (typeof transactionCallBack === 'function') {\n              transactionCallBack(pollRes);\n            }\n\n            // Continue poll\n            return Q.delay(delay)\n              .then(recursivePoll);\n\n          } else {\n            // Any non-waiting result, even if polling was stopped\n            // during a request, will return\n            ref.isPolling = false;\n            return new AuthTransaction(sdk, pollRes);\n          }\n        })\n        .fail(function(err) {\n          // Exponential backoff, up to 16 seconds\n          if (err.xhr &&\n              (err.xhr.status === 0 || err.xhr.status === 429) &&\n              retryCount <= 4) {\n            var delayLength = Math.pow(2, retryCount) * 1000;\n            retryCount++;\n            return Q.delay(delayLength)\n              .then(recursivePoll);\n          }\n          throw err;\n        });\n    };\n    return recursivePoll()\n      .fail(function(err) {\n        ref.isPolling = false;\n        throw err;\n      });\n  };\n}\n\nfunction link2fn(sdk, res, obj, link, ref) {\n  if (Array.isArray(link)) {\n    return function(name, opts) {\n      if (!name) {\n        throw new AuthSdkError('Must provide a link name');\n      }\n\n      var lk = util.find(link, {name: name});\n      if (!lk) {\n        throw new AuthSdkError('No link found for that name');\n      }\n\n      return link2fn(sdk, res, obj, lk, ref)(opts);\n    };\n\n  } else if (link.hints &&\n      link.hints.allow &&\n      link.hints.allow.length === 1) {\n    var method = link.hints.allow[0];\n    switch (method) {\n\n      case 'GET':\n        return function() {\n          return http.get(sdk, link.href);\n        };\n\n      case 'POST':\n        return function(opts) {\n          if (ref && ref.isPolling) {\n            ref.isPolling = false;\n          }\n\n          var data = addStateToken(res, opts);\n\n          if (res.status === 'MFA_ENROLL' || res.status === 'FACTOR_ENROLL') {\n            // Add factorType and provider\n            util.extend(data, {\n              factorType: obj.factorType,\n              provider: obj.provider\n            });\n          }\n\n          var params = {};\n          var autoPush = data.autoPush;\n          if (autoPush !== undefined) {\n            if (typeof autoPush === 'function') {\n              try {\n                params.autoPush = !!autoPush();\n              }\n              catch (e) {\n                return Q.reject(new AuthSdkError('AutoPush resulted in an error.'));\n              }\n            }\n            else if (autoPush !== null) {\n              params.autoPush = !!autoPush;\n            }\n            data = util.omit(data, 'autoPush');\n          }\n\n          var rememberDevice = data.rememberDevice;\n          if (rememberDevice !== undefined) {\n            if (typeof rememberDevice === 'function') {\n              try {\n                params.rememberDevice = !!rememberDevice();\n              }\n              catch (e) {\n                return Q.reject(new AuthSdkError('RememberDevice resulted in an error.'));\n              }\n            }\n            else if (rememberDevice !== null) {\n              params.rememberDevice = !!rememberDevice;\n            }\n            data = util.omit(data, 'rememberDevice');\n\n          } else if (data.profile &&\n                    data.profile.updatePhone !== undefined) {\n            if (data.profile.updatePhone) {\n              params.updatePhone = true;\n            }\n            data.profile = util.omit(data.profile, 'updatePhone');\n          }\n          var href = link.href + util.toQueryParams(params);\n          return postToTransaction(sdk, href, data);\n        };\n    }\n  }\n}\n\nfunction links2fns(sdk, res, obj, ref) {\n  var fns = {};\n  for (var linkName in obj._links) {\n    if (!obj._links.hasOwnProperty(linkName)) {\n      continue;\n    }\n\n    var link = obj._links[linkName];\n    \n    if (linkName === 'next') {\n      linkName = link.name;\n    }\n\n    if (link.type) {\n      fns[linkName] = link;\n      continue;\n    }\n\n    switch (linkName) {\n      // poll is only found at the transaction\n      // level, so we don't need to pass the link\n      case 'poll':\n        fns.poll = getPollFn(sdk, res, ref);\n        break;\n\n      default:\n        var fn = link2fn(sdk, res, obj, link, ref);\n        if (fn) {\n          fns[linkName] = fn;\n        }\n    }\n  }\n  return fns;\n}\n\nfunction flattenEmbedded(sdk, res, obj, ref) {\n  obj = obj || res;\n  obj = util.clone(obj);\n\n  if (Array.isArray(obj)) {\n    var objArr = [];\n    for (var o = 0, ol = obj.length; o < ol; o++) {\n      objArr.push(flattenEmbedded(sdk, res, obj[o], ref));\n    }\n    return objArr;\n  }\n\n  var embedded = obj._embedded || {};\n\n  for (var key in embedded) {\n    if (!embedded.hasOwnProperty(key)) {\n      continue;\n    }\n\n    // Flatten any nested _embedded objects\n    if (util.isObject(embedded[key]) || Array.isArray(embedded[key])) {\n      embedded[key] = flattenEmbedded(sdk, res, embedded[key], ref);\n    }\n  }\n\n  // Convert any links on the embedded object\n  var fns = links2fns(sdk, res, obj, ref);\n  util.extend(embedded, fns);\n\n  obj = util.omit(obj, '_embedded', '_links');\n  util.extend(obj, embedded);\n  return obj;\n}\n\nfunction AuthTransaction(sdk, res) {\n  if (res) {\n    this.data = res;\n    util.extend(this, flattenEmbedded(sdk, res, res, {}));\n    delete this.stateToken;\n\n    // RECOVERY_CHALLENGE has some responses without _links.\n    // Without _links, we emulate cancel to make it intuitive\n    // to return to the starting state. We may remove this\n    // when OKTA-75434 is resolved\n    if (res.status === 'RECOVERY_CHALLENGE' && !res._links) {\n      this.cancel = function() {\n        return new Q(new AuthTransaction(sdk));\n      };\n    }\n  }\n}\n\nmodule.exports = {\n  transactionStatus: transactionStatus,\n  resumeTransaction: resumeTransaction,\n  transactionExists: transactionExists,\n  postToTransaction: postToTransaction,\n  introspect: introspect,\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/tx.js\n// module id = 7\n// module chunks = 0","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /root/okta/okta-auth-js/node_modules/process/browser.js\n// module id = 8\n// module chunks = 0","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 9\n// module chunks = 0","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* eslint-disable complexity, max-statements */\nvar http = require('./http');\nvar util = require('./util');\nvar storageUtil = require('./browser/browserStorage');\nvar AuthSdkError = require('./errors/AuthSdkError');\n\nvar httpCache = storageUtil.getHttpCache();\n\nfunction generateState() {\n  return util.genRandomString(64);\n}\n\nfunction generateNonce() {\n  return util.genRandomString(64);\n}\n\nfunction isToken(obj) {\n  if (obj &&\n      (obj.accessToken || obj.idToken) &&\n      Array.isArray(obj.scopes)) {\n    return true;\n  }\n  return false;\n}\n\nfunction addListener(eventTarget, name, fn) {\n  if (eventTarget.addEventListener) {\n    eventTarget.addEventListener(name, fn);\n  } else {\n    eventTarget.attachEvent('on' + name, fn);\n  }\n}\n\nfunction removeListener(eventTarget, name, fn) {\n  if (eventTarget.removeEventListener) {\n    eventTarget.removeEventListener(name, fn);\n  } else {\n    eventTarget.detachEvent('on' + name, fn);\n  }\n}\n\nfunction loadFrame(src) {\n  var iframe = document.createElement('iframe');\n  iframe.style.display = 'none';\n  iframe.src = src;\n\n  return document.body.appendChild(iframe);\n}\n\nfunction loadPopup(src, options) {\n  var title = options.popupTitle || 'External Identity Provider User Authentication';\n  var appearance = 'toolbar=no, scrollbars=yes, resizable=yes, ' +\n    'top=100, left=500, width=600, height=600';\n\n  if (util.isIE11OrLess()) {\n    // IE<=11 doesn't fully support postMessage at time of writting.\n    // the following simple solution happened to solve the issue\n    // without adding another proxy layer which makes flow more complecated.\n    var winEl = window.open('/', title, appearance);\n    winEl.location.href = src;\n    return winEl;\n  } else {\n    return window.open(src, title, appearance);\n  }\n}\n\nfunction getWellKnown(sdk, issuer) {\n  return http.get(sdk, (issuer || sdk.options.url) + '/.well-known/openid-configuration', {\n    cacheResponse: true\n  });\n}\n\nfunction getKey(sdk, issuer, kid) {\n  return getWellKnown(sdk, issuer)\n  .then(function(wellKnown) {\n    var jwksUri = wellKnown['jwks_uri'];\n\n    // Check our kid against the cached version (if it exists and isn't expired)\n    var cacheContents = httpCache.getStorage();\n    var cachedResponse = cacheContents[jwksUri];\n    if (cachedResponse && Date.now()/1000 < cachedResponse.expiresAt) {\n      var cachedKey = util.find(cachedResponse.response.keys, {\n        kid: kid\n      });\n\n      if (cachedKey) {\n        return cachedKey;\n      }\n    }\n\n    // Remove cache for the key\n    httpCache.clearStorage(jwksUri);\n\n    // Pull the latest keys if the key wasn't in the cache\n    return http.get(sdk, jwksUri, {\n      cacheResponse: true\n    })\n    .then(function(res) {\n      var key = util.find(res.keys, {\n        kid: kid\n      });\n\n      if (key) {\n        return key;\n      }\n\n      throw new AuthSdkError('The key id, ' + kid + ', was not found in the server\\'s keys');\n    });\n  });\n}\n\nfunction validateClaims(sdk, claims, validationParams) {\n  var aud = validationParams.clientId;\n  var iss = validationParams.issuer;\n  var nonce = validationParams.nonce;\n\n  if (!claims || !iss || !aud) {\n    throw new AuthSdkError('The jwt, iss, and aud arguments are all required');\n  }\n\n  if (nonce && claims.nonce !== nonce) {\n    throw new AuthSdkError('OAuth flow response nonce doesn\\'t match request nonce');\n  }\n\n  var now = Math.floor(Date.now()/1000);\n\n  if (claims.iss !== iss) {\n    throw new AuthSdkError('The issuer [' + claims.iss + '] ' +\n      'does not match [' + iss + ']');\n  }\n\n  if (claims.aud !== aud) {\n    throw new AuthSdkError('The audience [' + claims.aud + '] ' +\n      'does not match [' + aud + ']');\n  }\n\n  if (claims.iat > claims.exp) {\n    throw new AuthSdkError('The JWT expired before it was issued');\n  }\n\n  if ((now - sdk.options.maxClockSkew) > claims.exp) {\n    throw new AuthSdkError('The JWT expired and is no longer valid');\n  }\n\n  if (claims.iat > (now + sdk.options.maxClockSkew)) {\n    throw new AuthSdkError('The JWT was issued in the future');\n  }\n}\n\nfunction getOAuthUrls(sdk, oauthParams, options) {\n  options = options || {};\n\n  // Get user-supplied arguments\n  var authorizeUrl = util.removeTrailingSlash(options.authorizeUrl) || sdk.options.authorizeUrl;\n  var issuer = util.removeTrailingSlash(options.issuer) || sdk.options.issuer;\n  var userinfoUrl = util.removeTrailingSlash(options.userinfoUrl) || sdk.options.userinfoUrl;\n  var tokenUrl = util.removeTrailingSlash(options.tokenUrl) || sdk.options.tokenUrl;\n  var logoutUrl = util.removeTrailingSlash(options.logoutUrl) || sdk.options.logoutUrl;\n  var revokeUrl = util.removeTrailingSlash(options.revokeUrl) || sdk.options.revokeUrl;\n\n  // If an issuer exists but it's not a url, assume it's an authServerId\n  if (issuer && !(/^https?:/.test(issuer))) {\n    // Make it a url\n    issuer = sdk.options.url + '/oauth2/' + issuer;\n  }\n\n  // If an authorizeUrl is supplied without an issuer, and an id_token is requested\n  if (!issuer && authorizeUrl &&\n      oauthParams.responseType.indexOf('id_token') !== -1) {\n    // The issuer is ambiguous, so we won't be able to validate the id_token jwt\n    throw new AuthSdkError('Cannot request idToken with an authorizeUrl without an issuer');\n  }\n\n  // If a token is requested without an issuer\n  if (!issuer && oauthParams && oauthParams.responseType.indexOf('token') !== -1) {\n    // If an authorizeUrl is supplied without a userinfoUrl\n    if (authorizeUrl && !userinfoUrl) {\n      // The userinfoUrl is ambiguous, so we won't be able to call getUserInfo\n      throw new AuthSdkError('Cannot request accessToken with an authorizeUrl without an issuer or userinfoUrl');\n    }\n\n    // If a userinfoUrl is supplied without a authorizeUrl\n    if (userinfoUrl && !authorizeUrl) {\n      // The authorizeUrl is ambiguous, so we won't be able to call the authorize endpoint\n      throw new AuthSdkError('Cannot request token with an userinfoUrl without an issuer or authorizeUrl');\n    }\n  }\n\n  // Default the issuer to our baseUrl\n  issuer = issuer || sdk.options.url;\n\n  // Trim trailing slashes\n  issuer = util.removeTrailingSlash(issuer);\n\n  var baseUrl = issuer;\n  // A custom auth server issuer looks like:\n  // https://example.okta.com/oauth2/aus8aus76q8iphupD0h7\n  // \n  // Most orgs have a \"default\" custom authorization server:\n  // https://example.okta.com/oauth2/default\n  var customAuthServerRegex = new RegExp('^https?://.*?/oauth2/.+');\n  if (!customAuthServerRegex.test(baseUrl)) {\n    // Append '/oauth2' if necessary\n    if (!baseUrl.endsWith('/oauth2')) {\n      baseUrl += '/oauth2';\n    }\n  }\n\n  authorizeUrl = authorizeUrl || baseUrl + '/v1/authorize';\n  userinfoUrl = userinfoUrl || baseUrl + '/v1/userinfo';\n  tokenUrl = tokenUrl || baseUrl + '/v1/token';\n  revokeUrl = revokeUrl || baseUrl + '/v1/revoke';\n  logoutUrl = logoutUrl || baseUrl + '/v1/logout';\n\n  return {\n    issuer: issuer,\n    authorizeUrl: authorizeUrl,\n    userinfoUrl: userinfoUrl,\n    tokenUrl: tokenUrl,\n    revokeUrl: revokeUrl,\n    logoutUrl: logoutUrl\n  };\n}\n\nfunction hashToObject(hash) {\n  // Predefine regexs for parsing hash\n  var plus2space = /\\+/g;\n  var paramSplit = /([^&=]+)=?([^&]*)/g;\n\n  // Remove the leading hash\n  var fragment = hash.substring(1);\n\n  var obj = {};\n\n  // Loop until we have no more params\n  var param;\n  while (true) { // eslint-disable-line no-constant-condition\n    param = paramSplit.exec(fragment);\n    if (!param) { break; }\n\n    var key = param[1];\n    var value = param[2];\n\n    // id_token should remain base64url encoded\n    if (key === 'id_token' || key === 'access_token' || key === 'code') {\n      obj[key] = value;\n    } else {\n      obj[key] = decodeURIComponent(value.replace(plus2space, ' '));\n    }\n  }\n  return obj;\n}\n\nmodule.exports = {\n  generateState: generateState,\n  generateNonce: generateNonce,\n  getWellKnown: getWellKnown,\n  getKey: getKey,\n  validateClaims: validateClaims,\n  getOAuthUrls: getOAuthUrls,\n  loadFrame: loadFrame,\n  loadPopup: loadPopup,\n  hashToObject: hashToObject,\n  isToken: isToken,\n  addListener: addListener,\n  removeListener: removeListener\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/oauthUtil.js\n// module id = 10\n// module chunks = 0","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\nvar fetchRequest = require('../../fetch/fetchRequest');\nvar storageUtil = require('./browserStorage');\n\nmodule.exports = require('./browser')(storageUtil, fetchRequest);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/browser/browserIndex.js\n// module id = 11\n// module chunks = 0","/*!\n * Copyright (c) 2018-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nvar fetch = require('cross-fetch');\n\n/* eslint-disable complexity */\nfunction fetchRequest(method, url, args) {\n  var body = args.data;\n  var headers = args.headers || {};\n  var contentType = (headers['Content-Type'] || headers['content-type'] || '');\n\n  // JSON encode body (if appropriate)\n  if (contentType === 'application/json' && body && typeof body !== 'string') {\n    body = JSON.stringify(body);\n  }\n\n  var fetchPromise = fetch(url, {\n    method: method,\n    headers: args.headers,\n    body: body,\n    credentials: args.withCredentials === false ? 'omit' : 'include'\n  })\n  .then(function(response) {\n    var error = !response.ok;\n    var status = response.status;\n    var respHandler = function(resp) {\n      var result = {\n        responseText: resp,\n        status: status\n      };\n      if (error) {\n        // Throwing response object since error handling is done in http.js\n        throw result;\n      }\n      return result;\n    };\n    if (response.headers.get('Content-Type') &&\n        response.headers.get('Content-Type').toLowerCase().indexOf('application/json') >= 0) {\n      return response.json().then(respHandler);\n    } else {\n      return response.text().then(respHandler);\n    }\n  });\n  return fetchPromise;\n}\n\nmodule.exports = fetchRequest;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./fetch/fetchRequest.js\n// module id = 12\n// module chunks = 0","var __self__ = (function (root) {\nfunction F() {\nthis.fetch = false;\nthis.DOMException = root.DOMException\n}\nF.prototype = root;\nreturn new F();\n})(typeof self !== 'undefined' ? self : this);\n(function(self) {\n\nvar irrelevant = (function (exports) {\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob:\n      'FileReader' in self &&\n      'Blob' in self &&\n      (function() {\n        try {\n          new Blob();\n          return true\n        } catch (e) {\n          return false\n        }\n      })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  };\n\n  function isDataView(obj) {\n    return obj && DataView.prototype.isPrototypeOf(obj)\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ];\n\n    var isArrayBufferView =\n      ArrayBuffer.isView ||\n      function(obj) {\n        return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n      };\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name);\n    }\n    if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value);\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift();\n        return {done: value === undefined, value: value}\n      }\n    };\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      };\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {};\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value);\n      }, this);\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1]);\n      }, this);\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name]);\n      }, this);\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name);\n    value = normalizeValue(value);\n    var oldValue = this.map[name];\n    this.map[name] = oldValue ? oldValue + ', ' + value : value;\n  };\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)];\n  };\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name);\n    return this.has(name) ? this.map[name] : null\n  };\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  };\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value);\n  };\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this);\n      }\n    }\n  };\n\n  Headers.prototype.keys = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push(name);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.values = function() {\n    var items = [];\n    this.forEach(function(value) {\n      items.push(value);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.entries = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push([name, value]);\n    });\n    return iteratorFor(items)\n  };\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries;\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true;\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result);\n      };\n      reader.onerror = function() {\n        reject(reader.error);\n      };\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsArrayBuffer(blob);\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsText(blob);\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf);\n    var chars = new Array(view.length);\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i]);\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength);\n      view.set(new Uint8Array(buf));\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false;\n\n    this._initBody = function(body) {\n      this._bodyInit = body;\n      if (!body) {\n        this._bodyText = '';\n      } else if (typeof body === 'string') {\n        this._bodyText = body;\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body;\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body;\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString();\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer);\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer]);\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body);\n      } else {\n        this._bodyText = body = Object.prototype.toString.call(body);\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8');\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type);\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n        }\n      }\n    };\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this);\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      };\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      };\n    }\n\n    this.text = function() {\n      var rejected = consumed(this);\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    };\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      };\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    };\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase();\n    return methods.indexOf(upcased) > -1 ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {};\n    var body = options.body;\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url;\n      this.credentials = input.credentials;\n      if (!options.headers) {\n        this.headers = new Headers(input.headers);\n      }\n      this.method = input.method;\n      this.mode = input.mode;\n      this.signal = input.signal;\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit;\n        input.bodyUsed = true;\n      }\n    } else {\n      this.url = String(input);\n    }\n\n    this.credentials = options.credentials || this.credentials || 'same-origin';\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers);\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET');\n    this.mode = options.mode || this.mode || null;\n    this.signal = options.signal || this.signal;\n    this.referrer = null;\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body);\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, {body: this._bodyInit})\n  };\n\n  function decode(body) {\n    var form = new FormData();\n    body\n      .trim()\n      .split('&')\n      .forEach(function(bytes) {\n        if (bytes) {\n          var split = bytes.split('=');\n          var name = split.shift().replace(/\\+/g, ' ');\n          var value = split.join('=').replace(/\\+/g, ' ');\n          form.append(decodeURIComponent(name), decodeURIComponent(value));\n        }\n      });\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers();\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ');\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':');\n      var key = parts.shift().trim();\n      if (key) {\n        var value = parts.join(':').trim();\n        headers.append(key, value);\n      }\n    });\n    return headers\n  }\n\n  Body.call(Request.prototype);\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {};\n    }\n\n    this.type = 'default';\n    this.status = options.status === undefined ? 200 : options.status;\n    this.ok = this.status >= 200 && this.status < 300;\n    this.statusText = 'statusText' in options ? options.statusText : 'OK';\n    this.headers = new Headers(options.headers);\n    this.url = options.url || '';\n    this._initBody(bodyInit);\n  }\n\n  Body.call(Response.prototype);\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  };\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''});\n    response.type = 'error';\n    return response\n  };\n\n  var redirectStatuses = [301, 302, 303, 307, 308];\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  };\n\n  exports.DOMException = self.DOMException;\n  try {\n    new exports.DOMException();\n  } catch (err) {\n    exports.DOMException = function(message, name) {\n      this.message = message;\n      this.name = name;\n      var error = Error(message);\n      this.stack = error.stack;\n    };\n    exports.DOMException.prototype = Object.create(Error.prototype);\n    exports.DOMException.prototype.constructor = exports.DOMException;\n  }\n\n  function fetch(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init);\n\n      if (request.signal && request.signal.aborted) {\n        return reject(new exports.DOMException('Aborted', 'AbortError'))\n      }\n\n      var xhr = new XMLHttpRequest();\n\n      function abortXhr() {\n        xhr.abort();\n      }\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        };\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL');\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options));\n      };\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.onabort = function() {\n        reject(new exports.DOMException('Aborted', 'AbortError'));\n      };\n\n      xhr.open(request.method, request.url, true);\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true;\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false;\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob';\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value);\n      });\n\n      if (request.signal) {\n        request.signal.addEventListener('abort', abortXhr);\n\n        xhr.onreadystatechange = function() {\n          // DONE (success or failure)\n          if (xhr.readyState === 4) {\n            request.signal.removeEventListener('abort', abortXhr);\n          }\n        };\n      }\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);\n    })\n  }\n\n  fetch.polyfill = true;\n\n  if (!self.fetch) {\n    self.fetch = fetch;\n    self.Headers = Headers;\n    self.Request = Request;\n    self.Response = Response;\n  }\n\n  exports.Headers = Headers;\n  exports.Request = Request;\n  exports.Response = Response;\n  exports.fetch = fetch;\n\n  return exports;\n\n}({}));\n})(__self__);\ndelete __self__.fetch.polyfill\nexports = __self__.fetch // To enable: import fetch from 'cross-fetch'\nexports.default = __self__.fetch // For TypeScript consumers without esModuleInterop.\nexports.fetch = __self__.fetch // To enable: import {fetch} from 'cross-fetch'\nexports.Headers = __self__.Headers\nexports.Request = __self__.Request\nexports.Response = __self__.Response\nmodule.exports = exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /root/okta/okta-auth-js/node_modules/cross-fetch/dist/browser-ponyfill.js\n// module id = 13\n// module chunks = 0","/*!\n * JavaScript Cookie v2.2.0\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader = false;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api (key, value, attributes) {\n\t\t\tvar result;\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Write\n\n\t\t\tif (arguments.length > 1) {\n\t\t\t\tattributes = extend({\n\t\t\t\t\tpath: '/'\n\t\t\t\t}, api.defaults, attributes);\n\n\t\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\t\tvar expires = new Date();\n\t\t\t\t\texpires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\n\t\t\t\t\tattributes.expires = expires;\n\t\t\t\t}\n\n\t\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\t\ttry {\n\t\t\t\t\tresult = JSON.stringify(value);\n\t\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\t\tvalue = result;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\n\t\t\t\tif (!converter.write) {\n\t\t\t\t\tvalue = encodeURIComponent(String(value))\n\t\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\t\t\t\t} else {\n\t\t\t\t\tvalue = converter.write(value, key);\n\t\t\t\t}\n\n\t\t\t\tkey = encodeURIComponent(String(key));\n\t\t\t\tkey = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\n\t\t\t\tkey = key.replace(/[\\(\\)]/g, escape);\n\n\t\t\t\tvar stringifiedAttributes = '';\n\n\t\t\t\tfor (var attributeName in attributes) {\n\t\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName];\n\t\t\t\t}\n\t\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t\t}\n\n\t\t\t// Read\n\n\t\t\tif (!key) {\n\t\t\t\tresult = {};\n\t\t\t}\n\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all. Also prevents odd result when\n\t\t\t// calling \"get()\"\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar rdecode = /(%[0-9A-Z]{2})+/g;\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!this.json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = parts[0].replace(rdecode, decodeURIComponent);\n\t\t\t\t\tcookie = converter.read ?\n\t\t\t\t\t\tconverter.read(cookie, name) : converter(cookie, name) ||\n\t\t\t\t\t\tcookie.replace(rdecode, decodeURIComponent);\n\n\t\t\t\t\tif (this.json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tresult = cookie;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!key) {\n\t\t\t\t\t\tresult[name] = cookie;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\tapi.set = api;\n\t\tapi.get = function (key) {\n\t\t\treturn api.call(api, key);\n\t\t};\n\t\tapi.getJSON = function () {\n\t\t\treturn api.apply({\n\t\t\t\tjson: true\n\t\t\t}, [].slice.call(arguments));\n\t\t};\n\t\tapi.defaults = {};\n\n\t\tapi.remove = function (key, attributes) {\n\t\t\tapi(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /root/okta/okta-auth-js/node_modules/js-cookie/src/js.cookie.js\n// module id = 14\n// module chunks = 0","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n/* eslint-disable complexity */\n/* eslint-disable max-statements */\n/* SDK_VERSION is defined in webpack config */ \n/* global SDK_VERSION */\n\nrequire('../vendor/polyfills');\n\nvar Emitter           = require('tiny-emitter');\nvar AuthSdkError      = require('../errors/AuthSdkError');\nvar builderUtil       = require('../builderUtil');\nvar constants         = require('../constants');\nvar cookies           = require('./browserStorage').storage;\nvar http              = require('../http');\nvar oauthUtil         = require('../oauthUtil');\nvar Q                 = require('q');\nvar session           = require('../session');\nvar token             = require('../token');\nvar TokenManager      = require('../TokenManager');\nvar tx                = require('../tx');\nvar util              = require('../util');\n\nfunction OktaAuthBuilder(args) {\n  var sdk = this;\n\n  var url = builderUtil.getValidUrl(args);\n  // OKTA-242989: support for grantType will be removed in 3.0 \n  var usePKCE = args.pkce || args.grantType === 'authorization_code';\n  this.options = {\n    url: util.removeTrailingSlash(url),\n    clientId: args.clientId,\n    issuer: util.removeTrailingSlash(args.issuer),\n    authorizeUrl: util.removeTrailingSlash(args.authorizeUrl),\n    userinfoUrl: util.removeTrailingSlash(args.userinfoUrl),\n    tokenUrl: util.removeTrailingSlash(args.tokenUrl),\n    revokeUrl: util.removeTrailingSlash(args.revokeUrl),\n    logoutUrl: util.removeTrailingSlash(args.logoutUrl),\n    pkce: usePKCE,\n    redirectUri: args.redirectUri,\n    postLogoutRedirectUri: args.postLogoutRedirectUri,\n    httpRequestClient: args.httpRequestClient,\n    storageUtil: args.storageUtil,\n    transformErrorXHR: args.transformErrorXHR,\n    headers: args.headers,\n    onSessionExpired: args.onSessionExpired,\n  };\n\n  if (this.options.pkce && !sdk.features.isPKCESupported()) {\n    var errorMessage = 'PKCE requires a modern browser with encryption support running in a secure context.';\n    if (!sdk.features.isHTTPS()) {\n      errorMessage += '\\nThe current page is not being served with HTTPS protocol. Try using HTTPS.';\n    }\n    if (!sdk.features.hasTextEncoder()) {\n      errorMessage += '\\n\"TextEncoder\" is not defined. You may need a polyfill/shim for this browser.';\n    }\n    throw new AuthSdkError(errorMessage);\n  }\n\n  this.userAgent = 'okta-auth-js-' + SDK_VERSION;\n\n  // Digital clocks will drift over time, so the server\n  // can misalign with the time reported by the browser.\n  // The maxClockSkew allows relaxing the time-based\n  // validation of tokens (in seconds, not milliseconds).\n  // It currently defaults to 300, because 5 min is the\n  // default maximum tolerance allowed by Kerberos.\n  // (https://technet.microsoft.com/en-us/library/cc976357.aspx)\n  if (!args.maxClockSkew && args.maxClockSkew !== 0) {\n    this.options.maxClockSkew = constants.DEFAULT_MAX_CLOCK_SKEW;\n  } else {\n    this.options.maxClockSkew = args.maxClockSkew;\n  }\n\n  // Give the developer the ability to disable token signature\n  // validation.\n  this.options.ignoreSignature = !!args.ignoreSignature;\n\n  sdk.session = {\n    close: util.bind(session.closeSession, null, sdk),\n    exists: util.bind(session.sessionExists, null, sdk),\n    get: util.bind(session.getSession, null, sdk),\n    refresh: util.bind(session.refreshSession, null, sdk),\n    setCookieAndRedirect: util.bind(session.setCookieAndRedirect, null, sdk)\n  };\n\n  sdk.tx = {\n    status: util.bind(tx.transactionStatus, null, sdk),\n    resume: util.bind(tx.resumeTransaction, null, sdk),\n    exists: util.bind(tx.transactionExists, null, sdk),\n    introspect: util.bind(tx.introspect, null, sdk)\n  };\n\n  // This is exposed so we can mock document.cookie in our tests\n  sdk.tx.exists._get = function(name) {\n    return cookies.get(name);\n  };\n\n  // This is exposed so we can mock window.location.href in our tests\n  sdk.idToken = {\n    authorize: {\n      _getLocationHref: function() {\n        return window.location.href;\n      }\n    }\n  };\n\n  sdk.token = {\n    getWithoutPrompt: util.bind(token.getWithoutPrompt, null, sdk),\n    getWithPopup: util.bind(token.getWithPopup, null, sdk),\n    getWithRedirect: util.bind(token.getWithRedirect, null, sdk),\n    parseFromUrl: util.bind(token.parseFromUrl, null, sdk),\n    decode: token.decodeToken,\n    revoke: util.bind(token.revokeToken, null, sdk),\n    renew: util.bind(token.renewToken, null, sdk),\n    getUserInfo: util.bind(token.getUserInfo, null, sdk),\n    verify: util.bind(token.verifyToken, null, sdk)\n  };\n\n  // This is exposed so we can set window.location in our tests\n  sdk.token.getWithRedirect._setLocation = function(url) {\n    window.location = url;\n  };\n\n  // This is exposed so we can mock getting window.history in our tests\n  sdk.token.parseFromUrl._getHistory = function() {\n    return window.history;\n  };\n\n  // This is exposed so we can mock getting window.location in our tests\n  sdk.token.parseFromUrl._getLocation = function() {\n    return window.location;\n  };\n\n  // This is exposed so we can mock getting window.document in our tests\n  sdk.token.parseFromUrl._getDocument = function() {\n    return window.document;\n  };\n\n  sdk.fingerprint._getUserAgent = function() {\n    return navigator.userAgent;\n  };\n\n  var isWindowsPhone = /windows phone|iemobile|wpdesktop/i;\n  sdk.features.isFingerprintSupported = function() {\n    var agent = sdk.fingerprint._getUserAgent();\n    return agent && !isWindowsPhone.test(agent);\n  };\n\n  sdk.emitter = new Emitter();\n  sdk.tokenManager = new TokenManager(sdk, args.tokenManager);\n  sdk.tokenManager.on('error', this._onTokenManagerError, this);\n}\n\nvar proto = OktaAuthBuilder.prototype;\nproto._onTokenManagerError = function(error) {\n  var code = error.errorCode;\n  if (code === 'login_required' && error.accessToken) {\n    if (this.options.onSessionExpired) {\n      this.options.onSessionExpired();\n    } else {\n      // eslint-disable-next-line no-console\n      console.error('Session has expired or was closed outside the application.');\n    }\n  }\n};\n\nproto.features = {};\n\nproto.features.isPopupPostMessageSupported = function() {\n  var isIE8or9 = document.documentMode && document.documentMode < 10;\n  if (window.postMessage && !isIE8or9) {\n    return true;\n  }\n  return false;\n};\n\nproto.features.isTokenVerifySupported = function() {\n  return typeof crypto !== 'undefined' && crypto.subtle && typeof Uint8Array !== 'undefined';\n};\n\nproto.features.hasTextEncoder = function() {\n  return typeof TextEncoder !== 'undefined';\n};\n\nproto.features.isPKCESupported = function() {\n  return proto.features.isTokenVerifySupported() && proto.features.hasTextEncoder();\n};\n\nproto.features.isHTTPS = function() {\n  return window.location.protocol === 'https:';\n};\n\n// { username, password, (relayState), (context) }\nproto.signIn = function (opts) {\n  var sdk = this;\n  opts = util.clone(opts || {});\n  function postToTransaction(options) {\n    delete opts.sendFingerprint;\n    return tx.postToTransaction(sdk, '/api/v1/authn', opts, options);\n  }\n  if (!opts.sendFingerprint) {\n    return postToTransaction();\n  }\n  return sdk.fingerprint()\n  .then(function(fingerprint) {\n    return postToTransaction({\n      headers: {\n        'X-Device-Fingerprint': fingerprint\n      }\n    });\n  });\n};\n\n// Ends the current application session, clearing all local tokens\n// Optionally revokes the access token\n// Ends the user's Okta session using the API or redirect method\nproto.signOut = function (options) {\n  options = util.extend({}, options);\n\n  // postLogoutRedirectUri must be whitelisted in Okta Admin UI\n  var postLogoutRedirectUri = options.postLogoutRedirectUri || this.options.postLogoutRedirectUri;\n\n  var accessToken = options.accessToken;\n  var revokeAccessToken = options.revokeAccessToken;\n  var idToken = options.idToken;\n\n  var sdk = this;\n  var logoutUrl = oauthUtil.getOAuthUrls(sdk).logoutUrl;\n\n  function getAccessToken() {\n    return new Q()\n    .then(function() {\n      if (revokeAccessToken && typeof accessToken === 'undefined') {\n        return sdk.tokenManager.get('token');\n      }\n      return accessToken;\n    });\n  }\n\n  function getIdToken() {\n    return new Q()\n    .then(function() {\n      if (postLogoutRedirectUri && typeof idToken === 'undefined') {\n        return sdk.tokenManager.get('idToken');\n      }\n      return idToken;\n    });\n  }\n\n  function closeSession() {\n    return sdk.session.close() // DELETE /api/v1/sessions/me\n    .catch(function(e) {\n      if (e.name === 'AuthApiError') {\n        // Most likely cause is session does not exist or has already been closed\n        // Could also be a network error. Nothing we can do here.\n        return;\n      }\n      throw e;\n    });\n  }\n\n  return Q.allSettled([getAccessToken(), getIdToken()])\n    .then(function(tokens) {\n      accessToken = tokens[0].value;\n      idToken = tokens[1].value;\n\n      // Clear all local tokens\n      sdk.tokenManager.clear();\n\n      if (revokeAccessToken && accessToken) {\n        return sdk.token.revoke(accessToken)\n        .catch(function(e) {\n          if (e.name === 'AuthApiError') {\n            // Capture and ignore network errors\n            return;\n          }\n          throw e;\n        });\n      }\n    })\n    .then(function() {\n      // XHR signOut method\n      if (!postLogoutRedirectUri) {\n        return closeSession();\n      }\n\n      // No idToken? This can happen if the storage was cleared.\n      // Fallback to XHR signOut, then redirect to the post logout uri\n      if (!idToken) {\n        return closeSession()\n        .catch(function(err) {\n          // eslint-disable-next-line no-console\n          console.log('Unhandled exception while closing session', err);\n        })\n        .then(function() {\n          window.location.assign(postLogoutRedirectUri);\n        });\n      }\n\n      // logout redirect using the idToken.\n      var state = options.state;\n      var idTokenHint = idToken.idToken; // a string\n      var logoutUri = logoutUrl + '?id_token_hint=' + encodeURIComponent(idTokenHint) +\n        '&post_logout_redirect_uri=' + encodeURIComponent(postLogoutRedirectUri);\n    \n      // State allows option parameters to be passed to logout redirect uri\n      if (state) {\n        logoutUri += '&state=' + encodeURIComponent(state);\n      }\n      \n      window.location.assign(logoutUri);\n    });\n};\n\nbuilderUtil.addSharedPrototypes(proto);\n\n// { resource, (rel), (requestContext)}\nproto.webfinger = function (opts) {\n  var url = '/.well-known/webfinger' + util.toQueryParams(opts);\n  var options = {\n    headers: {\n      'Accept': 'application/jrd+json'\n    }\n  };\n  return http.get(this, url, options);\n};\n\nproto.fingerprint = function(options) {\n  options = options || {};\n  var sdk = this;\n  if (!sdk.features.isFingerprintSupported()) {\n    return Q.reject(new AuthSdkError('Fingerprinting is not supported on this device'));\n  }\n\n  var deferred = Q.defer();\n\n  var iframe = document.createElement('iframe');\n  iframe.style.display = 'none';\n\n  function listener(e) {\n    if (!e || !e.data || e.origin !== sdk.options.url) {\n      return;\n    }\n\n    try {\n      var msg = JSON.parse(e.data);\n    } catch (err) {\n      return deferred.reject(new AuthSdkError('Unable to parse iframe response'));\n    }\n\n    if (!msg) { return; }\n    if (msg.type === 'FingerprintAvailable') {\n      return deferred.resolve(msg.fingerprint);\n    }\n    if (msg.type === 'FingerprintServiceReady') {\n      e.source.postMessage(JSON.stringify({\n        type: 'GetFingerprint'\n      }), e.origin);\n    }\n  }\n  oauthUtil.addListener(window, 'message', listener);\n\n  iframe.src = sdk.options.url + '/auth/services/devicefingerprint';\n  document.body.appendChild(iframe);\n\n  var timeout = setTimeout(function() {\n    deferred.reject(new AuthSdkError('Fingerprinting timed out'));\n  }, options.timeout || 15000);\n\n  return deferred.promise.fin(function() {\n    clearTimeout(timeout);\n    oauthUtil.removeListener(window, 'message', listener);\n    if (document.body.contains(iframe)) {\n      iframe.parentElement.removeChild(iframe);\n    }\n  });\n};\n\nmodule.exports = builderUtil.buildOktaAuth(OktaAuthBuilder);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/browser/browser.js\n// module id = 15\n// module chunks = 0","/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nrequire('Base64');\n\n// Production steps of ECMA-262, Edition 5, 15.4.4.14\n// Reference: http://es5.github.io/#x15.4.4.14\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf#Polyfill\nif (!Array.prototype.indexOf) {\n  Array.prototype.indexOf = function(searchElement, fromIndex) {\n\n    var k;\n\n    // 1. Let o be the result of calling ToObject passing\n    //    the this value as the argument.\n    if (this == null) {\n      throw new TypeError('\"this\" is null or not defined');\n    }\n\n    var o = Object(this);\n\n    // 2. Let lenValue be the result of calling the Get\n    //    internal method of o with the argument \"length\".\n    // 3. Let len be ToUint32(lenValue).\n    var len = o.length >>> 0;\n\n    // 4. If len is 0, return -1.\n    if (len === 0) {\n      return -1;\n    }\n\n    // 5. If argument fromIndex was passed let n be\n    //    ToInteger(fromIndex); else let n be 0.\n    var n = +fromIndex || 0;\n\n    if (Math.abs(n) === Infinity) {\n      n = 0;\n    }\n\n    // 6. If n >= len, return -1.\n    if (n >= len) {\n      return -1;\n    }\n\n    // 7. If n >= 0, then Let k be n.\n    // 8. Else, n<0, Let k be len - abs(n).\n    //    If k is less than 0, then let k be 0.\n    k = Math.max(n >= 0 ? n : len - Math.abs(n), 0);\n\n    // 9. Repeat, while k < len\n    while (k < len) {\n      // a. Let Pk be ToString(k).\n      //   This is implicit for LHS operands of the in operator\n      // b. Let kPresent be the result of calling the\n      //    HasProperty internal method of o with argument Pk.\n      //   This step can be combined with c\n      // c. If kPresent is true, then\n      //    i.  Let elementK be the result of calling the Get\n      //        internal method of o with the argument ToString(k).\n      //   ii.  Let same be the result of applying the\n      //        Strict Equality Comparison Algorithm to\n      //        searchElement and elementK.\n      //  iii.  If same is true, return k.\n      if (k in o && o[k] === searchElement) {\n        return k;\n      }\n      k++;\n    }\n    return -1;\n  };\n}\n\nif (!Array.isArray) {\n  Array.isArray = function(obj) {\n    return Object.prototype.toString.call(obj) === '[object Array]';\n  };\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/vendor/polyfills.js\n// module id = 16\n// module chunks = 0",";(function () {\n\n  var object = typeof exports != 'undefined' ? exports : this; // #8: web workers\n  var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\n  function InvalidCharacterError(message) {\n    this.message = message;\n  }\n  InvalidCharacterError.prototype = new Error;\n  InvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\n  // encoder\n  // [https://gist.github.com/999166] by [https://github.com/nignag]\n  object.btoa || (\n  object.btoa = function (input) {\n    var str = String(input);\n    for (\n      // initialize result and counter\n      var block, charCode, idx = 0, map = chars, output = '';\n      // if the next str index does not exist:\n      //   change the mapping table to \"=\"\n      //   check if d has no fractional digits\n      str.charAt(idx | 0) || (map = '=', idx % 1);\n      // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n      output += map.charAt(63 & block >> 8 - idx % 1 * 8)\n    ) {\n      charCode = str.charCodeAt(idx += 3/4);\n      if (charCode > 0xFF) {\n        throw new InvalidCharacterError(\"'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.\");\n      }\n      block = block << 8 | charCode;\n    }\n    return output;\n  });\n\n  // decoder\n  // [https://gist.github.com/1020396] by [https://github.com/atk]\n  object.atob || (\n  object.atob = function (input) {\n    var str = String(input).replace(/=+$/, '');\n    if (str.length % 4 == 1) {\n      throw new InvalidCharacterError(\"'atob' failed: The string to be decoded is not correctly encoded.\");\n    }\n    for (\n      // initialize result and counters\n      var bc = 0, bs, buffer, idx = 0, output = '';\n      // get next character\n      buffer = str.charAt(idx++);\n      // character found in table? initialize bit storage and add its ascii value;\n      ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer,\n        // and if not first of each 4 characters,\n        // convert the first 8 bits to one ascii character\n        bc++ % 4) ? output += String.fromCharCode(255 & bs >> (-2 * bc & 6)) : 0\n    ) {\n      // try to find character in table (0-63, not found => -1)\n      buffer = chars.indexOf(buffer);\n    }\n    return output;\n  });\n\n}());\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /root/okta/okta-auth-js/node_modules/Base64/base64.js\n// module id = 17\n// module chunks = 0","function E () {\n  // Keep this empty so it's easier to inherit from\n  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n}\n\nE.prototype = {\n  on: function (name, callback, ctx) {\n    var e = this.e || (this.e = {});\n\n    (e[name] || (e[name] = [])).push({\n      fn: callback,\n      ctx: ctx\n    });\n\n    return this;\n  },\n\n  once: function (name, callback, ctx) {\n    var self = this;\n    function listener () {\n      self.off(name, listener);\n      callback.apply(ctx, arguments);\n    };\n\n    listener._ = callback\n    return this.on(name, listener, ctx);\n  },\n\n  emit: function (name) {\n    var data = [].slice.call(arguments, 1);\n    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n    var i = 0;\n    var len = evtArr.length;\n\n    for (i; i < len; i++) {\n      evtArr[i].fn.apply(evtArr[i].ctx, data);\n    }\n\n    return this;\n  },\n\n  off: function (name, callback) {\n    var e = this.e || (this.e = {});\n    var evts = e[name];\n    var liveEvents = [];\n\n    if (evts && callback) {\n      for (var i = 0, len = evts.length; i < len; i++) {\n        if (evts[i].fn !== callback && evts[i].fn._ !== callback)\n          liveEvents.push(evts[i]);\n      }\n    }\n\n    // Remove event from queue to prevent memory leak\n    // Suggested by https://github.com/lazd\n    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\n    (liveEvents.length)\n      ? e[name] = liveEvents\n      : delete e[name];\n\n    return this;\n  }\n};\n\nmodule.exports = E;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /root/okta/okta-auth-js/node_modules/tiny-emitter/index.js\n// module id = 18\n// module chunks = 0","/*!\n * Copyright (c) 2018-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nvar AuthSdkError = require('./errors/AuthSdkError');\nvar tx = require('./tx');\nvar util = require('./util');\n\nfunction getValidUrl(args) {\n  if (!args) {\n    throw new AuthSdkError('No arguments passed to constructor. ' +\n      'Required usage: new OktaAuth(args)');\n  }\n\n  var url = args.url;\n  if (!url) {\n    var isUrlRegex = new RegExp('^http?s?://.+');\n    if (args.issuer && isUrlRegex.test(args.issuer)) {\n      // Infer the URL from the issuer URL, omitting the /oauth2/{authServerId}\n      url = args.issuer.split('/oauth2/')[0];\n    } else {\n      throw new AuthSdkError('No url passed to constructor. ' +\n      'Required usage: new OktaAuth({url: \"https://{yourOktaDomain}.com\"})');\n    }\n  }\n\n  if (url.indexOf('-admin.') !== -1) {\n    throw new AuthSdkError('URL passed to constructor contains \"-admin\" in subdomain. ' +\n      'Required usage: new OktaAuth({url: \"https://{yourOktaDomain}.com})');\n  }\n\n  return url;\n}\n\nfunction addSharedPrototypes(proto) {\n  // { username, (relayState) }\n  proto.forgotPassword = function (opts) {\n    return tx.postToTransaction(this, '/api/v1/authn/recovery/password', opts);\n  };\n\n  // { username, (relayState) }\n  proto.unlockAccount = function (opts) {\n    return tx.postToTransaction(this, '/api/v1/authn/recovery/unlock', opts);\n  };\n\n  // { recoveryToken }\n  proto.verifyRecoveryToken = function (opts) {\n    return tx.postToTransaction(this, '/api/v1/authn/recovery/token', opts);\n  };\n}\n\nfunction buildOktaAuth(OktaAuthBuilder) {\n  return function(storageUtil, httpRequestClient) {\n    function OktaAuth(args) {\n      if (!(this instanceof OktaAuth)) {\n        return new OktaAuth(args);\n      }\n\n      if (args) {\n        args.storageUtil = storageUtil;\n\n        if (args.ajaxRequest) {\n          util.deprecate('ajaxRequest is being deprecated, use httpRequestClient attribute instead.');\n          args.httpRequestClient = args.ajaxRequest;\n        } else if (!args.httpRequestClient) {\n          args.httpRequestClient = httpRequestClient;\n        }\n      }\n\n      util.bind(OktaAuthBuilder, this)(args);\n    }\n    OktaAuth.prototype = OktaAuthBuilder.prototype;\n    OktaAuth.prototype.constructor = OktaAuth;\n\n    // Hoist feature detection functions to static type\n    OktaAuth.features = OktaAuthBuilder.prototype.features;\n\n    return OktaAuth;\n  };\n}\n\nmodule.exports = {\n  addSharedPrototypes: addSharedPrototypes,\n  buildOktaAuth: buildOktaAuth,\n  getValidUrl: getValidUrl\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/builderUtil.js\n// module id = 19\n// module chunks = 0","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /root/okta/okta-auth-js/node_modules/timers-browserify/main.js\n// module id = 20\n// module chunks = 0","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 68\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /root/okta/okta-auth-js/node_modules/setimmediate/setImmediate.js\n// module id = 21\n// module chunks = 0","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nfunction AuthApiError(err, xhr) {\n  this.name = 'AuthApiError';\n  this.message = err.errorSummary;\n  this.errorSummary = err.errorSummary;\n  this.errorCode = err.errorCode;\n  this.errorLink = err.errorLink;\n  this.errorId = err.errorId;\n  this.errorCauses = err.errorCauses;\n\n  if (xhr) {\n    this.xhr = xhr;\n  }\n}\nAuthApiError.prototype = new Error();\n\nmodule.exports = AuthApiError;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/errors/AuthApiError.js\n// module id = 22\n// module chunks = 0","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nfunction AuthPollStopError() {\n  this.name = 'AuthPollStopError';\n  this.message = 'The poll was stopped by the sdk';\n}\nAuthPollStopError.prototype = new Error();\n\nmodule.exports = AuthPollStopError;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/errors/AuthPollStopError.js\n// module id = 23\n// module chunks = 0","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\nvar util = require('./util');\nvar http = require('./http');\n\nfunction sessionExists(sdk) {\n  return sdk.session.get()\n    .then(function(res) {\n      if (res.status === 'ACTIVE') {\n        return true;\n      }\n      return false;\n    })\n    .fail(function() {\n      return false;\n    });\n}\n\nfunction getSession(sdk) { \n  return http.get(sdk, '/api/v1/sessions/me')\n  .then(function(session) {\n    var res = util.omit(session, '_links');\n\n    res.refresh = function() {\n      return http.post(sdk, util.getLink(session, 'refresh').href);\n    };\n\n    res.user = function() {\n      return http.get(sdk, util.getLink(session, 'user').href);\n    };\n\n    return res;\n  })\n  .fail(function() {\n    // Return INACTIVE status on failure\n    return {status: 'INACTIVE'};\n  });\n}\n\nfunction closeSession(sdk) {\n  return http.httpRequest(sdk, {\n    url: sdk.options.url + '/api/v1/sessions/me',\n    method: 'DELETE'\n  });\n}\n\nfunction refreshSession(sdk) {\n  return http.post(sdk, '/api/v1/sessions/me/lifecycle/refresh');\n}\n\nfunction setCookieAndRedirect(sdk, sessionToken, redirectUrl) {\n  redirectUrl = redirectUrl || window.location.href;\n  window.location = sdk.options.url + '/login/sessionCookieRedirect' +\n    util.toQueryParams({\n      checkAccountSetupComplete: true,\n      token: sessionToken,\n      redirectUrl: redirectUrl\n    });\n}\n\nmodule.exports = {\n  sessionExists: sessionExists,\n  getSession: getSession,\n  closeSession: closeSession,\n  refreshSession: refreshSession,\n  setCookieAndRedirect: setCookieAndRedirect\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/session.js\n// module id = 24\n// module chunks = 0","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* eslint-disable complexity, max-statements */\nvar http          = require('./http');\nvar util          = require('./util');\nvar oauthUtil     = require('./oauthUtil');\nvar Q             = require('q');\nvar sdkCrypto     = require('./crypto');\nvar AuthSdkError  = require('./errors/AuthSdkError');\nvar OAuthError    = require('./errors/OAuthError');\nvar constants     = require('./constants');\nvar cookies       = require('./browser/browserStorage').storage;\nvar PKCE          = require('./pkce');\n\n// Only the access token can be revoked in SPA applications\nfunction revokeToken(sdk, token) {\n  return new Q()\n  .then(function() {\n    if (!token || !token.accessToken) {\n      throw new AuthSdkError('A valid access token object is required');\n    }\n    var clientId = sdk.options.clientId;\n    if (!clientId) {\n      throw new AuthSdkError('A clientId must be specified in the OktaAuth constructor to revoke a token');\n    }\n    var revokeUrl = oauthUtil.getOAuthUrls(sdk).revokeUrl;\n    var accessToken = token.accessToken;\n    var args = util.toQueryParams({\n      // eslint-disable-next-line camelcase\n      token_type_hint: 'access_token',\n      token: accessToken\n    }).slice(1);\n    var creds = btoa(clientId);\n    return http.post(sdk, revokeUrl, args, {\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n        'Authorization': 'Basic ' + creds\n      }\n    });\n  });\n}\n\nfunction decodeToken(token) {\n  var jwt = token.split('.');\n  var decodedToken;\n\n  try {\n    decodedToken = {\n      header: JSON.parse(util.base64UrlToString(jwt[0])),\n      payload: JSON.parse(util.base64UrlToString(jwt[1])),\n      signature: jwt[2]\n    };\n  } catch(e) {\n    throw new AuthSdkError('Malformed token');\n  }\n\n  return decodedToken;\n}\n\n// Verify the id token\nfunction verifyToken(sdk, token, validationParams) {\n  return new Q()\n  .then(function() {\n    if (!token || !token.idToken) {\n      throw new AuthSdkError('Only idTokens may be verified');\n    }\n\n    var jwt = decodeToken(token.idToken);\n\n    var validationOptions = {\n      clientId: sdk.options.clientId,\n      issuer: sdk.options.issuer || sdk.options.url,\n      ignoreSignature: sdk.options.ignoreSignature\n    };\n\n    util.extend(validationOptions, validationParams);\n\n    // Standard claim validation\n    oauthUtil.validateClaims(sdk, jwt.payload, validationOptions);\n\n    // If the browser doesn't support native crypto or we choose not\n    // to verify the signature, bail early\n    if (validationOptions.ignoreSignature == true || !sdk.features.isTokenVerifySupported()) {\n      return token;\n    }\n\n    return oauthUtil.getKey(sdk, token.issuer, jwt.header.kid)\n    .then(function(key) {\n      return sdkCrypto.verifyToken(token.idToken, key);\n    })\n    .then(function(valid) {\n      if (!valid) {\n        throw new AuthSdkError('The token signature is not valid');\n      }\n      return token;\n    });\n  });\n}\n\nfunction addPostMessageListener(sdk, timeout, state) {\n  var deferred = Q.defer();\n\n  function responseHandler(e) {\n    if (!e.data || e.data.state !== state) {\n      // A message not meant for us\n      return;\n    }\n\n    // Configuration mismatch between saved token and current app instance\n    // This may happen if apps with different issuers are running on the same host url\n    // If they share the same storage key, they may read and write tokens in the same location.\n    // Common when developing against http://localhost\n    if (e.origin !== sdk.options.url) {\n      return deferred.reject(new AuthSdkError('The request does not match client configuration'));\n    }\n\n    deferred.resolve(e.data);\n  }\n\n  oauthUtil.addListener(window, 'message', responseHandler);\n\n  return deferred.promise.timeout(timeout || 120000, new AuthSdkError('OAuth flow timed out'))\n    .fin(function() {\n      oauthUtil.removeListener(window, 'message', responseHandler);\n    });\n}\n\nfunction addFragmentListener(sdk, windowEl, timeout) {\n  var deferred = Q.defer();\n\n  function hashChangeHandler() {\n    /*\n      We are only able to access window.location.hash on a window\n      that has the same domain. A try/catch is necessary because\n      there's no other way to determine that the popup is in\n      another domain. When we try to access a window on another\n      domain, an error is thrown.\n    */\n    try {\n      if (windowEl &&\n          windowEl.location &&\n          windowEl.location.hash) {\n        deferred.resolve(oauthUtil.hashToObject(windowEl.location.hash));\n      } else if (windowEl && !windowEl.closed) {\n        setTimeout(hashChangeHandler, 500);\n      }\n    } catch (err) {\n      setTimeout(hashChangeHandler, 500);\n    }\n  }\n\n  hashChangeHandler();\n\n  return deferred.promise.timeout(timeout || 120000, new AuthSdkError('OAuth flow timed out'));\n}\n\nfunction exchangeCodeForToken(sdk, oauthParams, authorizationCode, urls) {\n  // PKCE authorization_code flow\n  // Retrieve saved values and build oauthParams for call to /token\n  var meta = PKCE.loadMeta(sdk);\n  var getTokenParams = {\n    clientId: oauthParams.clientId,\n    authorizationCode: authorizationCode,\n    codeVerifier: meta.codeVerifier,\n    redirectUri: meta.redirectUri\n  };\n  return PKCE.getToken(sdk, getTokenParams, urls)\n  .then(function(res) {\n    validateResponse(res, getTokenParams);\n    return res;\n  })\n  .fin(function() {\n    PKCE.clearMeta(sdk);\n  });\n}\n\nfunction validateResponse(res, oauthParams) {\n  if (res['error'] || res['error_description']) {\n    throw new OAuthError(res['error'], res['error_description']);\n  }\n\n  if (res.state !== oauthParams.state) {\n    throw new AuthSdkError('OAuth flow response state doesn\\'t match request state');\n  }\n}\n\nfunction handleOAuthResponse(sdk, oauthParams, res, urls) {\n  urls = urls || {};\n\n  var responseType = oauthParams.responseType;\n  var scopes = util.clone(oauthParams.scopes);\n  var clientId = oauthParams.clientId || sdk.options.clientId;\n\n  return new Q()\n  .then(function() {\n    validateResponse(res, oauthParams);\n\n    // We do not support \"hybrid\" scenarios where the response includes both a code and a token.\n    // If the response contains a code it is used immediately to obtain new tokens.\n    if (res['code']) {\n      responseType = ['token', 'id_token']; // what we expect the code to provide us\n      return exchangeCodeForToken(sdk, oauthParams, res['code'], urls);\n    }\n    return res;\n  }).then(function(res) {\n    var tokenDict = {};\n\n    if (res['access_token']) {\n      tokenDict['token'] = {\n        accessToken: res['access_token'],\n        expiresAt: Number(res['expires_in']) + Math.floor(Date.now()/1000),\n        tokenType: res['token_type'],\n        scopes: scopes,\n        authorizeUrl: urls.authorizeUrl,\n        userinfoUrl: urls.userinfoUrl\n      };\n    }\n\n    if (res['id_token']) {\n      var jwt = sdk.token.decode(res['id_token']);\n\n      var idToken = {\n        idToken: res['id_token'],\n        claims: jwt.payload,\n        expiresAt: jwt.payload.exp,\n        scopes: scopes,\n        authorizeUrl: urls.authorizeUrl,\n        issuer: urls.issuer,\n        clientId: clientId\n      };\n\n      var validationParams = {\n        clientId: clientId,\n        issuer: urls.issuer,\n        nonce: oauthParams.nonce\n      };\n\n      if (oauthParams.ignoreSignature !== undefined) {\n        validationParams.ignoreSignature = oauthParams.ignoreSignature;\n      }\n\n      return verifyToken(sdk, idToken, validationParams)\n      .then(function() {\n        tokenDict['id_token'] = idToken;\n        return tokenDict;\n      });\n    }\n\n    return tokenDict;\n  })\n  .then(function(tokenDict) {\n    if (!Array.isArray(responseType)) {\n      return tokenDict[responseType];\n    }\n\n    // Validate response against tokenTypes\n    var validateTokenTypes =  ['token', 'id_token'];\n    validateTokenTypes.filter(function(key) {\n      return (responseType.indexOf(key) !== -1);\n    }).forEach(function(key) {\n      if (!tokenDict[key]) {\n        throw new AuthSdkError('Unable to parse OAuth flow response: ' + key + ' was not returned.');\n      }     \n    });\n\n    // Create token array in the order of the responseType array\n    return responseType.map(function(item) {\n      return tokenDict[item];\n    });\n  });\n}\n\nfunction getDefaultOAuthParams(sdk) {\n  return {\n    pkce: sdk.options.pkce || false,\n    clientId: sdk.options.clientId,\n    redirectUri: sdk.options.redirectUri || window.location.href,\n    responseType: 'id_token',\n    responseMode: 'okta_post_message',\n    state: oauthUtil.generateState(),\n    nonce: oauthUtil.generateNonce(),\n    scopes: ['openid', 'email'],\n    ignoreSignature: sdk.options.ignoreSignature\n  };\n}\n\nfunction convertOAuthParamsToQueryParams(oauthParams) {\n  // Quick validation\n  if (!oauthParams.clientId) {\n    throw new AuthSdkError('A clientId must be specified in the OktaAuth constructor to get a token');\n  }\n\n  if (util.isString(oauthParams.responseType) && oauthParams.responseType.indexOf(' ') !== -1) {\n    throw new AuthSdkError('Multiple OAuth responseTypes must be defined as an array');\n  }\n\n  // Convert our params to their actual OAuth equivalents\n  var oauthQueryParams = util.removeNils({\n    'client_id': oauthParams.clientId,\n    'code_challenge': oauthParams.codeChallenge,\n    'code_challenge_method': oauthParams.codeChallengeMethod,\n    'display': oauthParams.display,\n    'idp': oauthParams.idp,\n    'idp_scope': oauthParams.idpScope,\n    'login_hint': oauthParams.loginHint,\n    'max_age': oauthParams.maxAge,\n    'nonce': oauthParams.nonce,\n    'prompt': oauthParams.prompt,\n    'redirect_uri': oauthParams.redirectUri,\n    'response_mode': oauthParams.responseMode,\n    'response_type': oauthParams.responseType,\n    'sessionToken': oauthParams.sessionToken,\n    'state': oauthParams.state,\n  });\n\n  ['idp_scope', 'response_type'].forEach( function( mayBeArray ) { \n    if (Array.isArray(oauthQueryParams[mayBeArray])) {\n      oauthQueryParams[mayBeArray] = oauthQueryParams[mayBeArray].join(' ');\n    }\n  });\n\n  if (oauthParams.responseType.indexOf('id_token') !== -1 &&\n      oauthParams.scopes.indexOf('openid') === -1) {\n    throw new AuthSdkError('openid scope must be specified in the scopes argument when requesting an id_token');\n  } else {\n    oauthQueryParams.scope = oauthParams.scopes.join(' ');\n  }\n\n  return oauthQueryParams;\n}\n\nfunction buildAuthorizeParams(oauthParams) {\n  var oauthQueryParams = convertOAuthParamsToQueryParams(oauthParams);\n  return util.toQueryParams(oauthQueryParams);\n}\n\n/*\n * Retrieve an idToken from an Okta or a third party idp\n *\n * Two main flows:\n *\n *  1) Exchange a sessionToken for a token\n *\n *    Required:\n *      clientId: passed via the OktaAuth constructor or into getToken\n *      sessionToken: 'yourtoken'\n *\n *    Optional:\n *      redirectUri: defaults to window.location.href\n *      scopes: defaults to ['openid', 'email']\n *\n *    Forced:\n *      prompt: 'none'\n *      responseMode: 'okta_post_message'\n *      display: undefined\n *\n *  2) Get a token from an idp\n *\n *    Required:\n *      clientId: passed via the OktaAuth constructor or into getToken\n *\n *    Optional:\n *      redirectUri: defaults to window.location.href\n *      scopes: defaults to ['openid', 'email']\n *      idp: defaults to Okta as an idp\n *      prompt: no default. Pass 'none' to throw an error if user is not signed in\n *\n *    Forced:\n *      display: 'popup'\n *\n *  Only common optional params shown. Any OAuth parameters not explicitly forced are available to override\n *\n * @param {Object} oauthOptions\n * @param {String} [oauthOptions.clientId] ID of this client\n * @param {String} [oauthOptions.redirectUri] URI that the iframe or popup will go to once authenticated\n * @param {String[]} [oauthOptions.scopes] OAuth 2.0 scopes to request (openid must be specified)\n * @param {String} [oauthOptions.idp] ID of an external IdP to use for user authentication\n * @param {String} [oauthOptions.sessionToken] Bootstrap Session Token returned by the Okta Authentication API\n * @param {String} [oauthOptions.prompt] Determines whether the Okta login will be displayed on failure.\n *                                       Use 'none' to prevent this behavior\n *\n * @param {Object} options\n * @param {Integer} [options.timeout] Time in ms before the flow is automatically terminated. Defaults to 120000\n * @param {String} [options.popupTitle] Title dispayed in the popup.\n *                                      Defaults to 'External Identity Provider User Authentication'\n */\nfunction getToken(sdk, oauthOptions, options) {\n  oauthOptions = oauthOptions || {};\n  options = options || {};\n\n  return prepareOauthParams(sdk, oauthOptions)\n  .then(function(oauthParams) {\n\n    // Start overriding any options that don't make sense\n    var sessionTokenOverrides = {\n      prompt: 'none',\n      responseMode: 'okta_post_message',\n      display: null\n    };\n\n    var idpOverrides = {\n      display: 'popup'\n    };\n\n    if (oauthOptions.sessionToken) {\n      util.extend(oauthParams, sessionTokenOverrides);\n    } else if (oauthOptions.idp) {\n      util.extend(oauthParams, idpOverrides);\n    }\n\n    // Use the query params to build the authorize url\n    var requestUrl,\n        endpoint,\n        urls;\n    try {\n      // Get authorizeUrl and issuer\n      urls = oauthUtil.getOAuthUrls(sdk, oauthParams, options);\n      endpoint = oauthOptions.codeVerifier ? urls.tokenUrl : urls.authorizeUrl;\n      requestUrl = endpoint + buildAuthorizeParams(oauthParams);\n    } catch (e) {\n      return Q.reject(e);\n    }\n\n    // Determine the flow type\n    var flowType;\n    if (oauthParams.sessionToken || oauthParams.display === null) {\n      flowType = 'IFRAME';\n    } else if (oauthParams.display === 'popup') {\n      flowType = 'POPUP';\n    } else {\n      flowType = 'IMPLICIT';\n    }\n\n    function getOrigin(url) {\n      /* eslint-disable-next-line no-useless-escape */\n      var originRegex = /^(https?\\:\\/\\/)?([^:\\/?#]*(?:\\:[0-9]+)?)/;\n      return originRegex.exec(url)[0];\n    }\n\n    // Execute the flow type\n    switch (flowType) {\n      case 'IFRAME':\n        var iframePromise = addPostMessageListener(sdk, options.timeout, oauthParams.state);\n        var iframeEl = oauthUtil.loadFrame(requestUrl);\n        return iframePromise\n          .then(function(res) {\n            return handleOAuthResponse(sdk, oauthParams, res, urls);\n          })\n          .fin(function() {\n            if (document.body.contains(iframeEl)) {\n              iframeEl.parentElement.removeChild(iframeEl);\n            }\n          });\n\n      case 'POPUP': // eslint-disable-line no-case-declarations\n        var popupPromise;\n\n        // Add listener on postMessage before window creation, so\n        // postMessage isn't triggered before we're listening\n        if (oauthParams.responseMode === 'okta_post_message') {\n          if (!sdk.features.isPopupPostMessageSupported()) {\n            return Q.reject(new AuthSdkError('This browser doesn\\'t have full postMessage support'));\n          }\n          popupPromise = addPostMessageListener(sdk, options.timeout, oauthParams.state);\n        }\n\n        // Create the window\n        var windowOptions = {\n          popupTitle: options.popupTitle\n        };\n        var windowEl = oauthUtil.loadPopup(requestUrl, windowOptions);\n\n        // Poll until we get a valid hash fragment\n        if (oauthParams.responseMode === 'fragment') {\n          var windowOrigin = getOrigin(sdk.idToken.authorize._getLocationHref());\n          var redirectUriOrigin = getOrigin(oauthParams.redirectUri);\n          if (windowOrigin !== redirectUriOrigin) {\n            return Q.reject(new AuthSdkError('Using fragment, the redirectUri origin (' + redirectUriOrigin +\n              ') must match the origin of this page (' + windowOrigin + ')'));\n          }\n          popupPromise = addFragmentListener(sdk, windowEl, options.timeout);\n        }\n\n        // Both postMessage and fragment require a poll to see if the popup closed\n        var popupDeferred = Q.defer();\n        /* eslint-disable-next-line no-case-declarations, no-inner-declarations */\n        function hasClosed(win) {\n          if (!win || win.closed) {\n            popupDeferred.reject(new AuthSdkError('Unable to parse OAuth flow response'));\n            return true;\n          }\n        }\n        var closePoller = setInterval(function() {\n          if (hasClosed(windowEl)) {\n            clearInterval(closePoller);\n          }\n        }, 500);\n\n        // Proxy the promise results into the deferred\n        popupPromise\n        .then(function(res) {\n          popupDeferred.resolve(res);\n        })\n        .fail(function(err) {\n          popupDeferred.reject(err);\n        });\n\n        return popupDeferred.promise\n          .then(function(res) {\n            return handleOAuthResponse(sdk, oauthParams, res, urls);\n          })\n          .fin(function() {\n            clearInterval(closePoller);\n            if (windowEl && !windowEl.closed) {\n              windowEl.close();\n            }\n          });\n\n      default:\n        return Q.reject(new AuthSdkError('The full page redirect flow is not supported'));\n    }\n  });\n}\n\nfunction getWithoutPrompt(sdk, oauthOptions, options) {\n  var oauthParams = util.clone(oauthOptions) || {};\n  util.extend(oauthParams, {\n    prompt: 'none',\n    responseMode: 'okta_post_message',\n    display: null\n  });\n  return getToken(sdk, oauthParams, options);\n}\n\nfunction getWithPopup(sdk, oauthOptions, options) {\n  var oauthParams = util.clone(oauthOptions) || {};\n  util.extend(oauthParams, {\n    display: 'popup',\n    responseMode: 'okta_post_message'\n  });\n  return getToken(sdk, oauthParams, options);\n}\n\nfunction prepareOauthParams(sdk, oauthOptions) {\n  // clone and prepare options\n  oauthOptions = util.clone(oauthOptions) || {};\n\n  // OKTA-242989: support for grantType will be removed in 3.0 \n  if (oauthOptions.grantType === 'authorization_code') {\n    oauthOptions.pkce = true;\n  }\n\n  // build params using defaults + options\n  var oauthParams = getDefaultOAuthParams(sdk);\n  util.extend(oauthParams, oauthOptions);\n\n  if (oauthParams.pkce !== true) {\n    return Q.resolve(oauthParams);\n  }\n\n  // PKCE flow\n  if (!sdk.features.isPKCESupported()) {\n    return Q.reject(new AuthSdkError('This browser doesn\\'t support PKCE'));\n  }\n\n  // set default code challenge method, if none provided\n  if (!oauthParams.codeChallengeMethod) {\n    oauthParams.codeChallengeMethod = PKCE.DEFAULT_CODE_CHALLENGE_METHOD;\n  }\n\n  // responseType is forced\n  oauthParams.responseType = 'code';\n\n  return oauthUtil.getWellKnown(sdk, null)\n    .then(function(res) {\n      var methods = res['code_challenge_methods_supported'] || [];\n      if (methods.indexOf(oauthParams.codeChallengeMethod) === -1) {\n        throw new AuthSdkError('Invalid code_challenge_method');\n      }\n    })\n    .then(function() {\n      // PKCE authorization_code flow\n      var codeVerifier = PKCE.generateVerifier(oauthParams.codeVerifier);\n\n      // We will need these values after redirect when we call /token\n      var meta = {\n        codeVerifier: codeVerifier,\n        redirectUri: oauthParams.redirectUri\n      };\n      PKCE.saveMeta(sdk, meta);\n\n      return PKCE.computeChallenge(codeVerifier);\n    })\n    .then(function(codeChallenge) {\n\n      // Clone/copy the params. Set codeChallenge\n      var clonedParams = util.clone(oauthParams) || {};\n      util.extend(clonedParams, oauthParams, {\n        codeChallenge: codeChallenge,\n      });\n      return clonedParams;\n    });\n}\n\nfunction getWithRedirect(sdk, oauthOptions, options) {\n  oauthOptions = util.clone(oauthOptions) || {};\n\n  return prepareOauthParams(sdk, oauthOptions)\n    .then(function(oauthParams) {\n\n      // Dynamically set the responseMode unless the user has provided one\n      // Server-side flow requires query. Client-side apps usually prefer fragment.\n      if (!oauthOptions.responseMode) {\n        if (oauthParams.responseType.includes('code') && !oauthParams.pkce) {\n          // server-side flows using authorization_code\n          oauthParams.responseMode = 'query';\n        } else {\n          // general case, client-side flow.\n          oauthParams.responseMode = 'fragment';\n        }\n      }\n\n      var urls = oauthUtil.getOAuthUrls(sdk, oauthParams, options);\n      var requestUrl = urls.authorizeUrl + buildAuthorizeParams(oauthParams);\n\n      // Set session cookie to store the oauthParams\n      cookies.set(constants.REDIRECT_OAUTH_PARAMS_COOKIE_NAME, JSON.stringify({\n        responseType: oauthParams.responseType,\n        state: oauthParams.state,\n        nonce: oauthParams.nonce,\n        scopes: oauthParams.scopes,\n        clientId: oauthParams.clientId,\n        urls: urls,\n        ignoreSignature: oauthParams.ignoreSignature\n      }));\n\n      // Set nonce cookie for servers to validate nonce in id_token\n      cookies.set(constants.REDIRECT_NONCE_COOKIE_NAME, oauthParams.nonce);\n\n      // Set state cookie for servers to validate state\n      cookies.set(constants.REDIRECT_STATE_COOKIE_NAME, oauthParams.state);\n\n      sdk.token.getWithRedirect._setLocation(requestUrl);\n    });\n}\n\nfunction renewToken(sdk, token) {\n  if (!oauthUtil.isToken(token)) {\n    return Q.reject(new AuthSdkError('Renew must be passed a token with ' +\n      'an array of scopes and an accessToken or idToken'));\n  }\n\n  var responseType;\n  if (sdk.options.pkce) {\n    responseType = 'code';\n  } else if (token.accessToken) {\n    responseType = 'token';\n  } else {\n    responseType = 'id_token';\n  }\n\n  return sdk.token.getWithoutPrompt({\n    responseType: responseType,\n    scopes: token.scopes\n  }, {\n    authorizeUrl: token.authorizeUrl,\n    userinfoUrl: token.userinfoUrl,\n    issuer: token.issuer\n  });\n}\n\nfunction removeHash(sdk) {\n  var nativeHistory = sdk.token.parseFromUrl._getHistory();\n  var nativeDoc = sdk.token.parseFromUrl._getDocument();\n  var nativeLoc = sdk.token.parseFromUrl._getLocation();\n  if (nativeHistory && nativeHistory.replaceState) {\n    nativeHistory.replaceState(null, nativeDoc.title, nativeLoc.pathname + nativeLoc.search);\n  } else {\n    nativeLoc.hash = '';\n  }\n}\n\nfunction parseFromUrl(sdk, url) {\n  var nativeLoc = sdk.token.parseFromUrl._getLocation();\n  var hash = nativeLoc.hash;\n  if (url) {\n    hash = url.substring(url.indexOf('#'));\n  }\n\n  if (!hash) {\n    return Q.reject(new AuthSdkError('Unable to parse a token from the url'));\n  }\n\n  var oauthParamsCookie = cookies.get(constants.REDIRECT_OAUTH_PARAMS_COOKIE_NAME);\n  if (!oauthParamsCookie) {\n    return Q.reject(new AuthSdkError('Unable to retrieve OAuth redirect params cookie'));\n  }\n\n  try {\n    var oauthParams = JSON.parse(oauthParamsCookie);\n    var urls = oauthParams.urls;\n    delete oauthParams.urls;\n    cookies.delete(constants.REDIRECT_OAUTH_PARAMS_COOKIE_NAME);\n  } catch(e) {\n    return Q.reject(new AuthSdkError('Unable to parse the ' +\n    constants.REDIRECT_OAUTH_PARAMS_COOKIE_NAME + ' cookie: ' + e.message));\n  }\n\n  return Q.resolve(oauthUtil.hashToObject(hash))\n    .then(function(res) {\n      if (!url) {\n        // Remove the hash from the url\n        removeHash(sdk);\n      }\n      return handleOAuthResponse(sdk, oauthParams, res, urls);\n    });\n}\n\nfunction getUserInfo(sdk, accessTokenObject) {\n  if (!accessTokenObject ||\n      (!oauthUtil.isToken(accessTokenObject) && !accessTokenObject.accessToken && !accessTokenObject.userinfoUrl)) {\n    return Q.reject(new AuthSdkError('getUserInfo requires an access token object'));\n  }\n  return http.httpRequest(sdk, {\n    url: accessTokenObject.userinfoUrl,\n    method: 'GET',\n    accessToken: accessTokenObject.accessToken\n  })\n  .fail(function(err) {\n    if (err.xhr && (err.xhr.status === 401 || err.xhr.status === 403)) {\n      var authenticateHeader;\n      if (err.xhr.headers && util.isFunction(err.xhr.headers.get) && err.xhr.headers.get('WWW-Authenticate')) {\n        authenticateHeader = err.xhr.headers.get('WWW-Authenticate');\n      } else if (util.isFunction(err.xhr.getResponseHeader)) {\n        authenticateHeader = err.xhr.getResponseHeader('WWW-Authenticate');\n      }\n      if (authenticateHeader) {\n        var errorMatches = authenticateHeader.match(/error=\"(.*?)\"/) || [];\n        var errorDescriptionMatches = authenticateHeader.match(/error_description=\"(.*?)\"/) || [];\n        var error = errorMatches[1];\n        var errorDescription = errorDescriptionMatches[1];\n        if (error && errorDescription) {\n          err = new OAuthError(error, errorDescription);\n        }\n      }\n    }\n    throw err;\n  });\n}\n\nmodule.exports = {\n  revokeToken: revokeToken,\n  getToken: getToken,\n  getWithoutPrompt: getWithoutPrompt,\n  getWithPopup: getWithPopup,\n  getWithRedirect: getWithRedirect,\n  parseFromUrl: parseFromUrl,\n  decodeToken: decodeToken,\n  renewToken: renewToken,\n  getUserInfo: getUserInfo,\n  verifyToken: verifyToken,\n  handleOAuthResponse: handleOAuthResponse,\n  prepareOauthParams: prepareOauthParams\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/token.js\n// module id = 25\n// module chunks = 0","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nvar util = require('./util');\n\nfunction verifyToken(idToken, key) {\n  key = util.clone(key);\n\n  var format = 'jwk';\n  var algo = {\n    name: 'RSASSA-PKCS1-v1_5',\n    hash: { name: 'SHA-256' }\n  };\n  var extractable = true;\n  var usages = ['verify'];\n\n  // https://connect.microsoft.com/IE/feedback/details/2242108/webcryptoapi-importing-jwk-with-use-field-fails\n  // This is a metadata tag that specifies the intent of how the key should be used.\n  // It's not necessary to properly verify the jwt's signature.\n  delete key.use;\n\n  return crypto.subtle.importKey(\n    format,\n    key,\n    algo,\n    extractable,\n    usages\n  )\n  .then(function(cryptoKey) {\n    var jwt = idToken.split('.');\n    var payload = util.stringToBuffer(jwt[0] + '.' + jwt[1]);\n    var b64Signature = util.base64UrlDecode(jwt[2]);\n    var signature = util.stringToBuffer(b64Signature);\n\n    return crypto.subtle.verify(\n      algo,\n      cryptoKey,\n      signature,\n      payload\n    );\n  });\n}\n\nmodule.exports = {\n  verifyToken: verifyToken\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/crypto.js\n// module id = 26\n// module chunks = 0","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nfunction OAuthError(errorCode, summary) {\n  this.name = 'OAuthError';\n  this.message = summary;\n\n  this.errorCode = errorCode;\n  this.errorSummary = summary;\n}\nOAuthError.prototype = new Error();\n\nmodule.exports = OAuthError;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/errors/OAuthError.js\n// module id = 27\n// module chunks = 0","/*!\n * Copyright (c) 2019-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n /* eslint-disable complexity, max-statements */\nvar AuthSdkError  = require('./errors/AuthSdkError');\nvar http          = require('./http');\nvar util          = require('./util');\n\n// Code verifier: Random URL-safe string with a minimum length of 43 characters.\n// Code challenge: Base64 URL-encoded SHA-256 hash of the code verifier.\nvar MIN_VERIFIER_LENGTH = 43;\nvar MAX_VERIFIER_LENGTH = 128;\nvar DEFAULT_CODE_CHALLENGE_METHOD = 'S256';\n\nfunction dec2hex (dec) {\n  return ('0' + dec.toString(16)).substr(-2);\n}\n\nfunction getRandomString(length) {\n  var a = new Uint8Array(Math.ceil(length / 2));\n  crypto.getRandomValues(a);\n  var str = Array.from(a, dec2hex).join('');\n  return str.slice(0, length);\n}\n\nfunction generateVerifier(prefix) {\n  var verifier = prefix || '';\n  if (verifier.length < MIN_VERIFIER_LENGTH) {\n    verifier = verifier + getRandomString(MIN_VERIFIER_LENGTH - verifier.length);\n  }\n  return encodeURIComponent(verifier).slice(0, MAX_VERIFIER_LENGTH);\n}\n\nfunction saveMeta(sdk, meta) {\n  var storage = sdk.options.storageUtil.getPKCEStorage();\n  storage.setStorage(meta);\n}\n\nfunction loadMeta(sdk) {\n  var storage = sdk.options.storageUtil.getPKCEStorage();\n  var obj = storage.getStorage();\n  return obj;\n}\n\nfunction clearMeta(sdk) {\n  var storage = sdk.options.storageUtil.getPKCEStorage();\n  storage.clearStorage();\n}\n\n/* global Uint8Array, TextEncoder */\nfunction computeChallenge(str) {  \n  var buffer = new TextEncoder().encode(str);\n  return crypto.subtle.digest('SHA-256', buffer).then(function(arrayBuffer) {\n    var hash = String.fromCharCode.apply(null, new Uint8Array(arrayBuffer));\n    var b64u = util.stringToBase64Url(hash); // url-safe base64 variant\n    return b64u;\n  });\n}\n\n\nfunction validateOptions(oauthOptions) {\n  // Quick validation\n  if (!oauthOptions.clientId) {\n    throw new AuthSdkError('A clientId must be specified in the OktaAuth constructor to get a token');\n  }\n\n  if (!oauthOptions.redirectUri) {\n    throw new AuthSdkError('The redirectUri passed to /authorize must also be passed to /token');\n  }\n\n  if (!oauthOptions.authorizationCode) {\n    throw new AuthSdkError('An authorization code (returned from /authorize) must be passed to /token');\n  }\n\n  if (!oauthOptions.codeVerifier) {\n    throw new AuthSdkError('The \"codeVerifier\" (generated and saved by your app) must be passed to /token');\n  }\n}\n\nfunction getPostData(options) {\n  // Convert options to OAuth params\n  var params = util.removeNils({\n    'client_id': options.clientId,\n    'redirect_uri': options.redirectUri,\n    'grant_type': 'authorization_code',\n    'code': options.authorizationCode,\n    'code_verifier': options.codeVerifier\n  });\n  // Encode as URL string\n  return util.toQueryParams(params).slice(1);\n}\n\n// exchange authorization code for an access token\nfunction getToken(sdk, oauthOptions, urls) {\n  validateOptions(oauthOptions);\n  var data = getPostData(oauthOptions);\n\n  return http.httpRequest(sdk, {\n    url: urls.tokenUrl,\n    method: 'POST',\n    args: data,\n    withCredentials: false,\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded'\n    }\n  });\n}\n\nmodule.exports = {\n  DEFAULT_CODE_CHALLENGE_METHOD: DEFAULT_CODE_CHALLENGE_METHOD,\n  generateVerifier: generateVerifier,\n  clearMeta: clearMeta,\n  saveMeta: saveMeta,\n  loadMeta: loadMeta,\n  computeChallenge: computeChallenge,\n  getToken: getToken\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/pkce.js\n// module id = 28\n// module chunks = 0","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* eslint complexity:[0,8] max-statements:[0,21] */\nvar util = require('./util');\nvar AuthSdkError = require('./errors/AuthSdkError');\nvar storageUtil = require('./browser/browserStorage');\nvar Q = require('q');\nvar constants = require('./constants');\nvar storageBuilder = require('./storageBuilder');\nvar SdkClock = require('./clock');\n\nvar DEFAULT_OPTIONS = {\n  autoRenew: true,\n  storage: 'localStorage',\n  expireEarlySeconds: 30\n};\n\nfunction getExpireTime(tokenMgmtRef, token) {\n  var expireTime = token.expiresAt - tokenMgmtRef.options.expireEarlySeconds;\n  return expireTime;\n}\n\nfunction hasExpired(tokenMgmtRef, token) {\n  var expireTime = getExpireTime(tokenMgmtRef, token);\n  return expireTime <= tokenMgmtRef.clock.now();\n}\n\nfunction emitExpired(tokenMgmtRef, key, token) {\n  tokenMgmtRef.emitter.emit('expired', key, token);\n}\n\nfunction emitError(tokenMgmtRef, error) {\n  tokenMgmtRef.emitter.emit('error', error);\n}\n\nfunction clearExpireEventTimeout(tokenMgmtRef, key) {\n  clearTimeout(tokenMgmtRef.expireTimeouts[key]);\n  delete tokenMgmtRef.expireTimeouts[key];\n\n  // Remove the renew promise (if it exists)\n  delete tokenMgmtRef.renewPromise[key];\n}\n\nfunction clearExpireEventTimeoutAll(tokenMgmtRef) {\n  var expireTimeouts = tokenMgmtRef.expireTimeouts;\n  for (var key in expireTimeouts) {\n    if (!expireTimeouts.hasOwnProperty(key)) {\n      continue;\n    }\n    clearExpireEventTimeout(tokenMgmtRef, key);\n  }\n}\n\nfunction setExpireEventTimeout(sdk, tokenMgmtRef, key, token) {\n  var expireTime = getExpireTime(tokenMgmtRef, token);\n  var expireEventWait = Math.max(expireTime - tokenMgmtRef.clock.now(), 0) * 1000;\n\n  // Clear any existing timeout\n  clearExpireEventTimeout(tokenMgmtRef, key);\n\n  var expireEventTimeout = setTimeout(function() {\n    emitExpired(tokenMgmtRef, key, token);\n  }, expireEventWait);\n\n  // Add a new timeout\n  tokenMgmtRef.expireTimeouts[key] = expireEventTimeout;\n}\n\nfunction setExpireEventTimeoutAll(sdk, tokenMgmtRef, storage) {\n  try {\n    var tokenStorage = storage.getStorage();\n  } catch(e) {\n    // Any errors thrown on instantiation will not be caught,\n    // because there are no listeners yet\n    emitError(tokenMgmtRef, e);\n    return;\n  }\n\n  for(var key in tokenStorage) {\n    if (!tokenStorage.hasOwnProperty(key)) {\n      continue;\n    }\n    var token = tokenStorage[key];\n    setExpireEventTimeout(sdk, tokenMgmtRef, key, token);\n  }\n}\n\nfunction add(sdk, tokenMgmtRef, storage, key, token) {\n  var tokenStorage = storage.getStorage();\n  if (!util.isObject(token) ||\n      !token.scopes ||\n      (!token.expiresAt && token.expiresAt !== 0) ||\n      (!token.idToken && !token.accessToken)) {\n    throw new AuthSdkError('Token must be an Object with scopes, expiresAt, and an idToken or accessToken properties');\n  }\n  tokenStorage[key] = token;\n  storage.setStorage(tokenStorage);\n  setExpireEventTimeout(sdk, tokenMgmtRef, key, token);\n}\n\nfunction get(storage, key) {\n  var tokenStorage = storage.getStorage();\n  return tokenStorage[key];\n}\n\nfunction getAsync(sdk, tokenMgmtRef, storage, key) {\n  return Q.Promise(function(resolve) {\n    var token = get(storage, key);\n    if (!token || !hasExpired(tokenMgmtRef, token)) {\n      return resolve(token);\n    }\n\n    var tokenPromise = tokenMgmtRef.options.autoRenew\n      ? renew(sdk, tokenMgmtRef, storage, key)\n      : remove(tokenMgmtRef, storage, key);\n\n    return resolve(tokenPromise);\n  });\n}\n\nfunction remove(tokenMgmtRef, storage, key) {\n  // Clear any listener for this token\n  clearExpireEventTimeout(tokenMgmtRef, key);\n\n  // Remove it from storage\n  var tokenStorage = storage.getStorage();\n  delete tokenStorage[key];\n  storage.setStorage(tokenStorage);\n}\n\nfunction renew(sdk, tokenMgmtRef, storage, key) {\n  // Multiple callers may receive the same promise. They will all resolve or reject from the same request.\n  var existingPromise = tokenMgmtRef.renewPromise[key];\n  if (existingPromise) {\n    return existingPromise;\n  }\n\n  try {\n    var token = get(storage, key);\n    if (!token) {\n      throw new AuthSdkError('The tokenManager has no token for the key: ' + key);\n    }\n  } catch (e) {\n    return Q.reject(e);\n  }\n\n  // Remove existing autoRenew timeout for this key\n  clearExpireEventTimeout(tokenMgmtRef, key);\n\n  // Store the renew promise state, to avoid renewing again\n  tokenMgmtRef.renewPromise[key] = sdk.token.renew(token)\n    .then(function(freshTokens) {\n      var freshToken = freshTokens;\n      // With PKCE flow we will receive multiple tokens. Find the one we are looking for\n      if (freshTokens instanceof Array) {\n        freshToken = freshTokens.find(function(freshToken) {\n          return (freshToken.idToken && token.idToken) || (freshToken.accessToken && token.accessToken);\n        });\n      }\n\n      var oldToken = get(storage, key);\n      if (!oldToken) {\n        // It is possible to enter a state where the tokens have been cleared\n        // after a renewal request was triggered. To ensure we do not store a\n        // renewed token, we verify the promise key doesn't exist and return.\n        return;\n      }\n      add(sdk, tokenMgmtRef, storage, key, freshToken);\n      tokenMgmtRef.emitter.emit('renewed', key, freshToken, oldToken);\n      return freshToken;\n    })\n    .catch(function(err) {\n      if (err.name === 'OAuthError' || err.name === 'AuthSdkError') {\n        remove(tokenMgmtRef, storage, key);\n        err.tokenKey = key;\n        err.accessToken = !!token.accessToken;\n        emitError(tokenMgmtRef, err);\n      }\n      throw err;\n    })\n    .finally(function() {\n      // Remove existing promise key\n      delete tokenMgmtRef.renewPromise[key];\n    });\n\n  return tokenMgmtRef.renewPromise[key];\n}\n\nfunction clear(tokenMgmtRef, storage) {\n  clearExpireEventTimeoutAll(tokenMgmtRef);\n  storage.clearStorage();\n}\n\nfunction TokenManager(sdk, options) {\n  options = util.extend({}, DEFAULT_OPTIONS, util.removeNils(options));\n\n  if (options.storage === 'localStorage' && !storageUtil.browserHasLocalStorage()) {\n    util.warn('This browser doesn\\'t support localStorage. Switching to sessionStorage.');\n    options.storage = 'sessionStorage';\n  }\n\n  if (options.storage === 'sessionStorage' && !storageUtil.browserHasSessionStorage()) {\n    util.warn('This browser doesn\\'t support sessionStorage. Switching to cookie-based storage.');\n    options.storage = 'cookie';\n  }\n\n  var storageProvider;\n  if (typeof options.storage === 'object') {\n    // A custom storage provider must implement getItem(key) and setItem(key, val)\n    storageProvider = options.storage;\n  } else {\n    switch(options.storage) {\n      case 'localStorage':\n        storageProvider = localStorage;\n        break;\n      case 'sessionStorage':\n        storageProvider = sessionStorage;\n        break;\n      case 'cookie':\n        storageProvider = storageUtil.getCookieStorage(options);\n        break;\n      case 'memory':\n        storageProvider = storageUtil.getInMemoryStorage();\n        break;\n      default:\n        throw new AuthSdkError('Unrecognized storage option');\n    }\n  }\n  var storageKey = options.storageKey || constants.TOKEN_STORAGE_NAME;\n  var storage = storageBuilder(storageProvider, storageKey);\n  var clock = SdkClock.create(sdk, options);\n  var tokenMgmtRef = {\n    clock: clock,\n    options: options,\n    emitter: sdk.emitter,\n    expireTimeouts: {},\n    renewPromise: {}\n  };\n\n  this.add = util.bind(add, this, sdk, tokenMgmtRef, storage);\n  this.get = util.bind(getAsync, this, sdk, tokenMgmtRef, storage);\n  this.remove = util.bind(remove, this, tokenMgmtRef, storage);\n  this.clear = util.bind(clear, this, tokenMgmtRef, storage);\n  this.renew = util.bind(renew, this, sdk, tokenMgmtRef, storage);\n  this.on = util.bind(tokenMgmtRef.emitter.on, tokenMgmtRef.emitter);\n  this.off = util.bind(tokenMgmtRef.emitter.off, tokenMgmtRef.emitter);\n\n  setExpireEventTimeoutAll(sdk, tokenMgmtRef, storage);\n}\n\nmodule.exports = TokenManager;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/TokenManager.js\n// module id = 29\n// module chunks = 0","var util = require('./util');\n\nfunction SdkClock(localOffset) {\n  // Calculated local clock offset from server time (in milliseconds). Can be positive or negative.\n  this.localOffset = parseInt(localOffset || 0);\n}\n\nutil.extend(SdkClock.prototype, {\n  // Return the current time (in seconds)\n  now: function() {\n    var now = (Date.now() + this.localOffset) / 1000;\n    return now;\n  }\n});\n\n// factory method. Create an instance of a clock from current context.\nSdkClock.create = function(/* sdk, options */) {\n  // TODO: calculate localOffset\n  var localOffset = 0;\n  return new SdkClock(localOffset);\n};\n\nmodule.exports = SdkClock;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/clock.js\n// module id = 30\n// module chunks = 0"],"sourceRoot":""},"metadata":{},"sourceType":"script"}